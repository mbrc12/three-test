{
"version":3,
"file":"module$node_modules$three$three.js",
"lineCount":1169,
"mappings":"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",
"sources":["node_modules/three/three.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$three$three\"] = function(global,require,module,exports) {\nvar self = self || {};// File:src/Three.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nvar THREE = { REVISION: '77' };\r\n\r\n//\r\n\r\nif ( typeof define === 'function' && define.amd ) {\r\n\r\n\tdefine( 'three', THREE );\r\n\r\n} else if ( 'undefined' !== typeof exports && 'undefined' !== typeof module ) {\r\n\r\n\tmodule.exports = THREE;\r\n\r\n}\r\n\r\n// Polyfills\r\n\r\nif ( Number.EPSILON === undefined ) {\r\n\r\n\tNumber.EPSILON = Math.pow( 2, - 52 );\r\n\r\n}\r\n\r\n//\r\n\r\nif ( Math.sign === undefined ) {\r\n\r\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\r\n\r\n\tMath.sign = function ( x ) {\r\n\r\n\t\treturn ( x < 0 ) ? - 1 : ( x > 0 ) ? 1 : + x;\r\n\r\n\t};\r\n\r\n}\r\n\r\nif ( Function.prototype.name === undefined ) {\r\n\r\n\t// Missing in IE9-11.\r\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\r\n\r\n\tObject.defineProperty( Function.prototype, 'name', {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.toString().match( /^\\s*function\\s*(\\S*)\\s*\\(/ )[ 1 ];\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n}\r\n\r\nif ( Object.assign === undefined ) {\r\n\r\n\t// Missing in IE.\r\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\r\n\r\n\t( function () {\r\n\r\n\t\tObject.assign = function ( target ) {\r\n\r\n\t\t\t'use strict';\r\n\r\n\t\t\tif ( target === undefined || target === null ) {\r\n\r\n\t\t\t\tthrow new TypeError( 'Cannot convert undefined or null to object' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar output = Object( target );\r\n\r\n\t\t\tfor ( var index = 1; index < arguments.length; index ++ ) {\r\n\r\n\t\t\t\tvar source = arguments[ index ];\r\n\r\n\t\t\t\tif ( source !== undefined && source !== null ) {\r\n\r\n\t\t\t\t\tfor ( var nextKey in source ) {\r\n\r\n\t\t\t\t\t\tif ( Object.prototype.hasOwnProperty.call( source, nextKey ) ) {\r\n\r\n\t\t\t\t\t\t\toutput[ nextKey ] = source[ nextKey ];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn output;\r\n\r\n\t\t};\r\n\r\n\t} )();\r\n\r\n}\r\n\r\n//\r\n\r\nObject.assign( THREE, {\r\n\r\n\t// https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent.button\r\n\r\n\tMOUSE: { LEFT: 0, MIDDLE: 1, RIGHT: 2 },\r\n\r\n\t// GL STATE CONSTANTS\r\n\r\n\tCullFaceNone: 0,\r\n\tCullFaceBack: 1,\r\n\tCullFaceFront: 2,\r\n\tCullFaceFrontBack: 3,\r\n\r\n\tFrontFaceDirectionCW: 0,\r\n\tFrontFaceDirectionCCW: 1,\r\n\r\n\t// SHADOWING TYPES\r\n\r\n\tBasicShadowMap: 0,\r\n\tPCFShadowMap: 1,\r\n\tPCFSoftShadowMap: 2,\r\n\r\n\t// MATERIAL CONSTANTS\r\n\r\n\t// side\r\n\r\n\tFrontSide: 0,\r\n\tBackSide: 1,\r\n\tDoubleSide: 2,\r\n\r\n\t// shading\r\n\r\n\tFlatShading: 1,\r\n\tSmoothShading: 2,\r\n\r\n\t// colors\r\n\r\n\tNoColors: 0,\r\n\tFaceColors: 1,\r\n\tVertexColors: 2,\r\n\r\n\t// blending modes\r\n\r\n\tNoBlending: 0,\r\n\tNormalBlending: 1,\r\n\tAdditiveBlending: 2,\r\n\tSubtractiveBlending: 3,\r\n\tMultiplyBlending: 4,\r\n\tCustomBlending: 5,\r\n\r\n\t// custom blending equations\r\n\t// (numbers start from 100 not to clash with other\r\n\t// mappings to OpenGL constants defined in Texture.js)\r\n\r\n\tAddEquation: 100,\r\n\tSubtractEquation: 101,\r\n\tReverseSubtractEquation: 102,\r\n\tMinEquation: 103,\r\n\tMaxEquation: 104,\r\n\r\n\t// custom blending destination factors\r\n\r\n\tZeroFactor: 200,\r\n\tOneFactor: 201,\r\n\tSrcColorFactor: 202,\r\n\tOneMinusSrcColorFactor: 203,\r\n\tSrcAlphaFactor: 204,\r\n\tOneMinusSrcAlphaFactor: 205,\r\n\tDstAlphaFactor: 206,\r\n\tOneMinusDstAlphaFactor: 207,\r\n\r\n\t// custom blending source factors\r\n\r\n\t//ZeroFactor: 200,\r\n\t//OneFactor: 201,\r\n\t//SrcAlphaFactor: 204,\r\n\t//OneMinusSrcAlphaFactor: 205,\r\n\t//DstAlphaFactor: 206,\r\n\t//OneMinusDstAlphaFactor: 207,\r\n\tDstColorFactor: 208,\r\n\tOneMinusDstColorFactor: 209,\r\n\tSrcAlphaSaturateFactor: 210,\r\n\r\n\t// depth modes\r\n\r\n\tNeverDepth: 0,\r\n\tAlwaysDepth: 1,\r\n\tLessDepth: 2,\r\n\tLessEqualDepth: 3,\r\n\tEqualDepth: 4,\r\n\tGreaterEqualDepth: 5,\r\n\tGreaterDepth: 6,\r\n\tNotEqualDepth: 7,\r\n\r\n\r\n\t// TEXTURE CONSTANTS\r\n\r\n\tMultiplyOperation: 0,\r\n\tMixOperation: 1,\r\n\tAddOperation: 2,\r\n\r\n\t// Tone Mapping modes\r\n\r\n\tNoToneMapping: 0, // do not do any tone mapping, not even exposure (required for special purpose passes.)\r\n\tLinearToneMapping: 1, // only apply exposure.\r\n\tReinhardToneMapping: 2,\r\n\tUncharted2ToneMapping: 3, // John Hable\r\n\tCineonToneMapping: 4, // optimized filmic operator by Jim Hejl and Richard Burgess-Dawson\r\n\r\n\t// Mapping modes\r\n\r\n\tUVMapping: 300,\r\n\r\n\tCubeReflectionMapping: 301,\r\n\tCubeRefractionMapping: 302,\r\n\r\n\tEquirectangularReflectionMapping: 303,\r\n\tEquirectangularRefractionMapping: 304,\r\n\r\n\tSphericalReflectionMapping: 305,\r\n\tCubeUVReflectionMapping: 306,\r\n\tCubeUVRefractionMapping: 307,\r\n\r\n\t// Wrapping modes\r\n\r\n\tRepeatWrapping: 1000,\r\n\tClampToEdgeWrapping: 1001,\r\n\tMirroredRepeatWrapping: 1002,\r\n\r\n\t// Filters\r\n\r\n\tNearestFilter: 1003,\r\n\tNearestMipMapNearestFilter: 1004,\r\n\tNearestMipMapLinearFilter: 1005,\r\n\tLinearFilter: 1006,\r\n\tLinearMipMapNearestFilter: 1007,\r\n\tLinearMipMapLinearFilter: 1008,\r\n\r\n\t// Data types\r\n\r\n\tUnsignedByteType: 1009,\r\n\tByteType: 1010,\r\n\tShortType: 1011,\r\n\tUnsignedShortType: 1012,\r\n\tIntType: 1013,\r\n\tUnsignedIntType: 1014,\r\n\tFloatType: 1015,\r\n\tHalfFloatType: 1025,\r\n\r\n\t// Pixel types\r\n\r\n\t//UnsignedByteType: 1009,\r\n\tUnsignedShort4444Type: 1016,\r\n\tUnsignedShort5551Type: 1017,\r\n\tUnsignedShort565Type: 1018,\r\n\r\n\t// Pixel formats\r\n\r\n\tAlphaFormat: 1019,\r\n\tRGBFormat: 1020,\r\n\tRGBAFormat: 1021,\r\n\tLuminanceFormat: 1022,\r\n\tLuminanceAlphaFormat: 1023,\r\n\t// THREE.RGBEFormat handled as THREE.RGBAFormat in shaders\r\n\tRGBEFormat: THREE.RGBAFormat, //1024;\r\n\tDepthFormat: 1026,\r\n\r\n\t// DDS / ST3C Compressed texture formats\r\n\r\n\tRGB_S3TC_DXT1_Format: 2001,\r\n\tRGBA_S3TC_DXT1_Format: 2002,\r\n\tRGBA_S3TC_DXT3_Format: 2003,\r\n\tRGBA_S3TC_DXT5_Format: 2004,\r\n\r\n\t// PVRTC compressed texture formats\r\n\r\n\tRGB_PVRTC_4BPPV1_Format: 2100,\r\n\tRGB_PVRTC_2BPPV1_Format: 2101,\r\n\tRGBA_PVRTC_4BPPV1_Format: 2102,\r\n\tRGBA_PVRTC_2BPPV1_Format: 2103,\r\n\r\n\t// ETC compressed texture formats\r\n\r\n\tRGB_ETC1_Format: 2151,\r\n\r\n\t// Loop styles for AnimationAction\r\n\r\n\tLoopOnce: 2200,\r\n\tLoopRepeat: 2201,\r\n\tLoopPingPong: 2202,\r\n\r\n\t// Interpolation\r\n\r\n\tInterpolateDiscrete: 2300,\r\n\tInterpolateLinear: 2301,\r\n\tInterpolateSmooth: 2302,\r\n\r\n\t// Interpolant ending modes\r\n\r\n\tZeroCurvatureEnding: 2400,\r\n\tZeroSlopeEnding: 2401,\r\n\tWrapAroundEnding: 2402,\r\n\r\n\t// Triangle Draw modes\r\n\r\n\tTrianglesDrawMode: 0,\r\n\tTriangleStripDrawMode: 1,\r\n\tTriangleFanDrawMode: 2,\r\n\r\n\t// Texture Encodings\r\n\r\n\tLinearEncoding: 3000, // No encoding at all.\r\n\tsRGBEncoding: 3001,\r\n\tGammaEncoding: 3007, // uses GAMMA_FACTOR, for backwards compatibility with WebGLRenderer.gammaInput/gammaOutput\r\n\r\n\t// The following Texture Encodings are for RGB-only (no alpha) HDR light emission sources.\r\n\t// These encodings should not specified as output encodings except in rare situations.\r\n\tRGBEEncoding: 3002, // AKA Radiance.\r\n\tLogLuvEncoding: 3003,\r\n\tRGBM7Encoding: 3004,\r\n\tRGBM16Encoding: 3005,\r\n\tRGBDEncoding: 3006, // MaxRange is 256.\r\n\r\n\t// Depth packing strategies\r\n\r\n\tBasicDepthPacking: 3200, // for writing to float textures for high precision or for visualizing results in RGB buffers\r\n\tRGBADepthPacking: 3201 // for packing into RGBA buffers.\r\n\r\n} );\r\n\r\n// File:src/math/Color.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.Color = function ( r, g, b ) {\r\n\r\n\tif ( g === undefined && b === undefined ) {\r\n\r\n\t\t// r is THREE.Color, hex or string\r\n\t\treturn this.set( r );\r\n\r\n\t}\r\n\r\n\treturn this.setRGB( r, g, b );\r\n\r\n};\r\n\r\nTHREE.Color.prototype = {\r\n\r\n\tconstructor: THREE.Color,\r\n\r\n\tr: 1, g: 1, b: 1,\r\n\r\n\tset: function ( value ) {\r\n\r\n\t\tif ( value instanceof THREE.Color ) {\r\n\r\n\t\t\tthis.copy( value );\r\n\r\n\t\t} else if ( typeof value === 'number' ) {\r\n\r\n\t\t\tthis.setHex( value );\r\n\r\n\t\t} else if ( typeof value === 'string' ) {\r\n\r\n\t\t\tthis.setStyle( value );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetScalar: function ( scalar ) {\r\n\r\n\t\tthis.r = scalar;\r\n\t\tthis.g = scalar;\r\n\t\tthis.b = scalar;\r\n\r\n\t},\r\n\r\n\tsetHex: function ( hex ) {\r\n\r\n\t\thex = Math.floor( hex );\r\n\r\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\r\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\r\n\t\tthis.b = ( hex & 255 ) / 255;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetRGB: function ( r, g, b ) {\r\n\r\n\t\tthis.r = r;\r\n\t\tthis.g = g;\r\n\t\tthis.b = b;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetHSL: function () {\r\n\r\n\t\tfunction hue2rgb( p, q, t ) {\r\n\r\n\t\t\tif ( t < 0 ) t += 1;\r\n\t\t\tif ( t > 1 ) t -= 1;\r\n\t\t\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\r\n\t\t\tif ( t < 1 / 2 ) return q;\r\n\t\t\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\r\n\t\t\treturn p;\r\n\r\n\t\t}\r\n\r\n\t\treturn function ( h, s, l ) {\r\n\r\n\t\t\t// h,s,l ranges are in 0.0 - 1.0\r\n\t\t\th = THREE.Math.euclideanModulo( h, 1 );\r\n\t\t\ts = THREE.Math.clamp( s, 0, 1 );\r\n\t\t\tl = THREE.Math.clamp( l, 0, 1 );\r\n\r\n\t\t\tif ( s === 0 ) {\r\n\r\n\t\t\t\tthis.r = this.g = this.b = l;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\r\n\t\t\t\tvar q = ( 2 * l ) - p;\r\n\r\n\t\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\r\n\t\t\t\tthis.g = hue2rgb( q, p, h );\r\n\t\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tsetStyle: function ( style ) {\r\n\r\n\t\tfunction handleAlpha( string ) {\r\n\r\n\t\t\tif ( string === undefined ) return;\r\n\r\n\t\t\tif ( parseFloat( string ) < 1 ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\r\n\t\tvar m;\r\n\r\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec( style ) ) {\r\n\r\n\t\t\t// rgb / hsl\r\n\r\n\t\t\tvar color;\r\n\t\t\tvar name = m[ 1 ];\r\n\t\t\tvar components = m[ 2 ];\r\n\r\n\t\t\tswitch ( name ) {\r\n\r\n\t\t\t\tcase 'rgb':\r\n\t\t\t\tcase 'rgba':\r\n\r\n\t\t\t\t\tif ( color = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\r\n\r\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\r\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\r\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\r\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\r\n\r\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\r\n\r\n\t\t\t\t\t\treturn this;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( color = /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\r\n\r\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\r\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\r\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\r\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\r\n\r\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\r\n\r\n\t\t\t\t\t\treturn this;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'hsl':\r\n\t\t\t\tcase 'hsla':\r\n\r\n\t\t\t\t\tif ( color = /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\r\n\r\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\r\n\t\t\t\t\t\tvar h = parseFloat( color[ 1 ] ) / 360;\r\n\t\t\t\t\t\tvar s = parseInt( color[ 2 ], 10 ) / 100;\r\n\t\t\t\t\t\tvar l = parseInt( color[ 3 ], 10 ) / 100;\r\n\r\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\r\n\r\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( m = /^\\#([A-Fa-f0-9]+)$/.exec( style ) ) {\r\n\r\n\t\t\t// hex color\r\n\r\n\t\t\tvar hex = m[ 1 ];\r\n\t\t\tvar size = hex.length;\r\n\r\n\t\t\tif ( size === 3 ) {\r\n\r\n\t\t\t\t// #ff0\r\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\r\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\r\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\r\n\r\n\t\t\t\treturn this;\r\n\r\n\t\t\t} else if ( size === 6 ) {\r\n\r\n\t\t\t\t// #ff0000\r\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\r\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\r\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\r\n\r\n\t\t\t\treturn this;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( style && style.length > 0 ) {\r\n\r\n\t\t\t// color keywords\r\n\t\t\tvar hex = THREE.ColorKeywords[ style ];\r\n\r\n\t\t\tif ( hex !== undefined ) {\r\n\r\n\t\t\t\t// red\r\n\t\t\t\tthis.setHex( hex );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// unknown color\r\n\t\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this.r, this.g, this.b );\r\n\r\n\t},\r\n\r\n\tcopy: function ( color ) {\r\n\r\n\t\tthis.r = color.r;\r\n\t\tthis.g = color.g;\r\n\t\tthis.b = color.b;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyGammaToLinear: function ( color, gammaFactor ) {\r\n\r\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\r\n\r\n\t\tthis.r = Math.pow( color.r, gammaFactor );\r\n\t\tthis.g = Math.pow( color.g, gammaFactor );\r\n\t\tthis.b = Math.pow( color.b, gammaFactor );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyLinearToGamma: function ( color, gammaFactor ) {\r\n\r\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\r\n\r\n\t\tvar safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\r\n\r\n\t\tthis.r = Math.pow( color.r, safeInverse );\r\n\t\tthis.g = Math.pow( color.g, safeInverse );\r\n\t\tthis.b = Math.pow( color.b, safeInverse );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tconvertGammaToLinear: function () {\r\n\r\n\t\tvar r = this.r, g = this.g, b = this.b;\r\n\r\n\t\tthis.r = r * r;\r\n\t\tthis.g = g * g;\r\n\t\tthis.b = b * b;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tconvertLinearToGamma: function () {\r\n\r\n\t\tthis.r = Math.sqrt( this.r );\r\n\t\tthis.g = Math.sqrt( this.g );\r\n\t\tthis.b = Math.sqrt( this.b );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetHex: function () {\r\n\r\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\r\n\r\n\t},\r\n\r\n\tgetHexString: function () {\r\n\r\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\r\n\r\n\t},\r\n\r\n\tgetHSL: function ( optionalTarget ) {\r\n\r\n\t\t// h,s,l ranges are in 0.0 - 1.0\r\n\r\n\t\tvar hsl = optionalTarget || { h: 0, s: 0, l: 0 };\r\n\r\n\t\tvar r = this.r, g = this.g, b = this.b;\r\n\r\n\t\tvar max = Math.max( r, g, b );\r\n\t\tvar min = Math.min( r, g, b );\r\n\r\n\t\tvar hue, saturation;\r\n\t\tvar lightness = ( min + max ) / 2.0;\r\n\r\n\t\tif ( min === max ) {\r\n\r\n\t\t\thue = 0;\r\n\t\t\tsaturation = 0;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar delta = max - min;\r\n\r\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\r\n\r\n\t\t\tswitch ( max ) {\r\n\r\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\r\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\r\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\r\n\r\n\t\t\t}\r\n\r\n\t\t\thue /= 6;\r\n\r\n\t\t}\r\n\r\n\t\thsl.h = hue;\r\n\t\thsl.s = saturation;\r\n\t\thsl.l = lightness;\r\n\r\n\t\treturn hsl;\r\n\r\n\t},\r\n\r\n\tgetStyle: function () {\r\n\r\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\r\n\r\n\t},\r\n\r\n\toffsetHSL: function ( h, s, l ) {\r\n\r\n\t\tvar hsl = this.getHSL();\r\n\r\n\t\thsl.h += h; hsl.s += s; hsl.l += l;\r\n\r\n\t\tthis.setHSL( hsl.h, hsl.s, hsl.l );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tadd: function ( color ) {\r\n\r\n\t\tthis.r += color.r;\r\n\t\tthis.g += color.g;\r\n\t\tthis.b += color.b;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddColors: function ( color1, color2 ) {\r\n\r\n\t\tthis.r = color1.r + color2.r;\r\n\t\tthis.g = color1.g + color2.g;\r\n\t\tthis.b = color1.b + color2.b;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddScalar: function ( s ) {\r\n\r\n\t\tthis.r += s;\r\n\t\tthis.g += s;\r\n\t\tthis.b += s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiply: function ( color ) {\r\n\r\n\t\tthis.r *= color.r;\r\n\t\tthis.g *= color.g;\r\n\t\tthis.b *= color.b;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiplyScalar: function ( s ) {\r\n\r\n\t\tthis.r *= s;\r\n\t\tthis.g *= s;\r\n\t\tthis.b *= s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tlerp: function ( color, alpha ) {\r\n\r\n\t\tthis.r += ( color.r - this.r ) * alpha;\r\n\t\tthis.g += ( color.g - this.g ) * alpha;\r\n\t\tthis.b += ( color.b - this.b ) * alpha;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tequals: function ( c ) {\r\n\r\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\r\n\r\n\t},\r\n\r\n\tfromArray: function ( array, offset ) {\r\n\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tthis.r = array[ offset ];\r\n\t\tthis.g = array[ offset + 1 ];\r\n\t\tthis.b = array[ offset + 2 ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoArray: function ( array, offset ) {\r\n\r\n\t\tif ( array === undefined ) array = [];\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tarray[ offset ] = this.r;\r\n\t\tarray[ offset + 1 ] = this.g;\r\n\t\tarray[ offset + 2 ] = this.b;\r\n\r\n\t\treturn array;\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.ColorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\r\n'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\r\n'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\r\n'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\r\n'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\r\n'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\r\n'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\r\n'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\r\n'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\r\n'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\r\n'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\r\n'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\r\n'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\r\n'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\r\n'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\r\n'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\r\n'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\r\n'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\r\n'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\r\n'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\r\n'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\r\n'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\r\n'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\r\n'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\r\n\r\n// File:src/math/Quaternion.js\r\n\r\n/**\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author WestLangley / http://github.com/WestLangley\r\n * @author bhouston / http://clara.io\r\n */\r\n\r\nTHREE.Quaternion = function ( x, y, z, w ) {\r\n\r\n\tthis._x = x || 0;\r\n\tthis._y = y || 0;\r\n\tthis._z = z || 0;\r\n\tthis._w = ( w !== undefined ) ? w : 1;\r\n\r\n};\r\n\r\nTHREE.Quaternion.prototype = {\r\n\r\n\tconstructor: THREE.Quaternion,\r\n\r\n\tget x () {\r\n\r\n\t\treturn this._x;\r\n\r\n\t},\r\n\r\n\tset x ( value ) {\r\n\r\n\t\tthis._x = value;\r\n\t\tthis.onChangeCallback();\r\n\r\n\t},\r\n\r\n\tget y () {\r\n\r\n\t\treturn this._y;\r\n\r\n\t},\r\n\r\n\tset y ( value ) {\r\n\r\n\t\tthis._y = value;\r\n\t\tthis.onChangeCallback();\r\n\r\n\t},\r\n\r\n\tget z () {\r\n\r\n\t\treturn this._z;\r\n\r\n\t},\r\n\r\n\tset z ( value ) {\r\n\r\n\t\tthis._z = value;\r\n\t\tthis.onChangeCallback();\r\n\r\n\t},\r\n\r\n\tget w () {\r\n\r\n\t\treturn this._w;\r\n\r\n\t},\r\n\r\n\tset w ( value ) {\r\n\r\n\t\tthis._w = value;\r\n\t\tthis.onChangeCallback();\r\n\r\n\t},\r\n\r\n\tset: function ( x, y, z, w ) {\r\n\r\n\t\tthis._x = x;\r\n\t\tthis._y = y;\r\n\t\tthis._z = z;\r\n\t\tthis._w = w;\r\n\r\n\t\tthis.onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\r\n\r\n\t},\r\n\r\n\tcopy: function ( quaternion ) {\r\n\r\n\t\tthis._x = quaternion.x;\r\n\t\tthis._y = quaternion.y;\r\n\t\tthis._z = quaternion.z;\r\n\t\tthis._w = quaternion.w;\r\n\r\n\t\tthis.onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromEuler: function ( euler, update ) {\r\n\r\n\t\tif ( euler instanceof THREE.Euler === false ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\r\n\r\n\t\t}\r\n\r\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\r\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\r\n\t\t//\tcontent/SpinCalc.m\r\n\r\n\t\tvar c1 = Math.cos( euler._x / 2 );\r\n\t\tvar c2 = Math.cos( euler._y / 2 );\r\n\t\tvar c3 = Math.cos( euler._z / 2 );\r\n\t\tvar s1 = Math.sin( euler._x / 2 );\r\n\t\tvar s2 = Math.sin( euler._y / 2 );\r\n\t\tvar s3 = Math.sin( euler._z / 2 );\r\n\r\n\t\tvar order = euler.order;\r\n\r\n\t\tif ( order === 'XYZ' ) {\r\n\r\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\r\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\r\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\r\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\r\n\r\n\t\t} else if ( order === 'YXZ' ) {\r\n\r\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\r\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\r\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\r\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\r\n\r\n\t\t} else if ( order === 'ZXY' ) {\r\n\r\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\r\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\r\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\r\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\r\n\r\n\t\t} else if ( order === 'ZYX' ) {\r\n\r\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\r\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\r\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\r\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\r\n\r\n\t\t} else if ( order === 'YZX' ) {\r\n\r\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\r\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\r\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\r\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\r\n\r\n\t\t} else if ( order === 'XZY' ) {\r\n\r\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\r\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\r\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\r\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\r\n\r\n\t\t}\r\n\r\n\t\tif ( update !== false ) this.onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromAxisAngle: function ( axis, angle ) {\r\n\r\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\r\n\r\n\t\t// assumes axis is normalized\r\n\r\n\t\tvar halfAngle = angle / 2, s = Math.sin( halfAngle );\r\n\r\n\t\tthis._x = axis.x * s;\r\n\t\tthis._y = axis.y * s;\r\n\t\tthis._z = axis.z * s;\r\n\t\tthis._w = Math.cos( halfAngle );\r\n\r\n\t\tthis.onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromRotationMatrix: function ( m ) {\r\n\r\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\r\n\r\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\r\n\r\n\t\tvar te = m.elements,\r\n\r\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\r\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\r\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\r\n\r\n\t\t\ttrace = m11 + m22 + m33,\r\n\t\t\ts;\r\n\r\n\t\tif ( trace > 0 ) {\r\n\r\n\t\t\ts = 0.5 / Math.sqrt( trace + 1.0 );\r\n\r\n\t\t\tthis._w = 0.25 / s;\r\n\t\t\tthis._x = ( m32 - m23 ) * s;\r\n\t\t\tthis._y = ( m13 - m31 ) * s;\r\n\t\t\tthis._z = ( m21 - m12 ) * s;\r\n\r\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\r\n\r\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\r\n\r\n\t\t\tthis._w = ( m32 - m23 ) / s;\r\n\t\t\tthis._x = 0.25 * s;\r\n\t\t\tthis._y = ( m12 + m21 ) / s;\r\n\t\t\tthis._z = ( m13 + m31 ) / s;\r\n\r\n\t\t} else if ( m22 > m33 ) {\r\n\r\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\r\n\r\n\t\t\tthis._w = ( m13 - m31 ) / s;\r\n\t\t\tthis._x = ( m12 + m21 ) / s;\r\n\t\t\tthis._y = 0.25 * s;\r\n\t\t\tthis._z = ( m23 + m32 ) / s;\r\n\r\n\t\t} else {\r\n\r\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\r\n\r\n\t\t\tthis._w = ( m21 - m12 ) / s;\r\n\t\t\tthis._x = ( m13 + m31 ) / s;\r\n\t\t\tthis._y = ( m23 + m32 ) / s;\r\n\t\t\tthis._z = 0.25 * s;\r\n\r\n\t\t}\r\n\r\n\t\tthis.onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromUnitVectors: function () {\r\n\r\n\t\t// http://lolengine.net/blog/2014/02/24/quaternion-from-two-vectors-final\r\n\r\n\t\t// assumes direction vectors vFrom and vTo are normalized\r\n\r\n\t\tvar v1, r;\r\n\r\n\t\tvar EPS = 0.000001;\r\n\r\n\t\treturn function ( vFrom, vTo ) {\r\n\r\n\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\r\n\r\n\t\t\tr = vFrom.dot( vTo ) + 1;\r\n\r\n\t\t\tif ( r < EPS ) {\r\n\r\n\t\t\t\tr = 0;\r\n\r\n\t\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\r\n\r\n\t\t\t\t\tv1.set( - vFrom.y, vFrom.x, 0 );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tv1.set( 0, - vFrom.z, vFrom.y );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tv1.crossVectors( vFrom, vTo );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis._x = v1.x;\r\n\t\t\tthis._y = v1.y;\r\n\t\t\tthis._z = v1.z;\r\n\t\t\tthis._w = r;\r\n\r\n\t\t\treturn this.normalize();\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tinverse: function () {\r\n\r\n\t\treturn this.conjugate().normalize();\r\n\r\n\t},\r\n\r\n\tconjugate: function () {\r\n\r\n\t\tthis._x *= - 1;\r\n\t\tthis._y *= - 1;\r\n\t\tthis._z *= - 1;\r\n\r\n\t\tthis.onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdot: function ( v ) {\r\n\r\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\r\n\r\n\t},\r\n\r\n\tlengthSq: function () {\r\n\r\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\r\n\r\n\t},\r\n\r\n\tlength: function () {\r\n\r\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\r\n\r\n\t},\r\n\r\n\tnormalize: function () {\r\n\r\n\t\tvar l = this.length();\r\n\r\n\t\tif ( l === 0 ) {\r\n\r\n\t\t\tthis._x = 0;\r\n\t\t\tthis._y = 0;\r\n\t\t\tthis._z = 0;\r\n\t\t\tthis._w = 1;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tl = 1 / l;\r\n\r\n\t\t\tthis._x = this._x * l;\r\n\t\t\tthis._y = this._y * l;\r\n\t\t\tthis._z = this._z * l;\r\n\t\t\tthis._w = this._w * l;\r\n\r\n\t\t}\r\n\r\n\t\tthis.onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiply: function ( q, p ) {\r\n\r\n\t\tif ( p !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\r\n\t\t\treturn this.multiplyQuaternions( q, p );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.multiplyQuaternions( this, q );\r\n\r\n\t},\r\n\r\n\tpremultiply: function ( q ) {\r\n\r\n\t\treturn this.multiplyQuaternions( q, this );\r\n\r\n\t},\r\n\r\n\tmultiplyQuaternions: function ( a, b ) {\r\n\r\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\r\n\r\n\t\tvar qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\r\n\t\tvar qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\r\n\r\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\r\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\r\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\r\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\r\n\r\n\t\tthis.onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tslerp: function ( qb, t ) {\r\n\r\n\t\tif ( t === 0 ) return this;\r\n\t\tif ( t === 1 ) return this.copy( qb );\r\n\r\n\t\tvar x = this._x, y = this._y, z = this._z, w = this._w;\r\n\r\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\r\n\r\n\t\tvar cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\r\n\r\n\t\tif ( cosHalfTheta < 0 ) {\r\n\r\n\t\t\tthis._w = - qb._w;\r\n\t\t\tthis._x = - qb._x;\r\n\t\t\tthis._y = - qb._y;\r\n\t\t\tthis._z = - qb._z;\r\n\r\n\t\t\tcosHalfTheta = - cosHalfTheta;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.copy( qb );\r\n\r\n\t\t}\r\n\r\n\t\tif ( cosHalfTheta >= 1.0 ) {\r\n\r\n\t\t\tthis._w = w;\r\n\t\t\tthis._x = x;\r\n\t\t\tthis._y = y;\r\n\t\t\tthis._z = z;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tvar sinHalfTheta = Math.sqrt( 1.0 - cosHalfTheta * cosHalfTheta );\r\n\r\n\t\tif ( Math.abs( sinHalfTheta ) < 0.001 ) {\r\n\r\n\t\t\tthis._w = 0.5 * ( w + this._w );\r\n\t\t\tthis._x = 0.5 * ( x + this._x );\r\n\t\t\tthis._y = 0.5 * ( y + this._y );\r\n\t\t\tthis._z = 0.5 * ( z + this._z );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tvar halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\r\n\t\tvar ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\r\n\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\r\n\r\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\r\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\r\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\r\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\r\n\r\n\t\tthis.onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tequals: function ( quaternion ) {\r\n\r\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\r\n\r\n\t},\r\n\r\n\tfromArray: function ( array, offset ) {\r\n\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tthis._x = array[ offset ];\r\n\t\tthis._y = array[ offset + 1 ];\r\n\t\tthis._z = array[ offset + 2 ];\r\n\t\tthis._w = array[ offset + 3 ];\r\n\r\n\t\tthis.onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoArray: function ( array, offset ) {\r\n\r\n\t\tif ( array === undefined ) array = [];\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tarray[ offset ] = this._x;\r\n\t\tarray[ offset + 1 ] = this._y;\r\n\t\tarray[ offset + 2 ] = this._z;\r\n\t\tarray[ offset + 3 ] = this._w;\r\n\r\n\t\treturn array;\r\n\r\n\t},\r\n\r\n\tonChange: function ( callback ) {\r\n\r\n\t\tthis.onChangeCallback = callback;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tonChangeCallback: function () {}\r\n\r\n};\r\n\r\nObject.assign( THREE.Quaternion, {\r\n\r\n\tslerp: function( qa, qb, qm, t ) {\r\n\r\n\t\treturn qm.copy( qa ).slerp( qb, t );\r\n\r\n\t},\r\n\r\n\tslerpFlat: function(\r\n\t\t\tdst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\r\n\r\n\t\t// fuzz-free, array-based Quaternion SLERP operation\r\n\r\n\t\tvar x0 = src0[ srcOffset0 + 0 ],\r\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\r\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\r\n\t\t\tw0 = src0[ srcOffset0 + 3 ],\r\n\r\n\t\t\tx1 = src1[ srcOffset1 + 0 ],\r\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\r\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\r\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\r\n\r\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\r\n\r\n\t\t\tvar s = 1 - t,\r\n\r\n\t\t\t\tcos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\r\n\r\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\r\n\t\t\t\tsqrSin = 1 - cos * cos;\r\n\r\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\r\n\t\t\tif ( sqrSin > Number.EPSILON ) {\r\n\r\n\t\t\t\tvar sin = Math.sqrt( sqrSin ),\r\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\r\n\r\n\t\t\t\ts = Math.sin( s * len ) / sin;\r\n\t\t\t\tt = Math.sin( t * len ) / sin;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar tDir = t * dir;\r\n\r\n\t\t\tx0 = x0 * s + x1 * tDir;\r\n\t\t\ty0 = y0 * s + y1 * tDir;\r\n\t\t\tz0 = z0 * s + z1 * tDir;\r\n\t\t\tw0 = w0 * s + w1 * tDir;\r\n\r\n\t\t\t// Normalize in case we just did a lerp:\r\n\t\t\tif ( s === 1 - t ) {\r\n\r\n\t\t\t\tvar f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\r\n\r\n\t\t\t\tx0 *= f;\r\n\t\t\t\ty0 *= f;\r\n\t\t\t\tz0 *= f;\r\n\t\t\t\tw0 *= f;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tdst[ dstOffset ] = x0;\r\n\t\tdst[ dstOffset + 1 ] = y0;\r\n\t\tdst[ dstOffset + 2 ] = z0;\r\n\t\tdst[ dstOffset + 3 ] = w0;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/math/Vector2.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author philogb / http://blog.thejit.org/\r\n * @author egraether / http://egraether.com/\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n */\r\n\r\nTHREE.Vector2 = function ( x, y ) {\r\n\r\n\tthis.x = x || 0;\r\n\tthis.y = y || 0;\r\n\r\n};\r\n\r\nTHREE.Vector2.prototype = {\r\n\r\n\tconstructor: THREE.Vector2,\r\n\r\n\tget width() {\r\n\r\n\t\treturn this.x;\r\n\r\n\t},\r\n\r\n\tset width( value ) {\r\n\r\n\t\tthis.x = value;\r\n\r\n\t},\r\n\r\n\tget height() {\r\n\r\n\t\treturn this.y;\r\n\r\n\t},\r\n\r\n\tset height( value ) {\r\n\r\n\t\tthis.y = value;\r\n\r\n\t},\r\n\r\n\t//\r\n\r\n\tset: function ( x, y ) {\r\n\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetScalar: function ( scalar ) {\r\n\r\n\t\tthis.x = scalar;\r\n\t\tthis.y = scalar;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetX: function ( x ) {\r\n\r\n\t\tthis.x = x;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetY: function ( y ) {\r\n\r\n\t\tthis.y = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetComponent: function ( index, value ) {\r\n\r\n\t\tswitch ( index ) {\r\n\r\n\t\t\tcase 0: this.x = value; break;\r\n\t\t\tcase 1: this.y = value; break;\r\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tgetComponent: function ( index ) {\r\n\r\n\t\tswitch ( index ) {\r\n\r\n\t\t\tcase 0: return this.x;\r\n\t\t\tcase 1: return this.y;\r\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this.x, this.y );\r\n\r\n\t},\r\n\r\n\tcopy: function ( v ) {\r\n\r\n\t\tthis.x = v.x;\r\n\t\tthis.y = v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tadd: function ( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\r\n\t\t\treturn this.addVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x += v.x;\r\n\t\tthis.y += v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddScalar: function ( s ) {\r\n\r\n\t\tthis.x += s;\r\n\t\tthis.y += s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddVectors: function ( a, b ) {\r\n\r\n\t\tthis.x = a.x + b.x;\r\n\t\tthis.y = a.y + b.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddScaledVector: function ( v, s ) {\r\n\r\n\t\tthis.x += v.x * s;\r\n\t\tthis.y += v.y * s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsub: function ( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\r\n\t\t\treturn this.subVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x -= v.x;\r\n\t\tthis.y -= v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsubScalar: function ( s ) {\r\n\r\n\t\tthis.x -= s;\r\n\t\tthis.y -= s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsubVectors: function ( a, b ) {\r\n\r\n\t\tthis.x = a.x - b.x;\r\n\t\tthis.y = a.y - b.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiply: function ( v ) {\r\n\r\n\t\tthis.x *= v.x;\r\n\t\tthis.y *= v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiplyScalar: function ( scalar ) {\r\n\r\n\t\tif ( isFinite( scalar ) ) {\r\n\r\n\t\t\tthis.x *= scalar;\r\n\t\t\tthis.y *= scalar;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.x = 0;\r\n\t\t\tthis.y = 0;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdivide: function ( v ) {\r\n\r\n\t\tthis.x /= v.x;\r\n\t\tthis.y /= v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdivideScalar: function ( scalar ) {\r\n\r\n\t\treturn this.multiplyScalar( 1 / scalar );\r\n\r\n\t},\r\n\r\n\tmin: function ( v ) {\r\n\r\n\t\tthis.x = Math.min( this.x, v.x );\r\n\t\tthis.y = Math.min( this.y, v.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmax: function ( v ) {\r\n\r\n\t\tthis.x = Math.max( this.x, v.x );\r\n\t\tthis.y = Math.max( this.y, v.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclamp: function ( min, max ) {\r\n\r\n\t\t// This function assumes min < max, if this assumption isn't true it will not operate correctly\r\n\r\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\r\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclampScalar: function () {\r\n\r\n\t\tvar min, max;\r\n\r\n\t\treturn function clampScalar( minVal, maxVal ) {\r\n\r\n\t\t\tif ( min === undefined ) {\r\n\r\n\t\t\t\tmin = new THREE.Vector2();\r\n\t\t\t\tmax = new THREE.Vector2();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmin.set( minVal, minVal );\r\n\t\t\tmax.set( maxVal, maxVal );\r\n\r\n\t\t\treturn this.clamp( min, max );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tclampLength: function ( min, max ) {\r\n\r\n\t\tvar length = this.length();\r\n\r\n\t\treturn this.multiplyScalar( Math.max( min, Math.min( max, length ) ) / length );\r\n\r\n\t},\r\n\r\n\tfloor: function () {\r\n\r\n\t\tthis.x = Math.floor( this.x );\r\n\t\tthis.y = Math.floor( this.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tceil: function () {\r\n\r\n\t\tthis.x = Math.ceil( this.x );\r\n\t\tthis.y = Math.ceil( this.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tround: function () {\r\n\r\n\t\tthis.x = Math.round( this.x );\r\n\t\tthis.y = Math.round( this.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\troundToZero: function () {\r\n\r\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\r\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tnegate: function () {\r\n\r\n\t\tthis.x = - this.x;\r\n\t\tthis.y = - this.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdot: function ( v ) {\r\n\r\n\t\treturn this.x * v.x + this.y * v.y;\r\n\r\n\t},\r\n\r\n\tlengthSq: function () {\r\n\r\n\t\treturn this.x * this.x + this.y * this.y;\r\n\r\n\t},\r\n\r\n\tlength: function () {\r\n\r\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\r\n\r\n\t},\r\n\r\n\tlengthManhattan: function() {\r\n\r\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\r\n\r\n\t},\r\n\r\n\tnormalize: function () {\r\n\r\n\t\treturn this.divideScalar( this.length() );\r\n\r\n\t},\r\n\r\n\tangle: function () {\r\n\r\n\t\t// computes the angle in radians with respect to the positive x-axis\r\n\r\n\t\tvar angle = Math.atan2( this.y, this.x );\r\n\r\n\t\tif ( angle < 0 ) angle += 2 * Math.PI;\r\n\r\n\t\treturn angle;\r\n\r\n\t},\r\n\r\n\tdistanceTo: function ( v ) {\r\n\r\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\r\n\r\n\t},\r\n\r\n\tdistanceToSquared: function ( v ) {\r\n\r\n\t\tvar dx = this.x - v.x, dy = this.y - v.y;\r\n\t\treturn dx * dx + dy * dy;\r\n\r\n\t},\r\n\r\n\tsetLength: function ( length ) {\r\n\r\n\t\treturn this.multiplyScalar( length / this.length() );\r\n\r\n\t},\r\n\r\n\tlerp: function ( v, alpha ) {\r\n\r\n\t\tthis.x += ( v.x - this.x ) * alpha;\r\n\t\tthis.y += ( v.y - this.y ) * alpha;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tlerpVectors: function ( v1, v2, alpha ) {\r\n\r\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\r\n\r\n\t},\r\n\r\n\tequals: function ( v ) {\r\n\r\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\r\n\r\n\t},\r\n\r\n\tfromArray: function ( array, offset ) {\r\n\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tthis.x = array[ offset ];\r\n\t\tthis.y = array[ offset + 1 ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoArray: function ( array, offset ) {\r\n\r\n\t\tif ( array === undefined ) array = [];\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tarray[ offset ] = this.x;\r\n\t\tarray[ offset + 1 ] = this.y;\r\n\r\n\t\treturn array;\r\n\r\n\t},\r\n\r\n\tfromAttribute: function ( attribute, index, offset ) {\r\n\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tindex = index * attribute.itemSize + offset;\r\n\r\n\t\tthis.x = attribute.array[ index ];\r\n\t\tthis.y = attribute.array[ index + 1 ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\trotateAround: function ( center, angle ) {\r\n\r\n\t\tvar c = Math.cos( angle ), s = Math.sin( angle );\r\n\r\n\t\tvar x = this.x - center.x;\r\n\t\tvar y = this.y - center.y;\r\n\r\n\t\tthis.x = x * c - y * s + center.x;\r\n\t\tthis.y = x * s + y * c + center.y;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/math/Vector3.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author *kile / http://kile.stravaganza.org/\r\n * @author philogb / http://blog.thejit.org/\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author egraether / http://egraether.com/\r\n * @author WestLangley / http://github.com/WestLangley\r\n */\r\n\r\nTHREE.Vector3 = function ( x, y, z ) {\r\n\r\n\tthis.x = x || 0;\r\n\tthis.y = y || 0;\r\n\tthis.z = z || 0;\r\n\r\n};\r\n\r\nTHREE.Vector3.prototype = {\r\n\r\n\tconstructor: THREE.Vector3,\r\n\r\n\tset: function ( x, y, z ) {\r\n\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.z = z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetScalar: function ( scalar ) {\r\n\r\n\t\tthis.x = scalar;\r\n\t\tthis.y = scalar;\r\n\t\tthis.z = scalar;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetX: function ( x ) {\r\n\r\n\t\tthis.x = x;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetY: function ( y ) {\r\n\r\n\t\tthis.y = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetZ: function ( z ) {\r\n\r\n\t\tthis.z = z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetComponent: function ( index, value ) {\r\n\r\n\t\tswitch ( index ) {\r\n\r\n\t\t\tcase 0: this.x = value; break;\r\n\t\t\tcase 1: this.y = value; break;\r\n\t\t\tcase 2: this.z = value; break;\r\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tgetComponent: function ( index ) {\r\n\r\n\t\tswitch ( index ) {\r\n\r\n\t\t\tcase 0: return this.x;\r\n\t\t\tcase 1: return this.y;\r\n\t\t\tcase 2: return this.z;\r\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this.x, this.y, this.z );\r\n\r\n\t},\r\n\r\n\tcopy: function ( v ) {\r\n\r\n\t\tthis.x = v.x;\r\n\t\tthis.y = v.y;\r\n\t\tthis.z = v.z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tadd: function ( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\r\n\t\t\treturn this.addVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x += v.x;\r\n\t\tthis.y += v.y;\r\n\t\tthis.z += v.z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddScalar: function ( s ) {\r\n\r\n\t\tthis.x += s;\r\n\t\tthis.y += s;\r\n\t\tthis.z += s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddVectors: function ( a, b ) {\r\n\r\n\t\tthis.x = a.x + b.x;\r\n\t\tthis.y = a.y + b.y;\r\n\t\tthis.z = a.z + b.z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddScaledVector: function ( v, s ) {\r\n\r\n\t\tthis.x += v.x * s;\r\n\t\tthis.y += v.y * s;\r\n\t\tthis.z += v.z * s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsub: function ( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\r\n\t\t\treturn this.subVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x -= v.x;\r\n\t\tthis.y -= v.y;\r\n\t\tthis.z -= v.z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsubScalar: function ( s ) {\r\n\r\n\t\tthis.x -= s;\r\n\t\tthis.y -= s;\r\n\t\tthis.z -= s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsubVectors: function ( a, b ) {\r\n\r\n\t\tthis.x = a.x - b.x;\r\n\t\tthis.y = a.y - b.y;\r\n\t\tthis.z = a.z - b.z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiply: function ( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\r\n\t\t\treturn this.multiplyVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x *= v.x;\r\n\t\tthis.y *= v.y;\r\n\t\tthis.z *= v.z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiplyScalar: function ( scalar ) {\r\n\r\n\t\tif ( isFinite( scalar ) ) {\r\n\r\n\t\t\tthis.x *= scalar;\r\n\t\t\tthis.y *= scalar;\r\n\t\t\tthis.z *= scalar;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.x = 0;\r\n\t\t\tthis.y = 0;\r\n\t\t\tthis.z = 0;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiplyVectors: function ( a, b ) {\r\n\r\n\t\tthis.x = a.x * b.x;\r\n\t\tthis.y = a.y * b.y;\r\n\t\tthis.z = a.z * b.z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tapplyEuler: function () {\r\n\r\n\t\tvar quaternion;\r\n\r\n\t\treturn function applyEuler( euler ) {\r\n\r\n\t\t\tif ( euler instanceof THREE.Euler === false ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( quaternion === undefined ) quaternion = new THREE.Quaternion();\r\n\r\n\t\t\treturn this.applyQuaternion( quaternion.setFromEuler( euler ) );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tapplyAxisAngle: function () {\r\n\r\n\t\tvar quaternion;\r\n\r\n\t\treturn function applyAxisAngle( axis, angle ) {\r\n\r\n\t\t\tif ( quaternion === undefined ) quaternion = new THREE.Quaternion();\r\n\r\n\t\t\treturn this.applyQuaternion( quaternion.setFromAxisAngle( axis, angle ) );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tapplyMatrix3: function ( m ) {\r\n\r\n\t\tvar x = this.x, y = this.y, z = this.z;\r\n\t\tvar e = m.elements;\r\n\r\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\r\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\r\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tapplyMatrix4: function ( m ) {\r\n\r\n\t\t// input: THREE.Matrix4 affine matrix\r\n\r\n\t\tvar x = this.x, y = this.y, z = this.z;\r\n\t\tvar e = m.elements;\r\n\r\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ]  * z + e[ 12 ];\r\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ]  * z + e[ 13 ];\r\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tapplyProjection: function ( m ) {\r\n\r\n\t\t// input: THREE.Matrix4 projection matrix\r\n\r\n\t\tvar x = this.x, y = this.y, z = this.z;\r\n\t\tvar e = m.elements;\r\n\t\tvar d = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] ); // perspective divide\r\n\r\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ]  * z + e[ 12 ] ) * d;\r\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ]  * z + e[ 13 ] ) * d;\r\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * d;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tapplyQuaternion: function ( q ) {\r\n\r\n\t\tvar x = this.x, y = this.y, z = this.z;\r\n\t\tvar qx = q.x, qy = q.y, qz = q.z, qw = q.w;\r\n\r\n\t\t// calculate quat * vector\r\n\r\n\t\tvar ix =  qw * x + qy * z - qz * y;\r\n\t\tvar iy =  qw * y + qz * x - qx * z;\r\n\t\tvar iz =  qw * z + qx * y - qy * x;\r\n\t\tvar iw = - qx * x - qy * y - qz * z;\r\n\r\n\t\t// calculate result * inverse quat\r\n\r\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\r\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\r\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tproject: function () {\r\n\r\n\t\tvar matrix;\r\n\r\n\t\treturn function project( camera ) {\r\n\r\n\t\t\tif ( matrix === undefined ) matrix = new THREE.Matrix4();\r\n\r\n\t\t\tmatrix.multiplyMatrices( camera.projectionMatrix, matrix.getInverse( camera.matrixWorld ) );\r\n\t\t\treturn this.applyProjection( matrix );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tunproject: function () {\r\n\r\n\t\tvar matrix;\r\n\r\n\t\treturn function unproject( camera ) {\r\n\r\n\t\t\tif ( matrix === undefined ) matrix = new THREE.Matrix4();\r\n\r\n\t\t\tmatrix.multiplyMatrices( camera.matrixWorld, matrix.getInverse( camera.projectionMatrix ) );\r\n\t\t\treturn this.applyProjection( matrix );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\ttransformDirection: function ( m ) {\r\n\r\n\t\t// input: THREE.Matrix4 affine matrix\r\n\t\t// vector interpreted as a direction\r\n\r\n\t\tvar x = this.x, y = this.y, z = this.z;\r\n\t\tvar e = m.elements;\r\n\r\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ]  * z;\r\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ]  * z;\r\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\r\n\r\n\t\treturn this.normalize();\r\n\r\n\t},\r\n\r\n\tdivide: function ( v ) {\r\n\r\n\t\tthis.x /= v.x;\r\n\t\tthis.y /= v.y;\r\n\t\tthis.z /= v.z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdivideScalar: function ( scalar ) {\r\n\r\n\t\treturn this.multiplyScalar( 1 / scalar );\r\n\r\n\t},\r\n\r\n\tmin: function ( v ) {\r\n\r\n\t\tthis.x = Math.min( this.x, v.x );\r\n\t\tthis.y = Math.min( this.y, v.y );\r\n\t\tthis.z = Math.min( this.z, v.z );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmax: function ( v ) {\r\n\r\n\t\tthis.x = Math.max( this.x, v.x );\r\n\t\tthis.y = Math.max( this.y, v.y );\r\n\t\tthis.z = Math.max( this.z, v.z );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclamp: function ( min, max ) {\r\n\r\n\t\t// This function assumes min < max, if this assumption isn't true it will not operate correctly\r\n\r\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\r\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\r\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclampScalar: function () {\r\n\r\n\t\tvar min, max;\r\n\r\n\t\treturn function clampScalar( minVal, maxVal ) {\r\n\r\n\t\t\tif ( min === undefined ) {\r\n\r\n\t\t\t\tmin = new THREE.Vector3();\r\n\t\t\t\tmax = new THREE.Vector3();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmin.set( minVal, minVal, minVal );\r\n\t\t\tmax.set( maxVal, maxVal, maxVal );\r\n\r\n\t\t\treturn this.clamp( min, max );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tclampLength: function ( min, max ) {\r\n\r\n\t\tvar length = this.length();\r\n\r\n\t\treturn this.multiplyScalar( Math.max( min, Math.min( max, length ) ) / length );\r\n\r\n\t},\r\n\r\n\tfloor: function () {\r\n\r\n\t\tthis.x = Math.floor( this.x );\r\n\t\tthis.y = Math.floor( this.y );\r\n\t\tthis.z = Math.floor( this.z );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tceil: function () {\r\n\r\n\t\tthis.x = Math.ceil( this.x );\r\n\t\tthis.y = Math.ceil( this.y );\r\n\t\tthis.z = Math.ceil( this.z );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tround: function () {\r\n\r\n\t\tthis.x = Math.round( this.x );\r\n\t\tthis.y = Math.round( this.y );\r\n\t\tthis.z = Math.round( this.z );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\troundToZero: function () {\r\n\r\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\r\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\r\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tnegate: function () {\r\n\r\n\t\tthis.x = - this.x;\r\n\t\tthis.y = - this.y;\r\n\t\tthis.z = - this.z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdot: function ( v ) {\r\n\r\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\r\n\r\n\t},\r\n\r\n\tlengthSq: function () {\r\n\r\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\r\n\r\n\t},\r\n\r\n\tlength: function () {\r\n\r\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\r\n\r\n\t},\r\n\r\n\tlengthManhattan: function () {\r\n\r\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\r\n\r\n\t},\r\n\r\n\tnormalize: function () {\r\n\r\n\t\treturn this.divideScalar( this.length() );\r\n\r\n\t},\r\n\r\n\tsetLength: function ( length ) {\r\n\r\n\t\treturn this.multiplyScalar( length / this.length() );\r\n\r\n\t},\r\n\r\n\tlerp: function ( v, alpha ) {\r\n\r\n\t\tthis.x += ( v.x - this.x ) * alpha;\r\n\t\tthis.y += ( v.y - this.y ) * alpha;\r\n\t\tthis.z += ( v.z - this.z ) * alpha;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tlerpVectors: function ( v1, v2, alpha ) {\r\n\r\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\r\n\r\n\t},\r\n\r\n\tcross: function ( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\r\n\t\t\treturn this.crossVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tvar x = this.x, y = this.y, z = this.z;\r\n\r\n\t\tthis.x = y * v.z - z * v.y;\r\n\t\tthis.y = z * v.x - x * v.z;\r\n\t\tthis.z = x * v.y - y * v.x;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcrossVectors: function ( a, b ) {\r\n\r\n\t\tvar ax = a.x, ay = a.y, az = a.z;\r\n\t\tvar bx = b.x, by = b.y, bz = b.z;\r\n\r\n\t\tthis.x = ay * bz - az * by;\r\n\t\tthis.y = az * bx - ax * bz;\r\n\t\tthis.z = ax * by - ay * bx;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tprojectOnVector: function () {\r\n\r\n\t\tvar v1, dot;\r\n\r\n\t\treturn function projectOnVector( vector ) {\r\n\r\n\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\r\n\r\n\t\t\tv1.copy( vector ).normalize();\r\n\r\n\t\t\tdot = this.dot( v1 );\r\n\r\n\t\t\treturn this.copy( v1 ).multiplyScalar( dot );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tprojectOnPlane: function () {\r\n\r\n\t\tvar v1;\r\n\r\n\t\treturn function projectOnPlane( planeNormal ) {\r\n\r\n\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\r\n\r\n\t\t\tv1.copy( this ).projectOnVector( planeNormal );\r\n\r\n\t\t\treturn this.sub( v1 );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\treflect: function () {\r\n\r\n\t\t// reflect incident vector off plane orthogonal to normal\r\n\t\t// normal is assumed to have unit length\r\n\r\n\t\tvar v1;\r\n\r\n\t\treturn function reflect( normal ) {\r\n\r\n\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\r\n\r\n\t\t\treturn this.sub( v1.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tangleTo: function ( v ) {\r\n\r\n\t\tvar theta = this.dot( v ) / ( Math.sqrt( this.lengthSq() * v.lengthSq() ) );\r\n\r\n\t\t// clamp, to handle numerical problems\r\n\r\n\t\treturn Math.acos( THREE.Math.clamp( theta, - 1, 1 ) );\r\n\r\n\t},\r\n\r\n\tdistanceTo: function ( v ) {\r\n\r\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\r\n\r\n\t},\r\n\r\n\tdistanceToSquared: function ( v ) {\r\n\r\n\t\tvar dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\r\n\r\n\t\treturn dx * dx + dy * dy + dz * dz;\r\n\r\n\t},\r\n\r\n\tsetFromSpherical: function( s ) {\r\n\r\n\t\tvar sinPhiRadius = Math.sin( s.phi ) * s.radius;\r\n\r\n\t\tthis.x = sinPhiRadius * Math.sin( s.theta );\r\n\t\tthis.y = Math.cos( s.phi ) * s.radius;\r\n\t\tthis.z = sinPhiRadius * Math.cos( s.theta );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromMatrixPosition: function ( m ) {\r\n\r\n\t\treturn this.setFromMatrixColumn( m, 3 );\r\n\r\n\t},\r\n\r\n\tsetFromMatrixScale: function ( m ) {\r\n\r\n\t\tvar sx = this.setFromMatrixColumn( m, 0 ).length();\r\n\t\tvar sy = this.setFromMatrixColumn( m, 1 ).length();\r\n\t\tvar sz = this.setFromMatrixColumn( m, 2 ).length();\r\n\r\n\t\tthis.x = sx;\r\n\t\tthis.y = sy;\r\n\t\tthis.z = sz;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromMatrixColumn: function ( m, index ) {\r\n\r\n\t\tif ( typeof m === 'number' ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).' );\r\n\t\t\tvar temp = m\r\n\t\t\tm = index;\r\n\t\t\tindex = temp;\r\n\r\n\t\t}\r\n\r\n\t\treturn this.fromArray( m.elements, index * 4 );\r\n\r\n\t},\r\n\r\n\tequals: function ( v ) {\r\n\r\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\r\n\r\n\t},\r\n\r\n\tfromArray: function ( array, offset ) {\r\n\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tthis.x = array[ offset ];\r\n\t\tthis.y = array[ offset + 1 ];\r\n\t\tthis.z = array[ offset + 2 ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoArray: function ( array, offset ) {\r\n\r\n\t\tif ( array === undefined ) array = [];\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tarray[ offset ] = this.x;\r\n\t\tarray[ offset + 1 ] = this.y;\r\n\t\tarray[ offset + 2 ] = this.z;\r\n\r\n\t\treturn array;\r\n\r\n\t},\r\n\r\n\tfromAttribute: function ( attribute, index, offset ) {\r\n\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tindex = index * attribute.itemSize + offset;\r\n\r\n\t\tthis.x = attribute.array[ index ];\r\n\t\tthis.y = attribute.array[ index + 1 ];\r\n\t\tthis.z = attribute.array[ index + 2 ];\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/math/Vector4.js\r\n\r\n/**\r\n * @author supereggbert / http://www.paulbrunt.co.uk/\r\n * @author philogb / http://blog.thejit.org/\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author egraether / http://egraether.com/\r\n * @author WestLangley / http://github.com/WestLangley\r\n */\r\n\r\nTHREE.Vector4 = function ( x, y, z, w ) {\r\n\r\n\tthis.x = x || 0;\r\n\tthis.y = y || 0;\r\n\tthis.z = z || 0;\r\n\tthis.w = ( w !== undefined ) ? w : 1;\r\n\r\n};\r\n\r\nTHREE.Vector4.prototype = {\r\n\r\n\tconstructor: THREE.Vector4,\r\n\r\n\tset: function ( x, y, z, w ) {\r\n\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.z = z;\r\n\t\tthis.w = w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetScalar: function ( scalar ) {\r\n\r\n\t\tthis.x = scalar;\r\n\t\tthis.y = scalar;\r\n\t\tthis.z = scalar;\r\n\t\tthis.w = scalar;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetX: function ( x ) {\r\n\r\n\t\tthis.x = x;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetY: function ( y ) {\r\n\r\n\t\tthis.y = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetZ: function ( z ) {\r\n\r\n\t\tthis.z = z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetW: function ( w ) {\r\n\r\n\t\tthis.w = w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetComponent: function ( index, value ) {\r\n\r\n\t\tswitch ( index ) {\r\n\r\n\t\t\tcase 0: this.x = value; break;\r\n\t\t\tcase 1: this.y = value; break;\r\n\t\t\tcase 2: this.z = value; break;\r\n\t\t\tcase 3: this.w = value; break;\r\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tgetComponent: function ( index ) {\r\n\r\n\t\tswitch ( index ) {\r\n\r\n\t\t\tcase 0: return this.x;\r\n\t\t\tcase 1: return this.y;\r\n\t\t\tcase 2: return this.z;\r\n\t\t\tcase 3: return this.w;\r\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\r\n\r\n\t},\r\n\r\n\tcopy: function ( v ) {\r\n\r\n\t\tthis.x = v.x;\r\n\t\tthis.y = v.y;\r\n\t\tthis.z = v.z;\r\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tadd: function ( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\r\n\t\t\treturn this.addVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x += v.x;\r\n\t\tthis.y += v.y;\r\n\t\tthis.z += v.z;\r\n\t\tthis.w += v.w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddScalar: function ( s ) {\r\n\r\n\t\tthis.x += s;\r\n\t\tthis.y += s;\r\n\t\tthis.z += s;\r\n\t\tthis.w += s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddVectors: function ( a, b ) {\r\n\r\n\t\tthis.x = a.x + b.x;\r\n\t\tthis.y = a.y + b.y;\r\n\t\tthis.z = a.z + b.z;\r\n\t\tthis.w = a.w + b.w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddScaledVector: function ( v, s ) {\r\n\r\n\t\tthis.x += v.x * s;\r\n\t\tthis.y += v.y * s;\r\n\t\tthis.z += v.z * s;\r\n\t\tthis.w += v.w * s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsub: function ( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\r\n\t\t\treturn this.subVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x -= v.x;\r\n\t\tthis.y -= v.y;\r\n\t\tthis.z -= v.z;\r\n\t\tthis.w -= v.w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsubScalar: function ( s ) {\r\n\r\n\t\tthis.x -= s;\r\n\t\tthis.y -= s;\r\n\t\tthis.z -= s;\r\n\t\tthis.w -= s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsubVectors: function ( a, b ) {\r\n\r\n\t\tthis.x = a.x - b.x;\r\n\t\tthis.y = a.y - b.y;\r\n\t\tthis.z = a.z - b.z;\r\n\t\tthis.w = a.w - b.w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiplyScalar: function ( scalar ) {\r\n\r\n\t\tif ( isFinite( scalar ) ) {\r\n\r\n\t\t\tthis.x *= scalar;\r\n\t\t\tthis.y *= scalar;\r\n\t\t\tthis.z *= scalar;\r\n\t\t\tthis.w *= scalar;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.x = 0;\r\n\t\t\tthis.y = 0;\r\n\t\t\tthis.z = 0;\r\n\t\t\tthis.w = 0;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tapplyMatrix4: function ( m ) {\r\n\r\n\t\tvar x = this.x, y = this.y, z = this.z, w = this.w;\r\n\t\tvar e = m.elements;\r\n\r\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\r\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\r\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\r\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdivideScalar: function ( scalar ) {\r\n\r\n\t\treturn this.multiplyScalar( 1 / scalar );\r\n\r\n\t},\r\n\r\n\tsetAxisAngleFromQuaternion: function ( q ) {\r\n\r\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\r\n\r\n\t\t// q is assumed to be normalized\r\n\r\n\t\tthis.w = 2 * Math.acos( q.w );\r\n\r\n\t\tvar s = Math.sqrt( 1 - q.w * q.w );\r\n\r\n\t\tif ( s < 0.0001 ) {\r\n\r\n\t\t\t this.x = 1;\r\n\t\t\t this.y = 0;\r\n\t\t\t this.z = 0;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t this.x = q.x / s;\r\n\t\t\t this.y = q.y / s;\r\n\t\t\t this.z = q.z / s;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetAxisAngleFromRotationMatrix: function ( m ) {\r\n\r\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\r\n\r\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\r\n\r\n\t\tvar angle, x, y, z,\t\t// variables for result\r\n\t\t\tepsilon = 0.01,\t\t// margin to allow for rounding errors\r\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\r\n\r\n\t\t\tte = m.elements,\r\n\r\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\r\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\r\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\r\n\r\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\r\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\r\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\r\n\r\n\t\t\t// singularity found\r\n\t\t\t// first check for identity matrix which must have +1 for all terms\r\n\t\t\t// in leading diagonal and zero in other terms\r\n\r\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\r\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\r\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\r\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\r\n\r\n\t\t\t\t// this singularity is identity matrix so angle = 0\r\n\r\n\t\t\t\tthis.set( 1, 0, 0, 0 );\r\n\r\n\t\t\t\treturn this; // zero angle, arbitrary axis\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// otherwise this singularity is angle = 180\r\n\r\n\t\t\tangle = Math.PI;\r\n\r\n\t\t\tvar xx = ( m11 + 1 ) / 2;\r\n\t\t\tvar yy = ( m22 + 1 ) / 2;\r\n\t\t\tvar zz = ( m33 + 1 ) / 2;\r\n\t\t\tvar xy = ( m12 + m21 ) / 4;\r\n\t\t\tvar xz = ( m13 + m31 ) / 4;\r\n\t\t\tvar yz = ( m23 + m32 ) / 4;\r\n\r\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\r\n\r\n\t\t\t\t// m11 is the largest diagonal term\r\n\r\n\t\t\t\tif ( xx < epsilon ) {\r\n\r\n\t\t\t\t\tx = 0;\r\n\t\t\t\t\ty = 0.707106781;\r\n\t\t\t\t\tz = 0.707106781;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tx = Math.sqrt( xx );\r\n\t\t\t\t\ty = xy / x;\r\n\t\t\t\t\tz = xz / x;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( yy > zz ) {\r\n\r\n\t\t\t\t// m22 is the largest diagonal term\r\n\r\n\t\t\t\tif ( yy < epsilon ) {\r\n\r\n\t\t\t\t\tx = 0.707106781;\r\n\t\t\t\t\ty = 0;\r\n\t\t\t\t\tz = 0.707106781;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\ty = Math.sqrt( yy );\r\n\t\t\t\t\tx = xy / y;\r\n\t\t\t\t\tz = yz / y;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// m33 is the largest diagonal term so base result on this\r\n\r\n\t\t\t\tif ( zz < epsilon ) {\r\n\r\n\t\t\t\t\tx = 0.707106781;\r\n\t\t\t\t\ty = 0.707106781;\r\n\t\t\t\t\tz = 0;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tz = Math.sqrt( zz );\r\n\t\t\t\t\tx = xz / z;\r\n\t\t\t\t\ty = yz / z;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.set( x, y, z, angle );\r\n\r\n\t\t\treturn this; // return 180 deg rotation\r\n\r\n\t\t}\r\n\r\n\t\t// as we have reached here there are no singularities so we can handle normally\r\n\r\n\t\tvar s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\r\n\t\t                   ( m13 - m31 ) * ( m13 - m31 ) +\r\n\t\t                   ( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\r\n\r\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\r\n\r\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\r\n\t\t// caught by singularity test above, but I've left it in just in case\r\n\r\n\t\tthis.x = ( m32 - m23 ) / s;\r\n\t\tthis.y = ( m13 - m31 ) / s;\r\n\t\tthis.z = ( m21 - m12 ) / s;\r\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmin: function ( v ) {\r\n\r\n\t\tthis.x = Math.min( this.x, v.x );\r\n\t\tthis.y = Math.min( this.y, v.y );\r\n\t\tthis.z = Math.min( this.z, v.z );\r\n\t\tthis.w = Math.min( this.w, v.w );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmax: function ( v ) {\r\n\r\n\t\tthis.x = Math.max( this.x, v.x );\r\n\t\tthis.y = Math.max( this.y, v.y );\r\n\t\tthis.z = Math.max( this.z, v.z );\r\n\t\tthis.w = Math.max( this.w, v.w );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclamp: function ( min, max ) {\r\n\r\n\t\t// This function assumes min < max, if this assumption isn't true it will not operate correctly\r\n\r\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\r\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\r\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\r\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclampScalar: function () {\r\n\r\n\t\tvar min, max;\r\n\r\n\t\treturn function clampScalar( minVal, maxVal ) {\r\n\r\n\t\t\tif ( min === undefined ) {\r\n\r\n\t\t\t\tmin = new THREE.Vector4();\r\n\t\t\t\tmax = new THREE.Vector4();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmin.set( minVal, minVal, minVal, minVal );\r\n\t\t\tmax.set( maxVal, maxVal, maxVal, maxVal );\r\n\r\n\t\t\treturn this.clamp( min, max );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tfloor: function () {\r\n\r\n\t\tthis.x = Math.floor( this.x );\r\n\t\tthis.y = Math.floor( this.y );\r\n\t\tthis.z = Math.floor( this.z );\r\n\t\tthis.w = Math.floor( this.w );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tceil: function () {\r\n\r\n\t\tthis.x = Math.ceil( this.x );\r\n\t\tthis.y = Math.ceil( this.y );\r\n\t\tthis.z = Math.ceil( this.z );\r\n\t\tthis.w = Math.ceil( this.w );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tround: function () {\r\n\r\n\t\tthis.x = Math.round( this.x );\r\n\t\tthis.y = Math.round( this.y );\r\n\t\tthis.z = Math.round( this.z );\r\n\t\tthis.w = Math.round( this.w );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\troundToZero: function () {\r\n\r\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\r\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\r\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\r\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tnegate: function () {\r\n\r\n\t\tthis.x = - this.x;\r\n\t\tthis.y = - this.y;\r\n\t\tthis.z = - this.z;\r\n\t\tthis.w = - this.w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdot: function ( v ) {\r\n\r\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\r\n\r\n\t},\r\n\r\n\tlengthSq: function () {\r\n\r\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\r\n\r\n\t},\r\n\r\n\tlength: function () {\r\n\r\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\r\n\r\n\t},\r\n\r\n\tlengthManhattan: function () {\r\n\r\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\r\n\r\n\t},\r\n\r\n\tnormalize: function () {\r\n\r\n\t\treturn this.divideScalar( this.length() );\r\n\r\n\t},\r\n\r\n\tsetLength: function ( length ) {\r\n\r\n\t\treturn this.multiplyScalar( length / this.length() );\r\n\r\n\t},\r\n\r\n\tlerp: function ( v, alpha ) {\r\n\r\n\t\tthis.x += ( v.x - this.x ) * alpha;\r\n\t\tthis.y += ( v.y - this.y ) * alpha;\r\n\t\tthis.z += ( v.z - this.z ) * alpha;\r\n\t\tthis.w += ( v.w - this.w ) * alpha;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tlerpVectors: function ( v1, v2, alpha ) {\r\n\r\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\r\n\r\n\t},\r\n\r\n\tequals: function ( v ) {\r\n\r\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\r\n\r\n\t},\r\n\r\n\tfromArray: function ( array, offset ) {\r\n\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tthis.x = array[ offset ];\r\n\t\tthis.y = array[ offset + 1 ];\r\n\t\tthis.z = array[ offset + 2 ];\r\n\t\tthis.w = array[ offset + 3 ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoArray: function ( array, offset ) {\r\n\r\n\t\tif ( array === undefined ) array = [];\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tarray[ offset ] = this.x;\r\n\t\tarray[ offset + 1 ] = this.y;\r\n\t\tarray[ offset + 2 ] = this.z;\r\n\t\tarray[ offset + 3 ] = this.w;\r\n\r\n\t\treturn array;\r\n\r\n\t},\r\n\r\n\tfromAttribute: function ( attribute, index, offset ) {\r\n\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tindex = index * attribute.itemSize + offset;\r\n\r\n\t\tthis.x = attribute.array[ index ];\r\n\t\tthis.y = attribute.array[ index + 1 ];\r\n\t\tthis.z = attribute.array[ index + 2 ];\r\n\t\tthis.w = attribute.array[ index + 3 ];\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/math/Euler.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author WestLangley / http://github.com/WestLangley\r\n * @author bhouston / http://clara.io\r\n */\r\n\r\nTHREE.Euler = function ( x, y, z, order ) {\r\n\r\n\tthis._x = x || 0;\r\n\tthis._y = y || 0;\r\n\tthis._z = z || 0;\r\n\tthis._order = order || THREE.Euler.DefaultOrder;\r\n\r\n};\r\n\r\nTHREE.Euler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\r\n\r\nTHREE.Euler.DefaultOrder = 'XYZ';\r\n\r\nTHREE.Euler.prototype = {\r\n\r\n\tconstructor: THREE.Euler,\r\n\r\n\tget x () {\r\n\r\n\t\treturn this._x;\r\n\r\n\t},\r\n\r\n\tset x ( value ) {\r\n\r\n\t\tthis._x = value;\r\n\t\tthis.onChangeCallback();\r\n\r\n\t},\r\n\r\n\tget y () {\r\n\r\n\t\treturn this._y;\r\n\r\n\t},\r\n\r\n\tset y ( value ) {\r\n\r\n\t\tthis._y = value;\r\n\t\tthis.onChangeCallback();\r\n\r\n\t},\r\n\r\n\tget z () {\r\n\r\n\t\treturn this._z;\r\n\r\n\t},\r\n\r\n\tset z ( value ) {\r\n\r\n\t\tthis._z = value;\r\n\t\tthis.onChangeCallback();\r\n\r\n\t},\r\n\r\n\tget order () {\r\n\r\n\t\treturn this._order;\r\n\r\n\t},\r\n\r\n\tset order ( value ) {\r\n\r\n\t\tthis._order = value;\r\n\t\tthis.onChangeCallback();\r\n\r\n\t},\r\n\r\n\tset: function ( x, y, z, order ) {\r\n\r\n\t\tthis._x = x;\r\n\t\tthis._y = y;\r\n\t\tthis._z = z;\r\n\t\tthis._order = order || this._order;\r\n\r\n\t\tthis.onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\r\n\r\n\t},\r\n\r\n\tcopy: function ( euler ) {\r\n\r\n\t\tthis._x = euler._x;\r\n\t\tthis._y = euler._y;\r\n\t\tthis._z = euler._z;\r\n\t\tthis._order = euler._order;\r\n\r\n\t\tthis.onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromRotationMatrix: function ( m, order, update ) {\r\n\r\n\t\tvar clamp = THREE.Math.clamp;\r\n\r\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\r\n\r\n\t\tvar te = m.elements;\r\n\t\tvar m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\r\n\t\tvar m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\r\n\t\tvar m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\r\n\r\n\t\torder = order || this._order;\r\n\r\n\t\tif ( order === 'XYZ' ) {\r\n\r\n\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\r\n\r\n\t\t\tif ( Math.abs( m13 ) < 0.99999 ) {\r\n\r\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\r\n\t\t\t\tthis._z = Math.atan2( - m12, m11 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\r\n\t\t\t\tthis._z = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( order === 'YXZ' ) {\r\n\r\n\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\r\n\r\n\t\t\tif ( Math.abs( m23 ) < 0.99999 ) {\r\n\r\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\r\n\t\t\t\tthis._z = Math.atan2( m21, m22 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\r\n\t\t\t\tthis._z = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( order === 'ZXY' ) {\r\n\r\n\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\r\n\r\n\t\t\tif ( Math.abs( m32 ) < 0.99999 ) {\r\n\r\n\t\t\t\tthis._y = Math.atan2( - m31, m33 );\r\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis._y = 0;\r\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( order === 'ZYX' ) {\r\n\r\n\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\r\n\r\n\t\t\tif ( Math.abs( m31 ) < 0.99999 ) {\r\n\r\n\t\t\t\tthis._x = Math.atan2( m32, m33 );\r\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis._x = 0;\r\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( order === 'YZX' ) {\r\n\r\n\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\r\n\r\n\t\t\tif ( Math.abs( m21 ) < 0.99999 ) {\r\n\r\n\t\t\t\tthis._x = Math.atan2( - m23, m22 );\r\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis._x = 0;\r\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( order === 'XZY' ) {\r\n\r\n\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\r\n\r\n\t\t\tif ( Math.abs( m12 ) < 0.99999 ) {\r\n\r\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\r\n\t\t\t\tthis._y = Math.atan2( m13, m11 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\r\n\t\t\t\tthis._y = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order );\r\n\r\n\t\t}\r\n\r\n\t\tthis._order = order;\r\n\r\n\t\tif ( update !== false ) this.onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromQuaternion: function () {\r\n\r\n\t\tvar matrix;\r\n\r\n\t\treturn function ( q, order, update ) {\r\n\r\n\t\t\tif ( matrix === undefined ) matrix = new THREE.Matrix4();\r\n\r\n\t\t\tmatrix.makeRotationFromQuaternion( q );\r\n\r\n\t\t\treturn this.setFromRotationMatrix( matrix, order, update );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tsetFromVector3: function ( v, order ) {\r\n\r\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\r\n\r\n\t},\r\n\r\n\treorder: function () {\r\n\r\n\t\t// WARNING: this discards revolution information -bhouston\r\n\r\n\t\tvar q = new THREE.Quaternion();\r\n\r\n\t\treturn function ( newOrder ) {\r\n\r\n\t\t\tq.setFromEuler( this );\r\n\t\t\t\r\n\t\t\treturn this.setFromQuaternion( q, newOrder );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tequals: function ( euler ) {\r\n\r\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\r\n\r\n\t},\r\n\r\n\tfromArray: function ( array ) {\r\n\r\n\t\tthis._x = array[ 0 ];\r\n\t\tthis._y = array[ 1 ];\r\n\t\tthis._z = array[ 2 ];\r\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\r\n\r\n\t\tthis.onChangeCallback();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoArray: function ( array, offset ) {\r\n\r\n\t\tif ( array === undefined ) array = [];\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tarray[ offset ] = this._x;\r\n\t\tarray[ offset + 1 ] = this._y;\r\n\t\tarray[ offset + 2 ] = this._z;\r\n\t\tarray[ offset + 3 ] = this._order;\r\n\r\n\t\treturn array;\r\n\r\n\t},\r\n\r\n\ttoVector3: function ( optionalResult ) {\r\n\r\n\t\tif ( optionalResult ) {\r\n\r\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn new THREE.Vector3( this._x, this._y, this._z );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tonChange: function ( callback ) {\r\n\r\n\t\tthis.onChangeCallback = callback;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tonChangeCallback: function () {}\r\n\r\n};\r\n\r\n// File:src/math/Line3.js\r\n\r\n/**\r\n * @author bhouston / http://clara.io\r\n */\r\n\r\nTHREE.Line3 = function ( start, end ) {\r\n\r\n\tthis.start = ( start !== undefined ) ? start : new THREE.Vector3();\r\n\tthis.end = ( end !== undefined ) ? end : new THREE.Vector3();\r\n\r\n};\r\n\r\nTHREE.Line3.prototype = {\r\n\r\n\tconstructor: THREE.Line3,\r\n\r\n\tset: function ( start, end ) {\r\n\r\n\t\tthis.start.copy( start );\r\n\t\tthis.end.copy( end );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( line ) {\r\n\r\n\t\tthis.start.copy( line.start );\r\n\t\tthis.end.copy( line.end );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcenter: function ( optionalTarget ) {\r\n\r\n\t\tvar result = optionalTarget || new THREE.Vector3();\r\n\t\treturn result.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\r\n\r\n\t},\r\n\r\n\tdelta: function ( optionalTarget ) {\r\n\r\n\t\tvar result = optionalTarget || new THREE.Vector3();\r\n\t\treturn result.subVectors( this.end, this.start );\r\n\r\n\t},\r\n\r\n\tdistanceSq: function () {\r\n\r\n\t\treturn this.start.distanceToSquared( this.end );\r\n\r\n\t},\r\n\r\n\tdistance: function () {\r\n\r\n\t\treturn this.start.distanceTo( this.end );\r\n\r\n\t},\r\n\r\n\tat: function ( t, optionalTarget ) {\r\n\r\n\t\tvar result = optionalTarget || new THREE.Vector3();\r\n\r\n\t\treturn this.delta( result ).multiplyScalar( t ).add( this.start );\r\n\r\n\t},\r\n\r\n\tclosestPointToPointParameter: function () {\r\n\r\n\t\tvar startP = new THREE.Vector3();\r\n\t\tvar startEnd = new THREE.Vector3();\r\n\r\n\t\treturn function ( point, clampToLine ) {\r\n\r\n\t\t\tstartP.subVectors( point, this.start );\r\n\t\t\tstartEnd.subVectors( this.end, this.start );\r\n\r\n\t\t\tvar startEnd2 = startEnd.dot( startEnd );\r\n\t\t\tvar startEnd_startP = startEnd.dot( startP );\r\n\r\n\t\t\tvar t = startEnd_startP / startEnd2;\r\n\r\n\t\t\tif ( clampToLine ) {\r\n\r\n\t\t\t\tt = THREE.Math.clamp( t, 0, 1 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn t;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tclosestPointToPoint: function ( point, clampToLine, optionalTarget ) {\r\n\r\n\t\tvar t = this.closestPointToPointParameter( point, clampToLine );\r\n\r\n\t\tvar result = optionalTarget || new THREE.Vector3();\r\n\r\n\t\treturn this.delta( result ).multiplyScalar( t ).add( this.start );\r\n\r\n\t},\r\n\r\n\tapplyMatrix4: function ( matrix ) {\r\n\r\n\t\tthis.start.applyMatrix4( matrix );\r\n\t\tthis.end.applyMatrix4( matrix );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tequals: function ( line ) {\r\n\r\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/math/Box2.js\r\n\r\n/**\r\n * @author bhouston / http://clara.io\r\n */\r\n\r\nTHREE.Box2 = function ( min, max ) {\r\n\r\n\tthis.min = ( min !== undefined ) ? min : new THREE.Vector2( + Infinity, + Infinity );\r\n\tthis.max = ( max !== undefined ) ? max : new THREE.Vector2( - Infinity, - Infinity );\r\n\r\n};\r\n\r\nTHREE.Box2.prototype = {\r\n\r\n\tconstructor: THREE.Box2,\r\n\r\n\tset: function ( min, max ) {\r\n\r\n\t\tthis.min.copy( min );\r\n\t\tthis.max.copy( max );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromPoints: function ( points ) {\r\n\r\n\t\tthis.makeEmpty();\r\n\r\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\r\n\r\n\t\t\tthis.expandByPoint( points[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromCenterAndSize: function () {\r\n\r\n\t\tvar v1 = new THREE.Vector2();\r\n\r\n\t\treturn function ( center, size ) {\r\n\r\n\t\t\tvar halfSize = v1.copy( size ).multiplyScalar( 0.5 );\r\n\t\t\tthis.min.copy( center ).sub( halfSize );\r\n\t\t\tthis.max.copy( center ).add( halfSize );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( box ) {\r\n\r\n\t\tthis.min.copy( box.min );\r\n\t\tthis.max.copy( box.max );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmakeEmpty: function () {\r\n\r\n\t\tthis.min.x = this.min.y = + Infinity;\r\n\t\tthis.max.x = this.max.y = - Infinity;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tisEmpty: function () {\r\n\r\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\r\n\r\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\r\n\r\n\t},\r\n\r\n\tcenter: function ( optionalTarget ) {\r\n\r\n\t\tvar result = optionalTarget || new THREE.Vector2();\r\n\t\treturn result.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\r\n\r\n\t},\r\n\r\n\tsize: function ( optionalTarget ) {\r\n\r\n\t\tvar result = optionalTarget || new THREE.Vector2();\r\n\t\treturn result.subVectors( this.max, this.min );\r\n\r\n\t},\r\n\r\n\texpandByPoint: function ( point ) {\r\n\r\n\t\tthis.min.min( point );\r\n\t\tthis.max.max( point );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\texpandByVector: function ( vector ) {\r\n\r\n\t\tthis.min.sub( vector );\r\n\t\tthis.max.add( vector );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\texpandByScalar: function ( scalar ) {\r\n\r\n\t\tthis.min.addScalar( - scalar );\r\n\t\tthis.max.addScalar( scalar );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcontainsPoint: function ( point ) {\r\n\r\n\t\tif ( point.x < this.min.x || point.x > this.max.x ||\r\n\t\t     point.y < this.min.y || point.y > this.max.y ) {\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t},\r\n\r\n\tcontainsBox: function ( box ) {\r\n\r\n\t\tif ( ( this.min.x <= box.min.x ) && ( box.max.x <= this.max.x ) &&\r\n\t\t     ( this.min.y <= box.min.y ) && ( box.max.y <= this.max.y ) ) {\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\r\n\t},\r\n\r\n\tgetParameter: function ( point, optionalTarget ) {\r\n\r\n\t\t// This can potentially have a divide by zero if the box\r\n\t\t// has a size dimension of 0.\r\n\r\n\t\tvar result = optionalTarget || new THREE.Vector2();\r\n\r\n\t\treturn result.set(\r\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\r\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\r\n\t\t);\r\n\r\n\t},\r\n\r\n\tintersectsBox: function ( box ) {\r\n\r\n\t\t// using 6 splitting planes to rule out intersections.\r\n\r\n\t\tif ( box.max.x < this.min.x || box.min.x > this.max.x ||\r\n\t\t     box.max.y < this.min.y || box.min.y > this.max.y ) {\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t},\r\n\r\n\tclampPoint: function ( point, optionalTarget ) {\r\n\r\n\t\tvar result = optionalTarget || new THREE.Vector2();\r\n\t\treturn result.copy( point ).clamp( this.min, this.max );\r\n\r\n\t},\r\n\r\n\tdistanceToPoint: function () {\r\n\r\n\t\tvar v1 = new THREE.Vector2();\r\n\r\n\t\treturn function ( point ) {\r\n\r\n\t\t\tvar clampedPoint = v1.copy( point ).clamp( this.min, this.max );\r\n\t\t\treturn clampedPoint.sub( point ).length();\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tintersect: function ( box ) {\r\n\r\n\t\tthis.min.max( box.min );\r\n\t\tthis.max.min( box.max );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tunion: function ( box ) {\r\n\r\n\t\tthis.min.min( box.min );\r\n\t\tthis.max.max( box.max );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttranslate: function ( offset ) {\r\n\r\n\t\tthis.min.add( offset );\r\n\t\tthis.max.add( offset );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tequals: function ( box ) {\r\n\r\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/math/Box3.js\r\n\r\n/**\r\n * @author bhouston / http://clara.io\r\n * @author WestLangley / http://github.com/WestLangley\r\n */\r\n\r\nTHREE.Box3 = function ( min, max ) {\r\n\r\n\tthis.min = ( min !== undefined ) ? min : new THREE.Vector3( + Infinity, + Infinity, + Infinity );\r\n\tthis.max = ( max !== undefined ) ? max : new THREE.Vector3( - Infinity, - Infinity, - Infinity );\r\n\r\n};\r\n\r\nTHREE.Box3.prototype = {\r\n\r\n\tconstructor: THREE.Box3,\r\n\r\n\tset: function ( min, max ) {\r\n\r\n\t\tthis.min.copy( min );\r\n\t\tthis.max.copy( max );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromArray: function ( array ) {\r\n\r\n\t\tvar minX = + Infinity;\r\n\t\tvar minY = + Infinity;\r\n\t\tvar minZ = + Infinity;\r\n\r\n\t\tvar maxX = - Infinity;\r\n\t\tvar maxY = - Infinity;\r\n\t\tvar maxZ = - Infinity;\r\n\r\n\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\r\n\r\n\t\t\tvar x = array[ i ];\r\n\t\t\tvar y = array[ i + 1 ];\r\n\t\t\tvar z = array[ i + 2 ];\r\n\r\n\t\t\tif ( x < minX ) minX = x;\r\n\t\t\tif ( y < minY ) minY = y;\r\n\t\t\tif ( z < minZ ) minZ = z;\r\n\r\n\t\t\tif ( x > maxX ) maxX = x;\r\n\t\t\tif ( y > maxY ) maxY = y;\r\n\t\t\tif ( z > maxZ ) maxZ = z;\r\n\r\n\t\t}\r\n\r\n\t\tthis.min.set( minX, minY, minZ );\r\n\t\tthis.max.set( maxX, maxY, maxZ );\r\n\r\n\t},\r\n\r\n\tsetFromPoints: function ( points ) {\r\n\r\n\t\tthis.makeEmpty();\r\n\r\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\r\n\r\n\t\t\tthis.expandByPoint( points[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromCenterAndSize: function () {\r\n\r\n\t\tvar v1 = new THREE.Vector3();\r\n\r\n\t\treturn function ( center, size ) {\r\n\r\n\t\t\tvar halfSize = v1.copy( size ).multiplyScalar( 0.5 );\r\n\r\n\t\t\tthis.min.copy( center ).sub( halfSize );\r\n\t\t\tthis.max.copy( center ).add( halfSize );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tsetFromObject: function () {\r\n\r\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\r\n\t\t// accounting for both the object's, and children's, world transforms\r\n\r\n\t\tvar v1 = new THREE.Vector3();\r\n\r\n\t\treturn function ( object ) {\r\n\r\n\t\t\tvar scope = this;\r\n\r\n\t\t\tobject.updateMatrixWorld( true );\r\n\r\n\t\t\tthis.makeEmpty();\r\n\r\n\t\t\tobject.traverse( function ( node ) {\r\n\r\n\t\t\t\tvar geometry = node.geometry;\r\n\r\n\t\t\t\tif ( geometry !== undefined ) {\r\n\r\n\t\t\t\t\tif ( geometry instanceof THREE.Geometry ) {\r\n\r\n\t\t\t\t\t\tvar vertices = geometry.vertices;\r\n\r\n\t\t\t\t\t\tfor ( var i = 0, il = vertices.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\t\tv1.copy( vertices[ i ] );\r\n\t\t\t\t\t\t\tv1.applyMatrix4( node.matrixWorld );\r\n\r\n\t\t\t\t\t\t\tscope.expandByPoint( v1 );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else if ( geometry instanceof THREE.BufferGeometry && geometry.attributes[ 'position' ] !== undefined ) {\r\n\r\n\t\t\t\t\t\tvar positions = geometry.attributes[ 'position' ].array;\r\n\r\n\t\t\t\t\t\tfor ( var i = 0, il = positions.length; i < il; i += 3 ) {\r\n\r\n\t\t\t\t\t\t\tv1.fromArray( positions, i );\r\n\t\t\t\t\t\t\tv1.applyMatrix4( node.matrixWorld );\r\n\r\n\t\t\t\t\t\t\tscope.expandByPoint( v1 );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( box ) {\r\n\r\n\t\tthis.min.copy( box.min );\r\n\t\tthis.max.copy( box.max );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmakeEmpty: function () {\r\n\r\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\r\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tisEmpty: function () {\r\n\r\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\r\n\r\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\r\n\r\n\t},\r\n\r\n\tcenter: function ( optionalTarget ) {\r\n\r\n\t\tvar result = optionalTarget || new THREE.Vector3();\r\n\t\treturn result.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\r\n\r\n\t},\r\n\r\n\tsize: function ( optionalTarget ) {\r\n\r\n\t\tvar result = optionalTarget || new THREE.Vector3();\r\n\t\treturn result.subVectors( this.max, this.min );\r\n\r\n\t},\r\n\r\n\texpandByPoint: function ( point ) {\r\n\r\n\t\tthis.min.min( point );\r\n\t\tthis.max.max( point );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\texpandByVector: function ( vector ) {\r\n\r\n\t\tthis.min.sub( vector );\r\n\t\tthis.max.add( vector );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\texpandByScalar: function ( scalar ) {\r\n\r\n\t\tthis.min.addScalar( - scalar );\r\n\t\tthis.max.addScalar( scalar );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcontainsPoint: function ( point ) {\r\n\r\n\t\tif ( point.x < this.min.x || point.x > this.max.x ||\r\n\t\t\t\t point.y < this.min.y || point.y > this.max.y ||\r\n\t\t\t\t point.z < this.min.z || point.z > this.max.z ) {\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t},\r\n\r\n\tcontainsBox: function ( box ) {\r\n\r\n\t\tif ( ( this.min.x <= box.min.x ) && ( box.max.x <= this.max.x ) &&\r\n\t\t\t ( this.min.y <= box.min.y ) && ( box.max.y <= this.max.y ) &&\r\n\t\t\t ( this.min.z <= box.min.z ) && ( box.max.z <= this.max.z ) ) {\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\r\n\t},\r\n\r\n\tgetParameter: function ( point, optionalTarget ) {\r\n\r\n\t\t// This can potentially have a divide by zero if the box\r\n\t\t// has a size dimension of 0.\r\n\r\n\t\tvar result = optionalTarget || new THREE.Vector3();\r\n\r\n\t\treturn result.set(\r\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\r\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\r\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\r\n\t\t);\r\n\r\n\t},\r\n\r\n\tintersectsBox: function ( box ) {\r\n\r\n\t\t// using 6 splitting planes to rule out intersections.\r\n\r\n\t\tif ( box.max.x < this.min.x || box.min.x > this.max.x ||\r\n\t\t\t\t box.max.y < this.min.y || box.min.y > this.max.y ||\r\n\t\t\t\t box.max.z < this.min.z || box.min.z > this.max.z ) {\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t},\r\n\r\n\tintersectsSphere: ( function () {\r\n\r\n\t\tvar closestPoint;\r\n\r\n\t\treturn function intersectsSphere( sphere ) {\r\n\r\n\t\t\tif ( closestPoint === undefined ) closestPoint = new THREE.Vector3();\r\n\r\n\t\t\t// Find the point on the AABB closest to the sphere center.\r\n\t\t\tthis.clampPoint( sphere.center, closestPoint );\r\n\r\n\t\t\t// If that point is inside the sphere, the AABB and sphere intersect.\r\n\t\t\treturn closestPoint.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\r\n\r\n\t\t};\r\n\r\n\t} )(),\r\n\r\n\tintersectsPlane: function ( plane ) {\r\n\r\n\t\t// We compute the minimum and maximum dot product values. If those values\r\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\r\n\r\n\t\tvar min, max;\r\n\r\n\t\tif ( plane.normal.x > 0 ) {\r\n\r\n\t\t\tmin = plane.normal.x * this.min.x;\r\n\t\t\tmax = plane.normal.x * this.max.x;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tmin = plane.normal.x * this.max.x;\r\n\t\t\tmax = plane.normal.x * this.min.x;\r\n\r\n\t\t}\r\n\r\n\t\tif ( plane.normal.y > 0 ) {\r\n\r\n\t\t\tmin += plane.normal.y * this.min.y;\r\n\t\t\tmax += plane.normal.y * this.max.y;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tmin += plane.normal.y * this.max.y;\r\n\t\t\tmax += plane.normal.y * this.min.y;\r\n\r\n\t\t}\r\n\r\n\t\tif ( plane.normal.z > 0 ) {\r\n\r\n\t\t\tmin += plane.normal.z * this.min.z;\r\n\t\t\tmax += plane.normal.z * this.max.z;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tmin += plane.normal.z * this.max.z;\r\n\t\t\tmax += plane.normal.z * this.min.z;\r\n\r\n\t\t}\r\n\r\n\t\treturn ( min <= plane.constant && max >= plane.constant );\r\n\r\n\t},\r\n\r\n\tclampPoint: function ( point, optionalTarget ) {\r\n\r\n\t\tvar result = optionalTarget || new THREE.Vector3();\r\n\t\treturn result.copy( point ).clamp( this.min, this.max );\r\n\r\n\t},\r\n\r\n\tdistanceToPoint: function () {\r\n\r\n\t\tvar v1 = new THREE.Vector3();\r\n\r\n\t\treturn function ( point ) {\r\n\r\n\t\t\tvar clampedPoint = v1.copy( point ).clamp( this.min, this.max );\r\n\t\t\treturn clampedPoint.sub( point ).length();\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tgetBoundingSphere: function () {\r\n\r\n\t\tvar v1 = new THREE.Vector3();\r\n\r\n\t\treturn function ( optionalTarget ) {\r\n\r\n\t\t\tvar result = optionalTarget || new THREE.Sphere();\r\n\r\n\t\t\tresult.center = this.center();\r\n\t\t\tresult.radius = this.size( v1 ).length() * 0.5;\r\n\r\n\t\t\treturn result;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tintersect: function ( box ) {\r\n\r\n\t\tthis.min.max( box.min );\r\n\t\tthis.max.min( box.max );\r\n\r\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\r\n\t\tif( this.isEmpty() ) this.makeEmpty();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tunion: function ( box ) {\r\n\r\n\t\tthis.min.min( box.min );\r\n\t\tthis.max.max( box.max );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tapplyMatrix4: function () {\r\n\r\n\t\tvar points = [\r\n\t\t\tnew THREE.Vector3(),\r\n\t\t\tnew THREE.Vector3(),\r\n\t\t\tnew THREE.Vector3(),\r\n\t\t\tnew THREE.Vector3(),\r\n\t\t\tnew THREE.Vector3(),\r\n\t\t\tnew THREE.Vector3(),\r\n\t\t\tnew THREE.Vector3(),\r\n\t\t\tnew THREE.Vector3()\r\n\t\t];\r\n\r\n\t\treturn function ( matrix ) {\r\n\r\n\t\t\t// transform of empty box is an empty box.\r\n\t\t\tif( this.isEmpty() ) return this;\r\n\r\n\t\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\r\n\t\t\tpoints[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\r\n\t\t\tpoints[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\r\n\t\t\tpoints[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\r\n\t\t\tpoints[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\r\n\t\t\tpoints[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\r\n\t\t\tpoints[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\r\n\t\t\tpoints[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\r\n\t\t\tpoints[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix );\t// 111\r\n\r\n\t\t\tthis.setFromPoints( points );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\ttranslate: function ( offset ) {\r\n\r\n\t\tthis.min.add( offset );\r\n\t\tthis.max.add( offset );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tequals: function ( box ) {\r\n\r\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/math/Matrix3.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author WestLangley / http://github.com/WestLangley\r\n * @author bhouston / http://clara.io\r\n * @author tschw\r\n */\r\n\r\nTHREE.Matrix3 = function () {\r\n\r\n\tthis.elements = new Float32Array( [\r\n\r\n\t\t1, 0, 0,\r\n\t\t0, 1, 0,\r\n\t\t0, 0, 1\r\n\r\n\t] );\r\n\r\n\tif ( arguments.length > 0 ) {\r\n\r\n\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.Matrix3.prototype = {\r\n\r\n\tconstructor: THREE.Matrix3,\r\n\r\n\tset: function ( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\r\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\r\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tidentity: function () {\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\t1, 0, 0,\r\n\t\t\t0, 1, 0,\r\n\t\t\t0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().fromArray( this.elements );\r\n\r\n\t},\r\n\r\n\tcopy: function ( m ) {\r\n\r\n\t\tvar me = m.elements;\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\tme[ 0 ], me[ 3 ], me[ 6 ],\r\n\t\t\tme[ 1 ], me[ 4 ], me[ 7 ],\r\n\t\t\tme[ 2 ], me[ 5 ], me[ 8 ]\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromMatrix4: function( m ) {\r\n\r\n\t\tvar me = m.elements;\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\tme[ 0 ], me[ 4 ], me[  8 ],\r\n\t\t\tme[ 1 ], me[ 5 ], me[  9 ],\r\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tapplyToVector3Array: function () {\r\n\r\n\t\tvar v1;\r\n\r\n\t\treturn function ( array, offset, length ) {\r\n\r\n\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\r\n\t\t\tif ( offset === undefined ) offset = 0;\r\n\t\t\tif ( length === undefined ) length = array.length;\r\n\r\n\t\t\tfor ( var i = 0, j = offset; i < length; i += 3, j += 3 ) {\r\n\r\n\t\t\t\tv1.fromArray( array, j );\r\n\t\t\t\tv1.applyMatrix3( this );\r\n\t\t\t\tv1.toArray( array, j );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn array;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tapplyToBuffer: function () {\r\n\r\n\t\tvar v1;\r\n\r\n\t\treturn function applyToBuffer( buffer, offset, length ) {\r\n\r\n\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\r\n\t\t\tif ( offset === undefined ) offset = 0;\r\n\t\t\tif ( length === undefined ) length = buffer.length / buffer.itemSize;\r\n\r\n\t\t\tfor ( var i = 0, j = offset; i < length; i ++, j ++ ) {\r\n\r\n\t\t\t\tv1.x = buffer.getX( j );\r\n\t\t\t\tv1.y = buffer.getY( j );\r\n\t\t\t\tv1.z = buffer.getZ( j );\r\n\r\n\t\t\t\tv1.applyMatrix3( this );\r\n\r\n\t\t\t\tbuffer.setXYZ( v1.x, v1.y, v1.z );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn buffer;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tmultiplyScalar: function ( s ) {\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\r\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\r\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdeterminant: function () {\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tvar a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\r\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\r\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\r\n\r\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\r\n\r\n\t},\r\n\r\n\tgetInverse: function ( matrix, throwOnDegenerate ) {\r\n\r\n\t\tif ( matrix instanceof THREE.Matrix4 ) {\r\n\r\n\t\t\tconsole.error( \"THREE.Matrix3.getInverse no longer takes a Matrix4 argument.\" );\r\n\r\n\t\t}\r\n\r\n\t\tvar me = matrix.elements,\r\n\t\t\tte = this.elements,\r\n\r\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ],\r\n\t\t\tn12 = me[ 3 ], n22 = me[ 4 ], n32 = me[ 5 ],\r\n\t\t\tn13 = me[ 6 ], n23 = me[ 7 ], n33 = me[ 8 ],\r\n\r\n\t\t\tt11 = n33 * n22 - n32 * n23,\r\n\t\t\tt12 = n32 * n13 - n33 * n12,\r\n\t\t\tt13 = n23 * n12 - n22 * n13,\r\n\r\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\r\n\r\n\t\tif ( det === 0 ) {\r\n\r\n\t\t\tvar msg = \"THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0\";\r\n\r\n\t\t\tif ( throwOnDegenerate || false ) {\r\n\r\n\t\t\t\tthrow new Error( msg );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( msg );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this.identity();\r\n\t\t}\r\n\t\t\r\n\t\tvar detInv = 1 / det;\r\n\r\n\t\tte[ 0 ] = t11 * detInv;\r\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\r\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\r\n\r\n\t\tte[ 3 ] = t12 * detInv;\r\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\r\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\r\n\r\n\t\tte[ 6 ] = t13 * detInv;\r\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\r\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttranspose: function () {\r\n\r\n\t\tvar tmp, m = this.elements;\r\n\r\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\r\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\r\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tflattenToArrayOffset: function ( array, offset ) {\r\n\r\n\t\tconsole.warn( \"THREE.Matrix3: .flattenToArrayOffset is deprecated \" +\r\n\t\t\t\t\"- just use .toArray instead.\" );\r\n\r\n\t\treturn this.toArray( array, offset );\r\n\r\n\t},\r\n\r\n\tgetNormalMatrix: function ( matrix4 ) {\r\n\r\n\t\treturn this.setFromMatrix4( matrix4 ).getInverse( this ).transpose();\r\n\r\n\t},\r\n\r\n\ttransposeIntoArray: function ( r ) {\r\n\r\n\t\tvar m = this.elements;\r\n\r\n\t\tr[ 0 ] = m[ 0 ];\r\n\t\tr[ 1 ] = m[ 3 ];\r\n\t\tr[ 2 ] = m[ 6 ];\r\n\t\tr[ 3 ] = m[ 1 ];\r\n\t\tr[ 4 ] = m[ 4 ];\r\n\t\tr[ 5 ] = m[ 7 ];\r\n\t\tr[ 6 ] = m[ 2 ];\r\n\t\tr[ 7 ] = m[ 5 ];\r\n\t\tr[ 8 ] = m[ 8 ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tfromArray: function ( array ) {\r\n\r\n\t\tthis.elements.set( array );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoArray: function ( array, offset ) {\r\n\r\n\t\tif ( array === undefined ) array = [];\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tarray[ offset ] = te[ 0 ];\r\n\t\tarray[ offset + 1 ] = te[ 1 ];\r\n\t\tarray[ offset + 2 ] = te[ 2 ];\r\n\r\n\t\tarray[ offset + 3 ] = te[ 3 ];\r\n\t\tarray[ offset + 4 ] = te[ 4 ];\r\n\t\tarray[ offset + 5 ] = te[ 5 ];\r\n\r\n\t\tarray[ offset + 6 ] = te[ 6 ];\r\n\t\tarray[ offset + 7 ] = te[ 7 ];\r\n\t\tarray[ offset + 8 ]  = te[ 8 ];\r\n\r\n\t\treturn array;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/math/Matrix4.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author supereggbert / http://www.paulbrunt.co.uk/\r\n * @author philogb / http://blog.thejit.org/\r\n * @author jordi_ros / http://plattsoft.com\r\n * @author D1plo1d / http://github.com/D1plo1d\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author timknip / http://www.floorplanner.com/\r\n * @author bhouston / http://clara.io\r\n * @author WestLangley / http://github.com/WestLangley\r\n */\r\n\r\nTHREE.Matrix4 = function () {\r\n\r\n\tthis.elements = new Float32Array( [\r\n\r\n\t\t1, 0, 0, 0,\r\n\t\t0, 1, 0, 0,\r\n\t\t0, 0, 1, 0,\r\n\t\t0, 0, 0, 1\r\n\r\n\t] );\r\n\r\n\tif ( arguments.length > 0 ) {\r\n\r\n\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.Matrix4.prototype = {\r\n\r\n\tconstructor: THREE.Matrix4,\r\n\r\n\tset: function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\r\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\r\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\r\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tidentity: function () {\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\t1, 0, 0, 0,\r\n\t\t\t0, 1, 0, 0,\r\n\t\t\t0, 0, 1, 0,\r\n\t\t\t0, 0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new THREE.Matrix4().fromArray( this.elements );\r\n\r\n\t},\r\n\r\n\tcopy: function ( m ) {\r\n\r\n\t\tthis.elements.set( m.elements );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyPosition: function ( m ) {\r\n\r\n\t\tvar te = this.elements;\r\n\t\tvar me = m.elements;\r\n\r\n\t\tte[ 12 ] = me[ 12 ];\r\n\t\tte[ 13 ] = me[ 13 ];\r\n\t\tte[ 14 ] = me[ 14 ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\textractBasis: function ( xAxis, yAxis, zAxis ) {\r\n\r\n\t\txAxis.setFromMatrixColumn( this, 0 );\r\n\t\tyAxis.setFromMatrixColumn( this, 1 );\r\n\t\tzAxis.setFromMatrixColumn( this, 2 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmakeBasis: function ( xAxis, yAxis, zAxis ) {\r\n\r\n\t\tthis.set(\r\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\r\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\r\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\r\n\t\t\t0,       0,       0,       1\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\textractRotation: function () {\r\n\r\n\t\tvar v1;\r\n\r\n\t\treturn function ( m ) {\r\n\r\n\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\r\n\r\n\t\t\tvar te = this.elements;\r\n\t\t\tvar me = m.elements;\r\n\r\n\t\t\tvar scaleX = 1 / v1.setFromMatrixColumn( m, 0 ).length();\r\n\t\t\tvar scaleY = 1 / v1.setFromMatrixColumn( m, 1 ).length();\r\n\t\t\tvar scaleZ = 1 / v1.setFromMatrixColumn( m, 2 ).length();\r\n\r\n\t\t\tte[ 0 ] = me[ 0 ] * scaleX;\r\n\t\t\tte[ 1 ] = me[ 1 ] * scaleX;\r\n\t\t\tte[ 2 ] = me[ 2 ] * scaleX;\r\n\r\n\t\t\tte[ 4 ] = me[ 4 ] * scaleY;\r\n\t\t\tte[ 5 ] = me[ 5 ] * scaleY;\r\n\t\t\tte[ 6 ] = me[ 6 ] * scaleY;\r\n\r\n\t\t\tte[ 8 ] = me[ 8 ] * scaleZ;\r\n\t\t\tte[ 9 ] = me[ 9 ] * scaleZ;\r\n\t\t\tte[ 10 ] = me[ 10 ] * scaleZ;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tmakeRotationFromEuler: function ( euler ) {\r\n\r\n\t\tif ( euler instanceof THREE.Euler === false ) {\r\n\r\n\t\t\tconsole.error( 'THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\r\n\r\n\t\t}\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tvar x = euler.x, y = euler.y, z = euler.z;\r\n\t\tvar a = Math.cos( x ), b = Math.sin( x );\r\n\t\tvar c = Math.cos( y ), d = Math.sin( y );\r\n\t\tvar e = Math.cos( z ), f = Math.sin( z );\r\n\r\n\t\tif ( euler.order === 'XYZ' ) {\r\n\r\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\r\n\r\n\t\t\tte[ 0 ] = c * e;\r\n\t\t\tte[ 4 ] = - c * f;\r\n\t\t\tte[ 8 ] = d;\r\n\r\n\t\t\tte[ 1 ] = af + be * d;\r\n\t\t\tte[ 5 ] = ae - bf * d;\r\n\t\t\tte[ 9 ] = - b * c;\r\n\r\n\t\t\tte[ 2 ] = bf - ae * d;\r\n\t\t\tte[ 6 ] = be + af * d;\r\n\t\t\tte[ 10 ] = a * c;\r\n\r\n\t\t} else if ( euler.order === 'YXZ' ) {\r\n\r\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\r\n\r\n\t\t\tte[ 0 ] = ce + df * b;\r\n\t\t\tte[ 4 ] = de * b - cf;\r\n\t\t\tte[ 8 ] = a * d;\r\n\r\n\t\t\tte[ 1 ] = a * f;\r\n\t\t\tte[ 5 ] = a * e;\r\n\t\t\tte[ 9 ] = - b;\r\n\r\n\t\t\tte[ 2 ] = cf * b - de;\r\n\t\t\tte[ 6 ] = df + ce * b;\r\n\t\t\tte[ 10 ] = a * c;\r\n\r\n\t\t} else if ( euler.order === 'ZXY' ) {\r\n\r\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\r\n\r\n\t\t\tte[ 0 ] = ce - df * b;\r\n\t\t\tte[ 4 ] = - a * f;\r\n\t\t\tte[ 8 ] = de + cf * b;\r\n\r\n\t\t\tte[ 1 ] = cf + de * b;\r\n\t\t\tte[ 5 ] = a * e;\r\n\t\t\tte[ 9 ] = df - ce * b;\r\n\r\n\t\t\tte[ 2 ] = - a * d;\r\n\t\t\tte[ 6 ] = b;\r\n\t\t\tte[ 10 ] = a * c;\r\n\r\n\t\t} else if ( euler.order === 'ZYX' ) {\r\n\r\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\r\n\r\n\t\t\tte[ 0 ] = c * e;\r\n\t\t\tte[ 4 ] = be * d - af;\r\n\t\t\tte[ 8 ] = ae * d + bf;\r\n\r\n\t\t\tte[ 1 ] = c * f;\r\n\t\t\tte[ 5 ] = bf * d + ae;\r\n\t\t\tte[ 9 ] = af * d - be;\r\n\r\n\t\t\tte[ 2 ] = - d;\r\n\t\t\tte[ 6 ] = b * c;\r\n\t\t\tte[ 10 ] = a * c;\r\n\r\n\t\t} else if ( euler.order === 'YZX' ) {\r\n\r\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\r\n\r\n\t\t\tte[ 0 ] = c * e;\r\n\t\t\tte[ 4 ] = bd - ac * f;\r\n\t\t\tte[ 8 ] = bc * f + ad;\r\n\r\n\t\t\tte[ 1 ] = f;\r\n\t\t\tte[ 5 ] = a * e;\r\n\t\t\tte[ 9 ] = - b * e;\r\n\r\n\t\t\tte[ 2 ] = - d * e;\r\n\t\t\tte[ 6 ] = ad * f + bc;\r\n\t\t\tte[ 10 ] = ac - bd * f;\r\n\r\n\t\t} else if ( euler.order === 'XZY' ) {\r\n\r\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\r\n\r\n\t\t\tte[ 0 ] = c * e;\r\n\t\t\tte[ 4 ] = - f;\r\n\t\t\tte[ 8 ] = d * e;\r\n\r\n\t\t\tte[ 1 ] = ac * f + bd;\r\n\t\t\tte[ 5 ] = a * e;\r\n\t\t\tte[ 9 ] = ad * f - bc;\r\n\r\n\t\t\tte[ 2 ] = bc * f - ad;\r\n\t\t\tte[ 6 ] = b * e;\r\n\t\t\tte[ 10 ] = bd * f + ac;\r\n\r\n\t\t}\r\n\r\n\t\t// last column\r\n\t\tte[ 3 ] = 0;\r\n\t\tte[ 7 ] = 0;\r\n\t\tte[ 11 ] = 0;\r\n\r\n\t\t// bottom row\r\n\t\tte[ 12 ] = 0;\r\n\t\tte[ 13 ] = 0;\r\n\t\tte[ 14 ] = 0;\r\n\t\tte[ 15 ] = 1;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmakeRotationFromQuaternion: function ( q ) {\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tvar x = q.x, y = q.y, z = q.z, w = q.w;\r\n\t\tvar x2 = x + x, y2 = y + y, z2 = z + z;\r\n\t\tvar xx = x * x2, xy = x * y2, xz = x * z2;\r\n\t\tvar yy = y * y2, yz = y * z2, zz = z * z2;\r\n\t\tvar wx = w * x2, wy = w * y2, wz = w * z2;\r\n\r\n\t\tte[ 0 ] = 1 - ( yy + zz );\r\n\t\tte[ 4 ] = xy - wz;\r\n\t\tte[ 8 ] = xz + wy;\r\n\r\n\t\tte[ 1 ] = xy + wz;\r\n\t\tte[ 5 ] = 1 - ( xx + zz );\r\n\t\tte[ 9 ] = yz - wx;\r\n\r\n\t\tte[ 2 ] = xz - wy;\r\n\t\tte[ 6 ] = yz + wx;\r\n\t\tte[ 10 ] = 1 - ( xx + yy );\r\n\r\n\t\t// last column\r\n\t\tte[ 3 ] = 0;\r\n\t\tte[ 7 ] = 0;\r\n\t\tte[ 11 ] = 0;\r\n\r\n\t\t// bottom row\r\n\t\tte[ 12 ] = 0;\r\n\t\tte[ 13 ] = 0;\r\n\t\tte[ 14 ] = 0;\r\n\t\tte[ 15 ] = 1;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tlookAt: function () {\r\n\r\n\t\tvar x, y, z;\r\n\r\n\t\treturn function ( eye, target, up ) {\r\n\r\n\t\t\tif ( x === undefined ) {\r\n\r\n\t\t\t\tx = new THREE.Vector3();\r\n\t\t\t\ty = new THREE.Vector3();\r\n\t\t\t\tz = new THREE.Vector3();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tz.subVectors( eye, target ).normalize();\r\n\r\n\t\t\tif ( z.lengthSq() === 0 ) {\r\n\r\n\t\t\t\tz.z = 1;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tx.crossVectors( up, z ).normalize();\r\n\r\n\t\t\tif ( x.lengthSq() === 0 ) {\r\n\r\n\t\t\t\tz.z += 0.0001;\r\n\t\t\t\tx.crossVectors( up, z ).normalize();\r\n\r\n\t\t\t}\r\n\r\n\t\t\ty.crossVectors( z, x );\r\n\r\n\r\n\t\t\tte[ 0 ] = x.x; te[ 4 ] = y.x; te[ 8 ] = z.x;\r\n\t\t\tte[ 1 ] = x.y; te[ 5 ] = y.y; te[ 9 ] = z.y;\r\n\t\t\tte[ 2 ] = x.z; te[ 6 ] = y.z; te[ 10 ] = z.z;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tmultiply: function ( m, n ) {\r\n\r\n\t\tif ( n !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\r\n\t\t\treturn this.multiplyMatrices( m, n );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.multiplyMatrices( this, m );\r\n\r\n\t},\r\n\r\n\tpremultiply: function ( m ) {\r\n\r\n\t\treturn this.multiplyMatrices( m, this );\r\n\r\n\t},\r\n\r\n\tmultiplyMatrices: function ( a, b ) {\r\n\r\n\t\tvar ae = a.elements;\r\n\t\tvar be = b.elements;\r\n\t\tvar te = this.elements;\r\n\r\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\r\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\r\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\r\n\t\tvar a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\r\n\r\n\t\tvar b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\r\n\t\tvar b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\r\n\t\tvar b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\r\n\t\tvar b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\r\n\r\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\r\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\r\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\r\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\r\n\r\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\r\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\r\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\r\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\r\n\r\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\r\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\r\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\r\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\r\n\r\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\r\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\r\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\r\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiplyToArray: function ( a, b, r ) {\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tthis.multiplyMatrices( a, b );\r\n\r\n\t\tr[ 0 ] = te[ 0 ]; r[ 1 ] = te[ 1 ]; r[ 2 ] = te[ 2 ]; r[ 3 ] = te[ 3 ];\r\n\t\tr[ 4 ] = te[ 4 ]; r[ 5 ] = te[ 5 ]; r[ 6 ] = te[ 6 ]; r[ 7 ] = te[ 7 ];\r\n\t\tr[ 8 ]  = te[ 8 ]; r[ 9 ]  = te[ 9 ]; r[ 10 ] = te[ 10 ]; r[ 11 ] = te[ 11 ];\r\n\t\tr[ 12 ] = te[ 12 ]; r[ 13 ] = te[ 13 ]; r[ 14 ] = te[ 14 ]; r[ 15 ] = te[ 15 ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiplyScalar: function ( s ) {\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\r\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\r\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\r\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tapplyToVector3Array: function () {\r\n\r\n\t\tvar v1;\r\n\r\n\t\treturn function ( array, offset, length ) {\r\n\r\n\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\r\n\t\t\tif ( offset === undefined ) offset = 0;\r\n\t\t\tif ( length === undefined ) length = array.length;\r\n\r\n\t\t\tfor ( var i = 0, j = offset; i < length; i += 3, j += 3 ) {\r\n\r\n\t\t\t\tv1.fromArray( array, j );\r\n\t\t\t\tv1.applyMatrix4( this );\r\n\t\t\t\tv1.toArray( array, j );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn array;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tapplyToBuffer: function () {\r\n\r\n\t\tvar v1;\r\n\r\n\t\treturn function applyToBuffer( buffer, offset, length ) {\r\n\r\n\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\r\n\t\t\tif ( offset === undefined ) offset = 0;\r\n\t\t\tif ( length === undefined ) length = buffer.length / buffer.itemSize;\r\n\r\n\t\t\tfor ( var i = 0, j = offset; i < length; i ++, j ++ ) {\r\n\r\n\t\t\t\tv1.x = buffer.getX( j );\r\n\t\t\t\tv1.y = buffer.getY( j );\r\n\t\t\t\tv1.z = buffer.getZ( j );\r\n\r\n\t\t\t\tv1.applyMatrix4( this );\r\n\r\n\t\t\t\tbuffer.setXYZ( v1.x, v1.y, v1.z );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn buffer;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tdeterminant: function () {\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tvar n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\r\n\t\tvar n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\r\n\t\tvar n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\r\n\t\tvar n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\r\n\r\n\t\t//TODO: make this more efficient\r\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\r\n\r\n\t\treturn (\r\n\t\t\tn41 * (\r\n\t\t\t\t+ n14 * n23 * n32\r\n\t\t\t\t - n13 * n24 * n32\r\n\t\t\t\t - n14 * n22 * n33\r\n\t\t\t\t + n12 * n24 * n33\r\n\t\t\t\t + n13 * n22 * n34\r\n\t\t\t\t - n12 * n23 * n34\r\n\t\t\t) +\r\n\t\t\tn42 * (\r\n\t\t\t\t+ n11 * n23 * n34\r\n\t\t\t\t - n11 * n24 * n33\r\n\t\t\t\t + n14 * n21 * n33\r\n\t\t\t\t - n13 * n21 * n34\r\n\t\t\t\t + n13 * n24 * n31\r\n\t\t\t\t - n14 * n23 * n31\r\n\t\t\t) +\r\n\t\t\tn43 * (\r\n\t\t\t\t+ n11 * n24 * n32\r\n\t\t\t\t - n11 * n22 * n34\r\n\t\t\t\t - n14 * n21 * n32\r\n\t\t\t\t + n12 * n21 * n34\r\n\t\t\t\t + n14 * n22 * n31\r\n\t\t\t\t - n12 * n24 * n31\r\n\t\t\t) +\r\n\t\t\tn44 * (\r\n\t\t\t\t- n13 * n22 * n31\r\n\t\t\t\t - n11 * n23 * n32\r\n\t\t\t\t + n11 * n22 * n33\r\n\t\t\t\t + n13 * n21 * n32\r\n\t\t\t\t - n12 * n21 * n33\r\n\t\t\t\t + n12 * n23 * n31\r\n\t\t\t)\r\n\r\n\t\t);\r\n\r\n\t},\r\n\r\n\ttranspose: function () {\r\n\r\n\t\tvar te = this.elements;\r\n\t\tvar tmp;\r\n\r\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\r\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\r\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\r\n\r\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\r\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\r\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tflattenToArrayOffset: function ( array, offset ) {\r\n\r\n\t\tconsole.warn( \"THREE.Matrix3: .flattenToArrayOffset is deprecated \" +\r\n\t\t\t\t\"- just use .toArray instead.\" );\r\n\r\n\t\treturn this.toArray( array, offset );\r\n\r\n\t},\r\n\r\n\tgetPosition: function () {\r\n\r\n\t\tvar v1;\r\n\r\n\t\treturn function () {\r\n\r\n\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\r\n\t\t\tconsole.warn( 'THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\r\n\r\n\t\t\treturn v1.setFromMatrixColumn( this, 3 );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tsetPosition: function ( v ) {\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tte[ 12 ] = v.x;\r\n\t\tte[ 13 ] = v.y;\r\n\t\tte[ 14 ] = v.z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetInverse: function ( m, throwOnDegenerate ) {\r\n\r\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\r\n\t\tvar te = this.elements,\r\n\t\t\tme = m.elements,\r\n\r\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\r\n\t\t\tn12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\r\n\t\t\tn13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\r\n\t\t\tn14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\r\n\r\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\r\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\r\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\r\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\r\n\r\n\t\tvar det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\r\n\r\n\t\tif ( det === 0 ) {\r\n\r\n\t\t\tvar msg = \"THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0\";\r\n\r\n\t\t\tif ( throwOnDegenerate || false ) {\r\n\r\n\t\t\t\tthrow new Error( msg );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( msg );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this.identity();\r\n\r\n\t\t}\r\n\t\t\r\n\t\tvar detInv = 1 / det;\r\n\r\n\t\tte[ 0 ] = t11 * detInv;\r\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\r\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\r\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\r\n\r\n\t\tte[ 4 ] = t12 * detInv;\r\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\r\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\r\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\r\n\r\n\t\tte[ 8 ] = t13 * detInv;\r\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\r\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\r\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\r\n\r\n\t\tte[ 12 ] = t14 * detInv;\r\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\r\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\r\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tscale: function ( v ) {\r\n\r\n\t\tvar te = this.elements;\r\n\t\tvar x = v.x, y = v.y, z = v.z;\r\n\r\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\r\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\r\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\r\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetMaxScaleOnAxis: function () {\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tvar scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\r\n\t\tvar scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\r\n\t\tvar scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\r\n\r\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\r\n\r\n\t},\r\n\r\n\tmakeTranslation: function ( x, y, z ) {\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\t1, 0, 0, x,\r\n\t\t\t0, 1, 0, y,\r\n\t\t\t0, 0, 1, z,\r\n\t\t\t0, 0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmakeRotationX: function ( theta ) {\r\n\r\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\t1, 0,  0, 0,\r\n\t\t\t0, c, - s, 0,\r\n\t\t\t0, s,  c, 0,\r\n\t\t\t0, 0,  0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmakeRotationY: function ( theta ) {\r\n\r\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\t c, 0, s, 0,\r\n\t\t\t 0, 1, 0, 0,\r\n\t\t\t- s, 0, c, 0,\r\n\t\t\t 0, 0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmakeRotationZ: function ( theta ) {\r\n\r\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\tc, - s, 0, 0,\r\n\t\t\ts,  c, 0, 0,\r\n\t\t\t0,  0, 1, 0,\r\n\t\t\t0,  0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmakeRotationAxis: function ( axis, angle ) {\r\n\r\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\r\n\r\n\t\tvar c = Math.cos( angle );\r\n\t\tvar s = Math.sin( angle );\r\n\t\tvar t = 1 - c;\r\n\t\tvar x = axis.x, y = axis.y, z = axis.z;\r\n\t\tvar tx = t * x, ty = t * y;\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\r\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\r\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\r\n\t\t\t0, 0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\t return this;\r\n\r\n\t},\r\n\r\n\tmakeScale: function ( x, y, z ) {\r\n\r\n\t\tthis.set(\r\n\r\n\t\t\tx, 0, 0, 0,\r\n\t\t\t0, y, 0, 0,\r\n\t\t\t0, 0, z, 0,\r\n\t\t\t0, 0, 0, 1\r\n\r\n\t\t);\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcompose: function ( position, quaternion, scale ) {\r\n\r\n\t\tthis.makeRotationFromQuaternion( quaternion );\r\n\t\tthis.scale( scale );\r\n\t\tthis.setPosition( position );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdecompose: function () {\r\n\r\n\t\tvar vector, matrix;\r\n\r\n\t\treturn function ( position, quaternion, scale ) {\r\n\r\n\t\t\tif ( vector === undefined ) {\r\n\r\n\t\t\t\tvector = new THREE.Vector3();\r\n\t\t\t\tmatrix = new THREE.Matrix4();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tvar sx = vector.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\r\n\t\t\tvar sy = vector.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\r\n\t\t\tvar sz = vector.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\r\n\r\n\t\t\t// if determine is negative, we need to invert one scale\r\n\t\t\tvar det = this.determinant();\r\n\t\t\tif ( det < 0 ) {\r\n\r\n\t\t\t\tsx = - sx;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tposition.x = te[ 12 ];\r\n\t\t\tposition.y = te[ 13 ];\r\n\t\t\tposition.z = te[ 14 ];\r\n\r\n\t\t\t// scale the rotation part\r\n\r\n\t\t\tmatrix.elements.set( this.elements ); // at this point matrix is incomplete so we can't use .copy()\r\n\r\n\t\t\tvar invSX = 1 / sx;\r\n\t\t\tvar invSY = 1 / sy;\r\n\t\t\tvar invSZ = 1 / sz;\r\n\r\n\t\t\tmatrix.elements[ 0 ] *= invSX;\r\n\t\t\tmatrix.elements[ 1 ] *= invSX;\r\n\t\t\tmatrix.elements[ 2 ] *= invSX;\r\n\r\n\t\t\tmatrix.elements[ 4 ] *= invSY;\r\n\t\t\tmatrix.elements[ 5 ] *= invSY;\r\n\t\t\tmatrix.elements[ 6 ] *= invSY;\r\n\r\n\t\t\tmatrix.elements[ 8 ] *= invSZ;\r\n\t\t\tmatrix.elements[ 9 ] *= invSZ;\r\n\t\t\tmatrix.elements[ 10 ] *= invSZ;\r\n\r\n\t\t\tquaternion.setFromRotationMatrix( matrix );\r\n\r\n\t\t\tscale.x = sx;\r\n\t\t\tscale.y = sy;\r\n\t\t\tscale.z = sz;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tmakeFrustum: function ( left, right, bottom, top, near, far ) {\r\n\r\n\t\tvar te = this.elements;\r\n\t\tvar x = 2 * near / ( right - left );\r\n\t\tvar y = 2 * near / ( top - bottom );\r\n\r\n\t\tvar a = ( right + left ) / ( right - left );\r\n\t\tvar b = ( top + bottom ) / ( top - bottom );\r\n\t\tvar c = - ( far + near ) / ( far - near );\r\n\t\tvar d = - 2 * far * near / ( far - near );\r\n\r\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\r\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\r\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\r\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmakePerspective: function ( fov, aspect, near, far ) {\r\n\r\n\t\tvar ymax = near * Math.tan( THREE.Math.DEG2RAD * fov * 0.5 );\r\n\t\tvar ymin = - ymax;\r\n\t\tvar xmin = ymin * aspect;\r\n\t\tvar xmax = ymax * aspect;\r\n\r\n\t\treturn this.makeFrustum( xmin, xmax, ymin, ymax, near, far );\r\n\r\n\t},\r\n\r\n\tmakeOrthographic: function ( left, right, top, bottom, near, far ) {\r\n\r\n\t\tvar te = this.elements;\r\n\t\tvar w = 1.0 / ( right - left );\r\n\t\tvar h = 1.0 / ( top - bottom );\r\n\t\tvar p = 1.0 / ( far - near );\r\n\r\n\t\tvar x = ( right + left ) * w;\r\n\t\tvar y = ( top + bottom ) * h;\r\n\t\tvar z = ( far + near ) * p;\r\n\r\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\r\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\r\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\r\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tequals: function ( matrix ) {\r\n\r\n\t\tvar te = this.elements;\r\n\t\tvar me = matrix.elements;\r\n\r\n\t\tfor ( var i = 0; i < 16; i ++ ) {\r\n\r\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t},\r\n\r\n\tfromArray: function ( array ) {\r\n\r\n\t\tthis.elements.set( array );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoArray: function ( array, offset ) {\r\n\r\n\t\tif ( array === undefined ) array = [];\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tvar te = this.elements;\r\n\r\n\t\tarray[ offset ] = te[ 0 ];\r\n\t\tarray[ offset + 1 ] = te[ 1 ];\r\n\t\tarray[ offset + 2 ] = te[ 2 ];\r\n\t\tarray[ offset + 3 ] = te[ 3 ];\r\n\r\n\t\tarray[ offset + 4 ] = te[ 4 ];\r\n\t\tarray[ offset + 5 ] = te[ 5 ];\r\n\t\tarray[ offset + 6 ] = te[ 6 ];\r\n\t\tarray[ offset + 7 ] = te[ 7 ];\r\n\r\n\t\tarray[ offset + 8 ]  = te[ 8 ];\r\n\t\tarray[ offset + 9 ]  = te[ 9 ];\r\n\t\tarray[ offset + 10 ] = te[ 10 ];\r\n\t\tarray[ offset + 11 ] = te[ 11 ];\r\n\r\n\t\tarray[ offset + 12 ] = te[ 12 ];\r\n\t\tarray[ offset + 13 ] = te[ 13 ];\r\n\t\tarray[ offset + 14 ] = te[ 14 ];\r\n\t\tarray[ offset + 15 ] = te[ 15 ];\r\n\r\n\t\treturn array;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/math/Ray.js\r\n\r\n/**\r\n * @author bhouston / http://clara.io\r\n */\r\n\r\nTHREE.Ray = function ( origin, direction ) {\r\n\r\n\tthis.origin = ( origin !== undefined ) ? origin : new THREE.Vector3();\r\n\tthis.direction = ( direction !== undefined ) ? direction : new THREE.Vector3();\r\n\r\n};\r\n\r\nTHREE.Ray.prototype = {\r\n\r\n\tconstructor: THREE.Ray,\r\n\r\n\tset: function ( origin, direction ) {\r\n\r\n\t\tthis.origin.copy( origin );\r\n\t\tthis.direction.copy( direction );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( ray ) {\r\n\r\n\t\tthis.origin.copy( ray.origin );\r\n\t\tthis.direction.copy( ray.direction );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tat: function ( t, optionalTarget ) {\r\n\r\n\t\tvar result = optionalTarget || new THREE.Vector3();\r\n\r\n\t\treturn result.copy( this.direction ).multiplyScalar( t ).add( this.origin );\r\n\r\n\t},\r\n\r\n\tlookAt: function ( v ) {\r\n\r\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\trecast: function () {\r\n\r\n\t\tvar v1 = new THREE.Vector3();\r\n\r\n\t\treturn function ( t ) {\r\n\r\n\t\t\tthis.origin.copy( this.at( t, v1 ) );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tclosestPointToPoint: function ( point, optionalTarget ) {\r\n\r\n\t\tvar result = optionalTarget || new THREE.Vector3();\r\n\t\tresult.subVectors( point, this.origin );\r\n\t\tvar directionDistance = result.dot( this.direction );\r\n\r\n\t\tif ( directionDistance < 0 ) {\r\n\r\n\t\t\treturn result.copy( this.origin );\r\n\r\n\t\t}\r\n\r\n\t\treturn result.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\r\n\r\n\t},\r\n\r\n\tdistanceToPoint: function ( point ) {\r\n\r\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\r\n\r\n\t},\r\n\r\n\tdistanceSqToPoint: function () {\r\n\r\n\t\tvar v1 = new THREE.Vector3();\r\n\r\n\t\treturn function ( point ) {\r\n\r\n\t\t\tvar directionDistance = v1.subVectors( point, this.origin ).dot( this.direction );\r\n\r\n\t\t\t// point behind the ray\r\n\r\n\t\t\tif ( directionDistance < 0 ) {\r\n\r\n\t\t\t\treturn this.origin.distanceToSquared( point );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tv1.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\r\n\r\n\t\t\treturn v1.distanceToSquared( point );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tdistanceSqToSegment: function () {\r\n\r\n\t\tvar segCenter = new THREE.Vector3();\r\n\t\tvar segDir = new THREE.Vector3();\r\n\t\tvar diff = new THREE.Vector3();\r\n\r\n\t\treturn function ( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\r\n\r\n\t\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\r\n\t\t\t// It returns the min distance between the ray and the segment\r\n\t\t\t// defined by v0 and v1\r\n\t\t\t// It can also set two optional targets :\r\n\t\t\t// - The closest point on the ray\r\n\t\t\t// - The closest point on the segment\r\n\r\n\t\t\tsegCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\r\n\t\t\tsegDir.copy( v1 ).sub( v0 ).normalize();\r\n\t\t\tdiff.copy( this.origin ).sub( segCenter );\r\n\r\n\t\t\tvar segExtent = v0.distanceTo( v1 ) * 0.5;\r\n\t\t\tvar a01 = - this.direction.dot( segDir );\r\n\t\t\tvar b0 = diff.dot( this.direction );\r\n\t\t\tvar b1 = - diff.dot( segDir );\r\n\t\t\tvar c = diff.lengthSq();\r\n\t\t\tvar det = Math.abs( 1 - a01 * a01 );\r\n\t\t\tvar s0, s1, sqrDist, extDet;\r\n\r\n\t\t\tif ( det > 0 ) {\r\n\r\n\t\t\t\t// The ray and segment are not parallel.\r\n\r\n\t\t\t\ts0 = a01 * b1 - b0;\r\n\t\t\t\ts1 = a01 * b0 - b1;\r\n\t\t\t\textDet = segExtent * det;\r\n\r\n\t\t\t\tif ( s0 >= 0 ) {\r\n\r\n\t\t\t\t\tif ( s1 >= - extDet ) {\r\n\r\n\t\t\t\t\t\tif ( s1 <= extDet ) {\r\n\r\n\t\t\t\t\t\t\t// region 0\r\n\t\t\t\t\t\t\t// Minimum at interior points of ray and segment.\r\n\r\n\t\t\t\t\t\t\tvar invDet = 1 / det;\r\n\t\t\t\t\t\t\ts0 *= invDet;\r\n\t\t\t\t\t\t\ts1 *= invDet;\r\n\t\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t// region 1\r\n\r\n\t\t\t\t\t\t\ts1 = segExtent;\r\n\t\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\r\n\t\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// region 5\r\n\r\n\t\t\t\t\t\ts1 = - segExtent;\r\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\r\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( s1 <= - extDet ) {\r\n\r\n\t\t\t\t\t\t// region 4\r\n\r\n\t\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\r\n\t\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\r\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\r\n\r\n\t\t\t\t\t} else if ( s1 <= extDet ) {\r\n\r\n\t\t\t\t\t\t// region 3\r\n\r\n\t\t\t\t\t\ts0 = 0;\r\n\t\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\r\n\t\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// region 2\r\n\r\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\r\n\t\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\r\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Ray and segment are parallel.\r\n\r\n\t\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\r\n\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\r\n\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( optionalPointOnRay ) {\r\n\r\n\t\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( optionalPointOnSegment ) {\r\n\r\n\t\t\t\toptionalPointOnSegment.copy( segDir ).multiplyScalar( s1 ).add( segCenter );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn sqrDist;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tintersectSphere: function () {\r\n\r\n\t\tvar v1 = new THREE.Vector3();\r\n\r\n\t\treturn function ( sphere, optionalTarget ) {\r\n\r\n\t\t\tv1.subVectors( sphere.center, this.origin );\r\n\t\t\tvar tca = v1.dot( this.direction );\r\n\t\t\tvar d2 = v1.dot( v1 ) - tca * tca;\r\n\t\t\tvar radius2 = sphere.radius * sphere.radius;\r\n\r\n\t\t\tif ( d2 > radius2 ) return null;\r\n\r\n\t\t\tvar thc = Math.sqrt( radius2 - d2 );\r\n\r\n\t\t\t// t0 = first intersect point - entrance on front of sphere\r\n\t\t\tvar t0 = tca - thc;\r\n\r\n\t\t\t// t1 = second intersect point - exit point on back of sphere\r\n\t\t\tvar t1 = tca + thc;\r\n\r\n\t\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\r\n\t\t\tif ( t0 < 0 && t1 < 0 ) return null;\r\n\r\n\t\t\t// test to see if t0 is behind the ray:\r\n\t\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\r\n\t\t\t// in order to always return an intersect point that is in front of the ray.\r\n\t\t\tif ( t0 < 0 ) return this.at( t1, optionalTarget );\r\n\r\n\t\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\r\n\t\t\treturn this.at( t0, optionalTarget );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tintersectsSphere: function ( sphere ) {\r\n\r\n\t\treturn this.distanceToPoint( sphere.center ) <= sphere.radius;\r\n\r\n\t},\r\n\r\n\tdistanceToPlane: function ( plane ) {\r\n\r\n\t\tvar denominator = plane.normal.dot( this.direction );\r\n\r\n\t\tif ( denominator === 0 ) {\r\n\r\n\t\t\t// line is coplanar, return origin\r\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\r\n\r\n\t\t\t\treturn 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\tvar t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\r\n\r\n\t\t// Return if the ray never intersects the plane\r\n\r\n\t\treturn t >= 0 ? t :  null;\r\n\r\n\t},\r\n\r\n\tintersectPlane: function ( plane, optionalTarget ) {\r\n\r\n\t\tvar t = this.distanceToPlane( plane );\r\n\r\n\t\tif ( t === null ) {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\treturn this.at( t, optionalTarget );\r\n\r\n\t},\r\n\r\n\r\n\r\n\tintersectsPlane: function ( plane ) {\r\n\r\n\t\t// check if the ray lies on the plane first\r\n\r\n\t\tvar distToPoint = plane.distanceToPoint( this.origin );\r\n\r\n\t\tif ( distToPoint === 0 ) {\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\r\n\t\tvar denominator = plane.normal.dot( this.direction );\r\n\r\n\t\tif ( denominator * distToPoint < 0 ) {\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\r\n\t\t// ray origin is behind the plane (and is pointing behind it)\r\n\r\n\t\treturn false;\r\n\r\n\t},\r\n\r\n\tintersectBox: function ( box, optionalTarget ) {\r\n\r\n\t\tvar tmin, tmax, tymin, tymax, tzmin, tzmax;\r\n\r\n\t\tvar invdirx = 1 / this.direction.x,\r\n\t\t\tinvdiry = 1 / this.direction.y,\r\n\t\t\tinvdirz = 1 / this.direction.z;\r\n\r\n\t\tvar origin = this.origin;\r\n\r\n\t\tif ( invdirx >= 0 ) {\r\n\r\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\r\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\r\n\r\n\t\t} else {\r\n\r\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\r\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\r\n\r\n\t\t}\r\n\r\n\t\tif ( invdiry >= 0 ) {\r\n\r\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\r\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\r\n\r\n\t\t} else {\r\n\r\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\r\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\r\n\r\n\t\t}\r\n\r\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\r\n\r\n\t\t// These lines also handle the case where tmin or tmax is NaN\r\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\r\n\r\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\r\n\r\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\r\n\r\n\t\tif ( invdirz >= 0 ) {\r\n\r\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\r\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\r\n\r\n\t\t} else {\r\n\r\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\r\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\r\n\r\n\t\t}\r\n\r\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\r\n\r\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\r\n\r\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\r\n\r\n\t\t//return point closest to the ray (positive side)\r\n\r\n\t\tif ( tmax < 0 ) return null;\r\n\r\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, optionalTarget );\r\n\r\n\t},\r\n\r\n\tintersectsBox: ( function () {\r\n\r\n\t\tvar v = new THREE.Vector3();\r\n\r\n\t\treturn function ( box ) {\r\n\r\n\t\t\treturn this.intersectBox( box, v ) !== null;\r\n\r\n\t\t};\r\n\r\n\t} )(),\r\n\r\n\tintersectTriangle: function () {\r\n\r\n\t\t// Compute the offset origin, edges, and normal.\r\n\t\tvar diff = new THREE.Vector3();\r\n\t\tvar edge1 = new THREE.Vector3();\r\n\t\tvar edge2 = new THREE.Vector3();\r\n\t\tvar normal = new THREE.Vector3();\r\n\r\n\t\treturn function ( a, b, c, backfaceCulling, optionalTarget ) {\r\n\r\n\t\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\r\n\r\n\t\t\tedge1.subVectors( b, a );\r\n\t\t\tedge2.subVectors( c, a );\r\n\t\t\tnormal.crossVectors( edge1, edge2 );\r\n\r\n\t\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\r\n\t\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\r\n\t\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\r\n\t\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\r\n\t\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\r\n\t\t\tvar DdN = this.direction.dot( normal );\r\n\t\t\tvar sign;\r\n\r\n\t\t\tif ( DdN > 0 ) {\r\n\r\n\t\t\t\tif ( backfaceCulling ) return null;\r\n\t\t\t\tsign = 1;\r\n\r\n\t\t\t} else if ( DdN < 0 ) {\r\n\r\n\t\t\t\tsign = - 1;\r\n\t\t\t\tDdN = - DdN;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tdiff.subVectors( this.origin, a );\r\n\t\t\tvar DdQxE2 = sign * this.direction.dot( edge2.crossVectors( diff, edge2 ) );\r\n\r\n\t\t\t// b1 < 0, no intersection\r\n\t\t\tif ( DdQxE2 < 0 ) {\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar DdE1xQ = sign * this.direction.dot( edge1.cross( diff ) );\r\n\r\n\t\t\t// b2 < 0, no intersection\r\n\t\t\tif ( DdE1xQ < 0 ) {\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// b1+b2 > 1, no intersection\r\n\t\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Line intersects triangle, check if ray does.\r\n\t\t\tvar QdN = - sign * diff.dot( normal );\r\n\r\n\t\t\t// t < 0, no intersection\r\n\t\t\tif ( QdN < 0 ) {\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Ray intersects triangle.\r\n\t\t\treturn this.at( QdN / DdN, optionalTarget );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tapplyMatrix4: function ( matrix4 ) {\r\n\r\n\t\tthis.direction.add( this.origin ).applyMatrix4( matrix4 );\r\n\t\tthis.origin.applyMatrix4( matrix4 );\r\n\t\tthis.direction.sub( this.origin );\r\n\t\tthis.direction.normalize();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tequals: function ( ray ) {\r\n\r\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/math/Sphere.js\r\n\r\n/**\r\n * @author bhouston / http://clara.io\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.Sphere = function ( center, radius ) {\r\n\r\n\tthis.center = ( center !== undefined ) ? center : new THREE.Vector3();\r\n\tthis.radius = ( radius !== undefined ) ? radius : 0;\r\n\r\n};\r\n\r\nTHREE.Sphere.prototype = {\r\n\r\n\tconstructor: THREE.Sphere,\r\n\r\n\tset: function ( center, radius ) {\r\n\r\n\t\tthis.center.copy( center );\r\n\t\tthis.radius = radius;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromPoints: function () {\r\n\r\n\t\tvar box = new THREE.Box3();\r\n\r\n\t\treturn function ( points, optionalCenter ) {\r\n\r\n\t\t\tvar center = this.center;\r\n\r\n\t\t\tif ( optionalCenter !== undefined ) {\r\n\r\n\t\t\t\tcenter.copy( optionalCenter );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbox.setFromPoints( points ).center( center );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar maxRadiusSq = 0;\r\n\r\n\t\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.radius = Math.sqrt( maxRadiusSq );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( sphere ) {\r\n\r\n\t\tthis.center.copy( sphere.center );\r\n\t\tthis.radius = sphere.radius;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tempty: function () {\r\n\r\n\t\treturn ( this.radius <= 0 );\r\n\r\n\t},\r\n\r\n\tcontainsPoint: function ( point ) {\r\n\r\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\r\n\r\n\t},\r\n\r\n\tdistanceToPoint: function ( point ) {\r\n\r\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\r\n\r\n\t},\r\n\r\n\tintersectsSphere: function ( sphere ) {\r\n\r\n\t\tvar radiusSum = this.radius + sphere.radius;\r\n\r\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\r\n\r\n\t},\r\n\r\n\tintersectsBox: function ( box ) {\r\n\r\n\t\treturn box.intersectsSphere( this );\r\n\r\n\t},\r\n\r\n\tintersectsPlane: function ( plane ) {\r\n\r\n\t\t// We use the following equation to compute the signed distance from\r\n\t\t// the center of the sphere to the plane.\r\n\t\t//\r\n\t\t// distance = q * n - d\r\n\t\t//\r\n\t\t// If this distance is greater than the radius of the sphere,\r\n\t\t// then there is no intersection.\r\n\r\n\t\treturn Math.abs( this.center.dot( plane.normal ) - plane.constant ) <= this.radius;\r\n\r\n\t},\r\n\r\n\tclampPoint: function ( point, optionalTarget ) {\r\n\r\n\t\tvar deltaLengthSq = this.center.distanceToSquared( point );\r\n\r\n\t\tvar result = optionalTarget || new THREE.Vector3();\r\n\r\n\t\tresult.copy( point );\r\n\r\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\r\n\r\n\t\t\tresult.sub( this.center ).normalize();\r\n\t\t\tresult.multiplyScalar( this.radius ).add( this.center );\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t},\r\n\r\n\tgetBoundingBox: function ( optionalTarget ) {\r\n\r\n\t\tvar box = optionalTarget || new THREE.Box3();\r\n\r\n\t\tbox.set( this.center, this.center );\r\n\t\tbox.expandByScalar( this.radius );\r\n\r\n\t\treturn box;\r\n\r\n\t},\r\n\r\n\tapplyMatrix4: function ( matrix ) {\r\n\r\n\t\tthis.center.applyMatrix4( matrix );\r\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttranslate: function ( offset ) {\r\n\r\n\t\tthis.center.add( offset );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tequals: function ( sphere ) {\r\n\r\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/math/Frustum.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author bhouston / http://clara.io\r\n */\r\n\r\nTHREE.Frustum = function ( p0, p1, p2, p3, p4, p5 ) {\r\n\r\n\tthis.planes = [\r\n\r\n\t\t( p0 !== undefined ) ? p0 : new THREE.Plane(),\r\n\t\t( p1 !== undefined ) ? p1 : new THREE.Plane(),\r\n\t\t( p2 !== undefined ) ? p2 : new THREE.Plane(),\r\n\t\t( p3 !== undefined ) ? p3 : new THREE.Plane(),\r\n\t\t( p4 !== undefined ) ? p4 : new THREE.Plane(),\r\n\t\t( p5 !== undefined ) ? p5 : new THREE.Plane()\r\n\r\n\t];\r\n\r\n};\r\n\r\nTHREE.Frustum.prototype = {\r\n\r\n\tconstructor: THREE.Frustum,\r\n\r\n\tset: function ( p0, p1, p2, p3, p4, p5 ) {\r\n\r\n\t\tvar planes = this.planes;\r\n\r\n\t\tplanes[ 0 ].copy( p0 );\r\n\t\tplanes[ 1 ].copy( p1 );\r\n\t\tplanes[ 2 ].copy( p2 );\r\n\t\tplanes[ 3 ].copy( p3 );\r\n\t\tplanes[ 4 ].copy( p4 );\r\n\t\tplanes[ 5 ].copy( p5 );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( frustum ) {\r\n\r\n\t\tvar planes = this.planes;\r\n\r\n\t\tfor ( var i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromMatrix: function ( m ) {\r\n\r\n\t\tvar planes = this.planes;\r\n\t\tvar me = m.elements;\r\n\t\tvar me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\r\n\t\tvar me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\r\n\t\tvar me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\r\n\t\tvar me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\r\n\r\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\r\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\r\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\r\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\r\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\r\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tintersectsObject: function () {\r\n\r\n\t\tvar sphere = new THREE.Sphere();\r\n\r\n\t\treturn function ( object ) {\r\n\r\n\t\t\tvar geometry = object.geometry;\r\n\r\n\t\t\tif ( geometry.boundingSphere === null )\r\n\t\t\t\tgeometry.computeBoundingSphere();\r\n\r\n\t\t\tsphere.copy( geometry.boundingSphere )\r\n\t\t\t\t.applyMatrix4( object.matrixWorld );\r\n\r\n\t\t\treturn this.intersectsSphere( sphere );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tintersectsSprite: function () {\r\n\r\n\t\tvar sphere = new THREE.Sphere();\r\n\r\n\t\treturn function ( sprite ) {\r\n\r\n\t\t\tsphere.center.set( 0, 0, 0 );\r\n\t\t\tsphere.radius = 0.7071067811865476;\r\n\t\t\tsphere.applyMatrix4( sprite.matrixWorld );\r\n\r\n\t\t\treturn this.intersectsSphere( sphere );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tintersectsSphere: function ( sphere ) {\r\n\r\n\t\tvar planes = this.planes;\r\n\t\tvar center = sphere.center;\r\n\t\tvar negRadius = - sphere.radius;\r\n\r\n\t\tfor ( var i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\tvar distance = planes[ i ].distanceToPoint( center );\r\n\r\n\t\t\tif ( distance < negRadius ) {\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t},\r\n\r\n\tintersectsBox: function () {\r\n\r\n\t\tvar p1 = new THREE.Vector3(),\r\n\t\t\tp2 = new THREE.Vector3();\r\n\r\n\t\treturn function ( box ) {\r\n\r\n\t\t\tvar planes = this.planes;\r\n\r\n\t\t\tfor ( var i = 0; i < 6 ; i ++ ) {\r\n\r\n\t\t\t\tvar plane = planes[ i ];\r\n\r\n\t\t\t\tp1.x = plane.normal.x > 0 ? box.min.x : box.max.x;\r\n\t\t\t\tp2.x = plane.normal.x > 0 ? box.max.x : box.min.x;\r\n\t\t\t\tp1.y = plane.normal.y > 0 ? box.min.y : box.max.y;\r\n\t\t\t\tp2.y = plane.normal.y > 0 ? box.max.y : box.min.y;\r\n\t\t\t\tp1.z = plane.normal.z > 0 ? box.min.z : box.max.z;\r\n\t\t\t\tp2.z = plane.normal.z > 0 ? box.max.z : box.min.z;\r\n\r\n\t\t\t\tvar d1 = plane.distanceToPoint( p1 );\r\n\t\t\t\tvar d2 = plane.distanceToPoint( p2 );\r\n\r\n\t\t\t\t// if both outside plane, no intersection\r\n\r\n\t\t\t\tif ( d1 < 0 && d2 < 0 ) {\r\n\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\r\n\tcontainsPoint: function ( point ) {\r\n\r\n\t\tvar planes = this.planes;\r\n\r\n\t\tfor ( var i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/math/Plane.js\r\n\r\n/**\r\n * @author bhouston / http://clara.io\r\n */\r\n\r\nTHREE.Plane = function ( normal, constant ) {\r\n\r\n\tthis.normal = ( normal !== undefined ) ? normal : new THREE.Vector3( 1, 0, 0 );\r\n\tthis.constant = ( constant !== undefined ) ? constant : 0;\r\n\r\n};\r\n\r\nTHREE.Plane.prototype = {\r\n\r\n\tconstructor: THREE.Plane,\r\n\r\n\tset: function ( normal, constant ) {\r\n\r\n\t\tthis.normal.copy( normal );\r\n\t\tthis.constant = constant;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetComponents: function ( x, y, z, w ) {\r\n\r\n\t\tthis.normal.set( x, y, z );\r\n\t\tthis.constant = w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromNormalAndCoplanarPoint: function ( normal, point ) {\r\n\r\n\t\tthis.normal.copy( normal );\r\n\t\tthis.constant = - point.dot( this.normal );\t// must be this.normal, not normal, as this.normal is normalized\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromCoplanarPoints: function () {\r\n\r\n\t\tvar v1 = new THREE.Vector3();\r\n\t\tvar v2 = new THREE.Vector3();\r\n\r\n\t\treturn function ( a, b, c ) {\r\n\r\n\t\t\tvar normal = v1.subVectors( c, b ).cross( v2.subVectors( a, b ) ).normalize();\r\n\r\n\t\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\r\n\r\n\t\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( plane ) {\r\n\r\n\t\tthis.normal.copy( plane.normal );\r\n\t\tthis.constant = plane.constant;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tnormalize: function () {\r\n\r\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\r\n\r\n\t\tvar inverseNormalLength = 1.0 / this.normal.length();\r\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\r\n\t\tthis.constant *= inverseNormalLength;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tnegate: function () {\r\n\r\n\t\tthis.constant *= - 1;\r\n\t\tthis.normal.negate();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdistanceToPoint: function ( point ) {\r\n\r\n\t\treturn this.normal.dot( point ) + this.constant;\r\n\r\n\t},\r\n\r\n\tdistanceToSphere: function ( sphere ) {\r\n\r\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\r\n\r\n\t},\r\n\r\n\tprojectPoint: function ( point, optionalTarget ) {\r\n\r\n\t\treturn this.orthoPoint( point, optionalTarget ).sub( point ).negate();\r\n\r\n\t},\r\n\r\n\torthoPoint: function ( point, optionalTarget ) {\r\n\r\n\t\tvar perpendicularMagnitude = this.distanceToPoint( point );\r\n\r\n\t\tvar result = optionalTarget || new THREE.Vector3();\r\n\t\treturn result.copy( this.normal ).multiplyScalar( perpendicularMagnitude );\r\n\r\n\t},\r\n\r\n\tintersectLine: function () {\r\n\r\n\t\tvar v1 = new THREE.Vector3();\r\n\r\n\t\treturn function ( line, optionalTarget ) {\r\n\r\n\t\t\tvar result = optionalTarget || new THREE.Vector3();\r\n\r\n\t\t\tvar direction = line.delta( v1 );\r\n\r\n\t\t\tvar denominator = this.normal.dot( direction );\r\n\r\n\t\t\tif ( denominator === 0 ) {\r\n\r\n\t\t\t\t// line is coplanar, return origin\r\n\t\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\r\n\r\n\t\t\t\t\treturn result.copy( line.start );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Unsure if this is the correct method to handle this case.\r\n\t\t\t\treturn undefined;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\r\n\r\n\t\t\tif ( t < 0 || t > 1 ) {\r\n\r\n\t\t\t\treturn undefined;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn result.copy( direction ).multiplyScalar( t ).add( line.start );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tintersectsLine: function ( line ) {\r\n\r\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\r\n\r\n\t\tvar startSign = this.distanceToPoint( line.start );\r\n\t\tvar endSign = this.distanceToPoint( line.end );\r\n\r\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\r\n\r\n\t},\r\n\r\n\tintersectsBox: function ( box ) {\r\n\r\n\t\treturn box.intersectsPlane( this );\r\n\r\n\t},\r\n\r\n\tintersectsSphere: function ( sphere ) {\r\n\r\n\t\treturn sphere.intersectsPlane( this );\r\n\r\n\t},\r\n\r\n\tcoplanarPoint: function ( optionalTarget ) {\r\n\r\n\t\tvar result = optionalTarget || new THREE.Vector3();\r\n\t\treturn result.copy( this.normal ).multiplyScalar( - this.constant );\r\n\r\n\t},\r\n\r\n\tapplyMatrix4: function () {\r\n\r\n\t\tvar v1 = new THREE.Vector3();\r\n\t\tvar m1 = new THREE.Matrix3();\r\n\r\n\t\treturn function ( matrix, optionalNormalMatrix ) {\r\n\r\n\t\t\tvar referencePoint = this.coplanarPoint( v1 ).applyMatrix4( matrix );\r\n\r\n\t\t\t// transform normal based on theory here:\r\n\t\t\t// http://www.songho.ca/opengl/gl_normaltransform.html\r\n\t\t\tvar normalMatrix = optionalNormalMatrix || m1.getNormalMatrix( matrix );\r\n\t\t\tvar normal = this.normal.applyMatrix3( normalMatrix ).normalize();\r\n\r\n\t\t\t// recalculate constant (like in setFromNormalAndCoplanarPoint)\r\n\t\t\tthis.constant = - referencePoint.dot( normal );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\ttranslate: function ( offset ) {\r\n\r\n\t\tthis.constant = this.constant - offset.dot( this.normal );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tequals: function ( plane ) {\r\n\r\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/math/Spherical.js\r\n\r\n/**\r\n * @author bhouston / http://clara.io\r\n * @author WestLangley / http://github.com/WestLangley\r\n *\r\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\r\n *\r\n * The poles (phi) are at the positive and negative y axis.\r\n * The equator starts at positive z.\r\n */\r\n\r\nTHREE.Spherical = function ( radius, phi, theta ) {\r\n\r\n\tthis.radius = ( radius !== undefined ) ? radius : 1.0;\r\n\tthis.phi = ( phi !== undefined ) ? phi : 0; // up / down towards top and bottom pole\r\n\tthis.theta = ( theta !== undefined ) ? theta : 0; // around the equator of the sphere\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nTHREE.Spherical.prototype = {\r\n\r\n\tconstructor: THREE.Spherical,\r\n\r\n\tset: function ( radius, phi, theta ) {\r\n\r\n\t\tthis.radius = radius;\r\n\t\tthis.phi = phi;\r\n\t\tthis.theta = theta;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( other ) {\r\n\r\n\t\tthis.radius.copy( other.radius );\r\n\t\tthis.phi.copy( other.phi );\r\n\t\tthis.theta.copy( other.theta );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t// restrict phi to be betwee EPS and PI-EPS\r\n\tmakeSafe: function() {\r\n\r\n\t\tvar EPS = 0.000001;\r\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromVector3: function( vec3 ) {\r\n\r\n\t\tthis.radius = vec3.length();\r\n\r\n\t\tif ( this.radius === 0 ) {\r\n\r\n\t\t\tthis.theta = 0;\r\n\t\t\tthis.phi = 0;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.theta = Math.atan2( vec3.x, vec3.z ); // equator angle around y-up axis\r\n\t\t\tthis.phi = Math.acos( THREE.Math.clamp( vec3.y / this.radius, - 1, 1 ) ); // polar angle\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n};\r\n\r\n// File:src/math/Math.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.Math = {\r\n\r\n\tDEG2RAD: Math.PI / 180,\r\n\tRAD2DEG: 180 / Math.PI,\r\n\r\n\tgenerateUUID: function () {\r\n\r\n\t\t// http://www.broofa.com/Tools/Math.uuid.htm\r\n\r\n\t\tvar chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split( '' );\r\n\t\tvar uuid = new Array( 36 );\r\n\t\tvar rnd = 0, r;\r\n\r\n\t\treturn function () {\r\n\r\n\t\t\tfor ( var i = 0; i < 36; i ++ ) {\r\n\r\n\t\t\t\tif ( i === 8 || i === 13 || i === 18 || i === 23 ) {\r\n\r\n\t\t\t\t\tuuid[ i ] = '-';\r\n\r\n\t\t\t\t} else if ( i === 14 ) {\r\n\r\n\t\t\t\t\tuuid[ i ] = '4';\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( rnd <= 0x02 ) rnd = 0x2000000 + ( Math.random() * 0x1000000 ) | 0;\r\n\t\t\t\t\tr = rnd & 0xf;\r\n\t\t\t\t\trnd = rnd >> 4;\r\n\t\t\t\t\tuuid[ i ] = chars[ ( i === 19 ) ? ( r & 0x3 ) | 0x8 : r ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn uuid.join( '' );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tclamp: function ( value, min, max ) {\r\n\r\n\t\treturn Math.max( min, Math.min( max, value ) );\r\n\r\n\t},\r\n\r\n\t// compute euclidian modulo of m % n\r\n\t// https://en.wikipedia.org/wiki/Modulo_operation\r\n\r\n\teuclideanModulo: function ( n, m ) {\r\n\r\n\t\treturn ( ( n % m ) + m ) % m;\r\n\r\n\t},\r\n\r\n\t// Linear mapping from range <a1, a2> to range <b1, b2>\r\n\r\n\tmapLinear: function ( x, a1, a2, b1, b2 ) {\r\n\r\n\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\r\n\r\n\t},\r\n\r\n\t// http://en.wikipedia.org/wiki/Smoothstep\r\n\r\n\tsmoothstep: function ( x, min, max ) {\r\n\r\n\t\tif ( x <= min ) return 0;\r\n\t\tif ( x >= max ) return 1;\r\n\r\n\t\tx = ( x - min ) / ( max - min );\r\n\r\n\t\treturn x * x * ( 3 - 2 * x );\r\n\r\n\t},\r\n\r\n\tsmootherstep: function ( x, min, max ) {\r\n\r\n\t\tif ( x <= min ) return 0;\r\n\t\tif ( x >= max ) return 1;\r\n\r\n\t\tx = ( x - min ) / ( max - min );\r\n\r\n\t\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\r\n\r\n\t},\r\n\r\n\trandom16: function () {\r\n\r\n\t\tconsole.warn( 'THREE.Math.random16() has been deprecated. Use Math.random() instead.' );\r\n\t\treturn Math.random();\r\n\r\n\t},\r\n\r\n\t// Random integer from <low, high> interval\r\n\r\n\trandInt: function ( low, high ) {\r\n\r\n\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\r\n\r\n\t},\r\n\r\n\t// Random float from <low, high> interval\r\n\r\n\trandFloat: function ( low, high ) {\r\n\r\n\t\treturn low + Math.random() * ( high - low );\r\n\r\n\t},\r\n\r\n\t// Random float from <-range/2, range/2> interval\r\n\r\n\trandFloatSpread: function ( range ) {\r\n\r\n\t\treturn range * ( 0.5 - Math.random() );\r\n\r\n\t},\r\n\r\n\tdegToRad: function ( degrees ) {\r\n\r\n\t\treturn degrees * THREE.Math.DEG2RAD;\r\n\r\n\t},\r\n\r\n\tradToDeg: function ( radians ) {\r\n\r\n\t\treturn radians * THREE.Math.RAD2DEG;\r\n\r\n\t},\r\n\r\n\tisPowerOfTwo: function ( value ) {\r\n\r\n\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\r\n\r\n\t},\r\n\r\n\tnearestPowerOfTwo: function ( value ) {\r\n\r\n\t\treturn Math.pow( 2, Math.round( Math.log( value ) / Math.LN2 ) );\r\n\r\n\t},\r\n\r\n\tnextPowerOfTwo: function ( value ) {\r\n\r\n\t\tvalue --;\r\n\t\tvalue |= value >> 1;\r\n\t\tvalue |= value >> 2;\r\n\t\tvalue |= value >> 4;\r\n\t\tvalue |= value >> 8;\r\n\t\tvalue |= value >> 16;\r\n\t\tvalue ++;\r\n\r\n\t\treturn value;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/math/Spline.js\r\n\r\n/**\r\n * Spline from Tween.js, slightly optimized (and trashed)\r\n * http://sole.github.com/tween.js/examples/05_spline.html\r\n *\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.Spline = function ( points ) {\r\n\r\n\tthis.points = points;\r\n\r\n\tvar c = [], v3 = { x: 0, y: 0, z: 0 },\r\n\tpoint, intPoint, weight, w2, w3,\r\n\tpa, pb, pc, pd;\r\n\r\n\tthis.initFromArray = function ( a ) {\r\n\r\n\t\tthis.points = [];\r\n\r\n\t\tfor ( var i = 0; i < a.length; i ++ ) {\r\n\r\n\t\t\tthis.points[ i ] = { x: a[ i ][ 0 ], y: a[ i ][ 1 ], z: a[ i ][ 2 ] };\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.getPoint = function ( k ) {\r\n\r\n\t\tpoint = ( this.points.length - 1 ) * k;\r\n\t\tintPoint = Math.floor( point );\r\n\t\tweight = point - intPoint;\r\n\r\n\t\tc[ 0 ] = intPoint === 0 ? intPoint : intPoint - 1;\r\n\t\tc[ 1 ] = intPoint;\r\n\t\tc[ 2 ] = intPoint  > this.points.length - 2 ? this.points.length - 1 : intPoint + 1;\r\n\t\tc[ 3 ] = intPoint  > this.points.length - 3 ? this.points.length - 1 : intPoint + 2;\r\n\r\n\t\tpa = this.points[ c[ 0 ] ];\r\n\t\tpb = this.points[ c[ 1 ] ];\r\n\t\tpc = this.points[ c[ 2 ] ];\r\n\t\tpd = this.points[ c[ 3 ] ];\r\n\r\n\t\tw2 = weight * weight;\r\n\t\tw3 = weight * w2;\r\n\r\n\t\tv3.x = interpolate( pa.x, pb.x, pc.x, pd.x, weight, w2, w3 );\r\n\t\tv3.y = interpolate( pa.y, pb.y, pc.y, pd.y, weight, w2, w3 );\r\n\t\tv3.z = interpolate( pa.z, pb.z, pc.z, pd.z, weight, w2, w3 );\r\n\r\n\t\treturn v3;\r\n\r\n\t};\r\n\r\n\tthis.getControlPointsArray = function () {\r\n\r\n\t\tvar i, p, l = this.points.length,\r\n\t\t\tcoords = [];\r\n\r\n\t\tfor ( i = 0; i < l; i ++ ) {\r\n\r\n\t\t\tp = this.points[ i ];\r\n\t\t\tcoords[ i ] = [ p.x, p.y, p.z ];\r\n\r\n\t\t}\r\n\r\n\t\treturn coords;\r\n\r\n\t};\r\n\r\n\t// approximate length by summing linear segments\r\n\r\n\tthis.getLength = function ( nSubDivisions ) {\r\n\r\n\t\tvar i, index, nSamples, position,\r\n\t\t\tpoint = 0, intPoint = 0, oldIntPoint = 0,\r\n\t\t\toldPosition = new THREE.Vector3(),\r\n\t\t\ttmpVec = new THREE.Vector3(),\r\n\t\t\tchunkLengths = [],\r\n\t\t\ttotalLength = 0;\r\n\r\n\t\t// first point has 0 length\r\n\r\n\t\tchunkLengths[ 0 ] = 0;\r\n\r\n\t\tif ( ! nSubDivisions ) nSubDivisions = 100;\r\n\r\n\t\tnSamples = this.points.length * nSubDivisions;\r\n\r\n\t\toldPosition.copy( this.points[ 0 ] );\r\n\r\n\t\tfor ( i = 1; i < nSamples; i ++ ) {\r\n\r\n\t\t\tindex = i / nSamples;\r\n\r\n\t\t\tposition = this.getPoint( index );\r\n\t\t\ttmpVec.copy( position );\r\n\r\n\t\t\ttotalLength += tmpVec.distanceTo( oldPosition );\r\n\r\n\t\t\toldPosition.copy( position );\r\n\r\n\t\t\tpoint = ( this.points.length - 1 ) * index;\r\n\t\t\tintPoint = Math.floor( point );\r\n\r\n\t\t\tif ( intPoint !== oldIntPoint ) {\r\n\r\n\t\t\t\tchunkLengths[ intPoint ] = totalLength;\r\n\t\t\t\toldIntPoint = intPoint;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// last point ends with total length\r\n\r\n\t\tchunkLengths[ chunkLengths.length ] = totalLength;\r\n\r\n\t\treturn { chunks: chunkLengths, total: totalLength };\r\n\r\n\t};\r\n\r\n\tthis.reparametrizeByArcLength = function ( samplingCoef ) {\r\n\r\n\t\tvar i, j,\r\n\t\t\tindex, indexCurrent, indexNext,\r\n\t\t\trealDistance,\r\n\t\t\tsampling, position,\r\n\t\t\tnewpoints = [],\r\n\t\t\ttmpVec = new THREE.Vector3(),\r\n\t\t\tsl = this.getLength();\r\n\r\n\t\tnewpoints.push( tmpVec.copy( this.points[ 0 ] ).clone() );\r\n\r\n\t\tfor ( i = 1; i < this.points.length; i ++ ) {\r\n\r\n\t\t\t//tmpVec.copy( this.points[ i - 1 ] );\r\n\t\t\t//linearDistance = tmpVec.distanceTo( this.points[ i ] );\r\n\r\n\t\t\trealDistance = sl.chunks[ i ] - sl.chunks[ i - 1 ];\r\n\r\n\t\t\tsampling = Math.ceil( samplingCoef * realDistance / sl.total );\r\n\r\n\t\t\tindexCurrent = ( i - 1 ) / ( this.points.length - 1 );\r\n\t\t\tindexNext = i / ( this.points.length - 1 );\r\n\r\n\t\t\tfor ( j = 1; j < sampling - 1; j ++ ) {\r\n\r\n\t\t\t\tindex = indexCurrent + j * ( 1 / sampling ) * ( indexNext - indexCurrent );\r\n\r\n\t\t\t\tposition = this.getPoint( index );\r\n\t\t\t\tnewpoints.push( tmpVec.copy( position ).clone() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tnewpoints.push( tmpVec.copy( this.points[ i ] ).clone() );\r\n\r\n\t\t}\r\n\r\n\t\tthis.points = newpoints;\r\n\r\n\t};\r\n\r\n\t// Catmull-Rom\r\n\r\n\tfunction interpolate( p0, p1, p2, p3, t, t2, t3 ) {\r\n\r\n\t\tvar v0 = ( p2 - p0 ) * 0.5,\r\n\t\t\tv1 = ( p3 - p1 ) * 0.5;\r\n\r\n\t\treturn ( 2 * ( p1 - p2 ) + v0 + v1 ) * t3 + ( - 3 * ( p1 - p2 ) - 2 * v0 - v1 ) * t2 + v0 * t + p1;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/math/Triangle.js\r\n\r\n/**\r\n * @author bhouston / http://clara.io\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.Triangle = function ( a, b, c ) {\r\n\r\n\tthis.a = ( a !== undefined ) ? a : new THREE.Vector3();\r\n\tthis.b = ( b !== undefined ) ? b : new THREE.Vector3();\r\n\tthis.c = ( c !== undefined ) ? c : new THREE.Vector3();\r\n\r\n};\r\n\r\nTHREE.Triangle.normal = function () {\r\n\r\n\tvar v0 = new THREE.Vector3();\r\n\r\n\treturn function ( a, b, c, optionalTarget ) {\r\n\r\n\t\tvar result = optionalTarget || new THREE.Vector3();\r\n\r\n\t\tresult.subVectors( c, b );\r\n\t\tv0.subVectors( a, b );\r\n\t\tresult.cross( v0 );\r\n\r\n\t\tvar resultLengthSq = result.lengthSq();\r\n\t\tif ( resultLengthSq > 0 ) {\r\n\r\n\t\t\treturn result.multiplyScalar( 1 / Math.sqrt( resultLengthSq ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn result.set( 0, 0, 0 );\r\n\r\n\t};\r\n\r\n}();\r\n\r\n// static/instance method to calculate barycentric coordinates\r\n// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\r\nTHREE.Triangle.barycoordFromPoint = function () {\r\n\r\n\tvar v0 = new THREE.Vector3();\r\n\tvar v1 = new THREE.Vector3();\r\n\tvar v2 = new THREE.Vector3();\r\n\r\n\treturn function ( point, a, b, c, optionalTarget ) {\r\n\r\n\t\tv0.subVectors( c, a );\r\n\t\tv1.subVectors( b, a );\r\n\t\tv2.subVectors( point, a );\r\n\r\n\t\tvar dot00 = v0.dot( v0 );\r\n\t\tvar dot01 = v0.dot( v1 );\r\n\t\tvar dot02 = v0.dot( v2 );\r\n\t\tvar dot11 = v1.dot( v1 );\r\n\t\tvar dot12 = v1.dot( v2 );\r\n\r\n\t\tvar denom = ( dot00 * dot11 - dot01 * dot01 );\r\n\r\n\t\tvar result = optionalTarget || new THREE.Vector3();\r\n\r\n\t\t// collinear or singular triangle\r\n\t\tif ( denom === 0 ) {\r\n\r\n\t\t\t// arbitrary location outside of triangle?\r\n\t\t\t// not sure if this is the best idea, maybe should be returning undefined\r\n\t\t\treturn result.set( - 2, - 1, - 1 );\r\n\r\n\t\t}\r\n\r\n\t\tvar invDenom = 1 / denom;\r\n\t\tvar u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\r\n\t\tvar v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\r\n\r\n\t\t// barycentric coordinates must always sum to 1\r\n\t\treturn result.set( 1 - u - v, v, u );\r\n\r\n\t};\r\n\r\n}();\r\n\r\nTHREE.Triangle.containsPoint = function () {\r\n\r\n\tvar v1 = new THREE.Vector3();\r\n\r\n\treturn function ( point, a, b, c ) {\r\n\r\n\t\tvar result = THREE.Triangle.barycoordFromPoint( point, a, b, c, v1 );\r\n\r\n\t\treturn ( result.x >= 0 ) && ( result.y >= 0 ) && ( ( result.x + result.y ) <= 1 );\r\n\r\n\t};\r\n\r\n}();\r\n\r\nTHREE.Triangle.prototype = {\r\n\r\n\tconstructor: THREE.Triangle,\r\n\r\n\tset: function ( a, b, c ) {\r\n\r\n\t\tthis.a.copy( a );\r\n\t\tthis.b.copy( b );\r\n\t\tthis.c.copy( c );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetFromPointsAndIndices: function ( points, i0, i1, i2 ) {\r\n\r\n\t\tthis.a.copy( points[ i0 ] );\r\n\t\tthis.b.copy( points[ i1 ] );\r\n\t\tthis.c.copy( points[ i2 ] );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( triangle ) {\r\n\r\n\t\tthis.a.copy( triangle.a );\r\n\t\tthis.b.copy( triangle.b );\r\n\t\tthis.c.copy( triangle.c );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tarea: function () {\r\n\r\n\t\tvar v0 = new THREE.Vector3();\r\n\t\tvar v1 = new THREE.Vector3();\r\n\r\n\t\treturn function () {\r\n\r\n\t\t\tv0.subVectors( this.c, this.b );\r\n\t\t\tv1.subVectors( this.a, this.b );\r\n\r\n\t\t\treturn v0.cross( v1 ).length() * 0.5;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tmidpoint: function ( optionalTarget ) {\r\n\r\n\t\tvar result = optionalTarget || new THREE.Vector3();\r\n\t\treturn result.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\r\n\r\n\t},\r\n\r\n\tnormal: function ( optionalTarget ) {\r\n\r\n\t\treturn THREE.Triangle.normal( this.a, this.b, this.c, optionalTarget );\r\n\r\n\t},\r\n\r\n\tplane: function ( optionalTarget ) {\r\n\r\n\t\tvar result = optionalTarget || new THREE.Plane();\r\n\r\n\t\treturn result.setFromCoplanarPoints( this.a, this.b, this.c );\r\n\r\n\t},\r\n\r\n\tbarycoordFromPoint: function ( point, optionalTarget ) {\r\n\r\n\t\treturn THREE.Triangle.barycoordFromPoint( point, this.a, this.b, this.c, optionalTarget );\r\n\r\n\t},\r\n\r\n\tcontainsPoint: function ( point ) {\r\n\r\n\t\treturn THREE.Triangle.containsPoint( point, this.a, this.b, this.c );\r\n\r\n\t},\r\n\r\n\tclosestPointToPoint: function () {\r\n\r\n\t\tvar plane, edgeList, projectedPoint, closestPoint;\r\n\r\n\t\treturn function closestPointToPoint( point, optionalTarget ) {\r\n\r\n\t\t\tif ( plane === undefined ) {\r\n\r\n\t\t\t\tplane = new THREE.Plane();\r\n\t\t\t\tedgeList = [ new THREE.Line3(), new THREE.Line3(), new THREE.Line3() ];\r\n\t\t\t\tprojectedPoint = new THREE.Vector3();\r\n\t\t\t\tclosestPoint = new THREE.Vector3();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar result = optionalTarget || new THREE.Vector3();\r\n\t\t\tvar minDistance = Infinity;\r\n\r\n\t\t\t// project the point onto the plane of the triangle\r\n\r\n\t\t\tplane.setFromCoplanarPoints( this.a, this.b, this.c );\r\n\t\t\tplane.projectPoint( point, projectedPoint );\r\n\r\n\t\t\t// check if the projection lies within the triangle\r\n\r\n\t\t\tif( this.containsPoint( projectedPoint ) === true ) {\r\n\r\n\t\t\t\t// if so, this is the closest point\r\n\r\n\t\t\t\tresult.copy( projectedPoint );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// if not, the point falls outside the triangle. the result is the closest point to the triangle's edges or vertices\r\n\r\n\t\t\t\tedgeList[ 0 ].set( this.a, this.b );\r\n\t\t\t\tedgeList[ 1 ].set( this.b, this.c );\r\n\t\t\t\tedgeList[ 2 ].set( this.c, this.a );\r\n\r\n\t\t\t\tfor( var i = 0; i < edgeList.length; i ++ ) {\r\n\r\n\t\t\t\t\tedgeList[ i ].closestPointToPoint( projectedPoint, true, closestPoint );\r\n\r\n\t\t\t\t\tvar distance = projectedPoint.distanceToSquared( closestPoint );\r\n\r\n\t\t\t\t\tif( distance < minDistance ) {\r\n\r\n\t\t\t\t\t\tminDistance = distance;\r\n\r\n\t\t\t\t\t\tresult.copy( closestPoint );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn result;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tequals: function ( triangle ) {\r\n\r\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/math/Interpolant.js\r\n\r\n/**\r\n * Abstract base class of interpolants over parametric samples.\r\n *\r\n * The parameter domain is one dimensional, typically the time or a path\r\n * along a curve defined by the data.\r\n *\r\n * The sample values can have any dimensionality and derived classes may\r\n * apply special interpretations to the data.\r\n *\r\n * This class provides the interval seek in a Template Method, deferring\r\n * the actual interpolation to derived classes.\r\n *\r\n * Time complexity is O(1) for linear access crossing at most two points\r\n * and O(log N) for random access, where N is the number of positions.\r\n *\r\n * References:\r\n *\r\n * \t\thttp://www.oodesign.com/template-method-pattern.html\r\n *\r\n * @author tschw\r\n */\r\n\r\nTHREE.Interpolant = function(\r\n\t\tparameterPositions, sampleValues, sampleSize, resultBuffer ) {\r\n\r\n\tthis.parameterPositions = parameterPositions;\r\n\tthis._cachedIndex = 0;\r\n\r\n\tthis.resultBuffer = resultBuffer !== undefined ?\r\n\t\t\tresultBuffer : new sampleValues.constructor( sampleSize );\r\n\tthis.sampleValues = sampleValues;\r\n\tthis.valueSize = sampleSize;\r\n\r\n};\r\n\r\nTHREE.Interpolant.prototype = {\r\n\r\n\tconstructor: THREE.Interpolant,\r\n\r\n\tevaluate: function( t ) {\r\n\r\n\t\tvar pp = this.parameterPositions,\r\n\t\t\ti1 = this._cachedIndex,\r\n\r\n\t\t\tt1 = pp[   i1   ],\r\n\t\t\tt0 = pp[ i1 - 1 ];\r\n\r\n\t\tvalidate_interval: {\r\n\r\n\t\t\tseek: {\r\n\r\n\t\t\t\tvar right;\r\n\r\n\t\t\t\tlinear_scan: {\r\n//- See http://jsperf.com/comparison-to-undefined/3\r\n//- slower code:\r\n//-\r\n//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\r\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\r\n\r\n\t\t\t\t\t\tfor ( var giveUpAt = i1 + 2; ;) {\r\n\r\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\r\n\r\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\r\n\r\n\t\t\t\t\t\t\t\t// after end\r\n\r\n\t\t\t\t\t\t\t\ti1 = pp.length;\r\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\r\n\t\t\t\t\t\t\t\treturn this.afterEnd_( i1 - 1, t, t0 );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\r\n\r\n\t\t\t\t\t\t\tt0 = t1;\r\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\r\n\r\n\t\t\t\t\t\t\tif ( t < t1 ) {\r\n\r\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\r\n\t\t\t\t\t\t\t\tbreak seek;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// prepare binary search on the right side of the index\r\n\t\t\t\t\t\tright = pp.length;\r\n\t\t\t\t\t\tbreak linear_scan;\r\n\r\n\t\t\t\t\t}\r\n\r\n//- slower code:\r\n//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\r\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\r\n\r\n\t\t\t\t\t\t// looping?\r\n\r\n\t\t\t\t\t\tvar t1global = pp[ 1 ];\r\n\r\n\t\t\t\t\t\tif ( t < t1global ) {\r\n\r\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\r\n\t\t\t\t\t\t\tt0 = t1global;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// linear reverse scan\r\n\r\n\t\t\t\t\t\tfor ( var giveUpAt = i1 - 2; ;) {\r\n\r\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\r\n\r\n\t\t\t\t\t\t\t\t// before start\r\n\r\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\r\n\t\t\t\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\r\n\r\n\t\t\t\t\t\t\tt1 = t0;\r\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\r\n\r\n\t\t\t\t\t\t\tif ( t >= t0 ) {\r\n\r\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\r\n\t\t\t\t\t\t\t\tbreak seek;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// prepare binary search on the left side of the index\r\n\t\t\t\t\t\tright = i1;\r\n\t\t\t\t\t\ti1 = 0;\r\n\t\t\t\t\t\tbreak linear_scan;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// the interval is valid\r\n\r\n\t\t\t\t\tbreak validate_interval;\r\n\r\n\t\t\t\t} // linear scan\r\n\r\n\t\t\t\t// binary search\r\n\r\n\t\t\t\twhile ( i1 < right ) {\r\n\r\n\t\t\t\t\tvar mid = ( i1 + right ) >>> 1;\r\n\r\n\t\t\t\t\tif ( t < pp[ mid ] ) {\r\n\r\n\t\t\t\t\t\tright = mid;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\ti1 = mid + 1;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tt1 = pp[   i1   ];\r\n\t\t\t\tt0 = pp[ i1 - 1 ];\r\n\r\n\t\t\t\t// check boundary cases, again\r\n\r\n\t\t\t\tif ( t0 === undefined ) {\r\n\r\n\t\t\t\t\tthis._cachedIndex = 0;\r\n\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( t1 === undefined ) {\r\n\r\n\t\t\t\t\ti1 = pp.length;\r\n\t\t\t\t\tthis._cachedIndex = i1;\r\n\t\t\t\t\treturn this.afterEnd_( i1 - 1, t0, t );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} // seek\r\n\r\n\t\t\tthis._cachedIndex = i1;\r\n\r\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\r\n\r\n\t\t} // validate_interval\r\n\r\n\t\treturn this.interpolate_( i1, t0, t, t1 );\r\n\r\n\t},\r\n\r\n\tsettings: null, // optional, subclass-specific settings structure\r\n\t// Note: The indirection allows central control of many interpolants.\r\n\r\n\t// --- Protected interface\r\n\r\n\tDefaultSettings_: {},\r\n\r\n\tgetSettings_: function() {\r\n\r\n\t\treturn this.settings || this.DefaultSettings_;\r\n\r\n\t},\r\n\r\n\tcopySampleValue_: function( index ) {\r\n\r\n\t\t// copies a sample value to the result buffer\r\n\r\n\t\tvar result = this.resultBuffer,\r\n\t\t\tvalues = this.sampleValues,\r\n\t\t\tstride = this.valueSize,\r\n\t\t\toffset = index * stride;\r\n\r\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\r\n\r\n\t\t\tresult[ i ] = values[ offset + i ];\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t},\r\n\r\n\t// Template methods for derived classes:\r\n\r\n\tinterpolate_: function( i1, t0, t, t1 ) {\r\n\r\n\t\tthrow new Error( \"call to abstract method\" );\r\n\t\t// implementations shall return this.resultBuffer\r\n\r\n\t},\r\n\r\n\tintervalChanged_: function( i1, t0, t1 ) {\r\n\r\n\t\t// empty\r\n\r\n\t}\r\n\r\n};\r\n\r\nObject.assign( THREE.Interpolant.prototype, {\r\n\r\n\tbeforeStart_: //( 0, t, t0 ), returns this.resultBuffer\r\n\t\tTHREE.Interpolant.prototype.copySampleValue_,\r\n\r\n\tafterEnd_: //( N-1, tN-1, t ), returns this.resultBuffer\r\n\t\tTHREE.Interpolant.prototype.copySampleValue_\r\n\r\n} );\r\n\r\n// File:src/math/interpolants/CubicInterpolant.js\r\n\r\n/**\r\n * Fast and simple cubic spline interpolant.\r\n *\r\n * It was derived from a Hermitian construction setting the first derivative\r\n * at each sample position to the linear slope between neighboring positions\r\n * over their parameter interval.\r\n *\r\n * @author tschw\r\n */\r\n\r\nTHREE.CubicInterpolant = function(\r\n\t\tparameterPositions, sampleValues, sampleSize, resultBuffer ) {\r\n\r\n\tTHREE.Interpolant.call(\r\n\t\t\tthis, parameterPositions, sampleValues, sampleSize, resultBuffer );\r\n\r\n\tthis._weightPrev = -0;\r\n\tthis._offsetPrev = -0;\r\n\tthis._weightNext = -0;\r\n\tthis._offsetNext = -0;\r\n\r\n};\r\n\r\nTHREE.CubicInterpolant.prototype =\r\n\t\tObject.assign( Object.create( THREE.Interpolant.prototype ), {\r\n\r\n\tconstructor: THREE.CubicInterpolant,\r\n\r\n\tDefaultSettings_: {\r\n\r\n\t\tendingStart: \tTHREE.ZeroCurvatureEnding,\r\n\t\tendingEnd:\t\tTHREE.ZeroCurvatureEnding\r\n\r\n\t},\r\n\r\n\tintervalChanged_: function( i1, t0, t1 ) {\r\n\r\n\t\tvar pp = this.parameterPositions,\r\n\t\t\tiPrev = i1 - 2,\r\n\t\t\tiNext = i1 + 1,\r\n\r\n\t\t\ttPrev = pp[ iPrev ],\r\n\t\t\ttNext = pp[ iNext ];\r\n\r\n\t\tif ( tPrev === undefined ) {\r\n\r\n\t\t\tswitch ( this.getSettings_().endingStart ) {\r\n\r\n\t\t\t\tcase THREE.ZeroSlopeEnding:\r\n\r\n\t\t\t\t\t// f'(t0) = 0\r\n\t\t\t\t\tiPrev = i1;\r\n\t\t\t\t\ttPrev = 2 * t0 - t1;\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase THREE.WrapAroundEnding:\r\n\r\n\t\t\t\t\t// use the other end of the curve\r\n\t\t\t\t\tiPrev = pp.length - 2;\r\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault: // ZeroCurvatureEnding\r\n\r\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\r\n\t\t\t\t\tiPrev = i1;\r\n\t\t\t\t\ttPrev = t1;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( tNext === undefined ) {\r\n\r\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\r\n\r\n\t\t\t\tcase THREE.ZeroSlopeEnding:\r\n\r\n\t\t\t\t\t// f'(tN) = 0\r\n\t\t\t\t\tiNext = i1;\r\n\t\t\t\t\ttNext = 2 * t1 - t0;\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase THREE.WrapAroundEnding:\r\n\r\n\t\t\t\t\t// use the other end of the curve\r\n\t\t\t\t\tiNext = 1;\r\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault: // ZeroCurvatureEnding\r\n\r\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\r\n\t\t\t\t\tiNext = i1 - 1;\r\n\t\t\t\t\ttNext = t0;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar halfDt = ( t1 - t0 ) * 0.5,\r\n\t\t\tstride = this.valueSize;\r\n\r\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\r\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\r\n\t\tthis._offsetPrev = iPrev * stride;\r\n\t\tthis._offsetNext = iNext * stride;\r\n\r\n\t},\r\n\r\n\tinterpolate_: function( i1, t0, t, t1 ) {\r\n\r\n\t\tvar result = this.resultBuffer,\r\n\t\t\tvalues = this.sampleValues,\r\n\t\t\tstride = this.valueSize,\r\n\r\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\r\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\r\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\r\n\r\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\r\n\t\t\tpp = p * p,\r\n\t\t\tppp = pp * p;\r\n\r\n\t\t// evaluate polynomials\r\n\r\n\t\tvar sP =     - wP   * ppp   +         2 * wP    * pp    -          wP   * p;\r\n\t\tvar s0 = ( 1 + wP ) * ppp   + (-1.5 - 2 * wP )  * pp    + ( -0.5 + wP ) * p     + 1;\r\n\t\tvar s1 = (-1 - wN ) * ppp   + ( 1.5 +   wN   )  * pp    +    0.5        * p;\r\n\t\tvar sN =       wN   * ppp   -           wN      * pp;\r\n\r\n\t\t// combine data linearly\r\n\r\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\r\n\r\n\t\t\tresult[ i ] =\r\n\t\t\t\t\tsP * values[ oP + i ] +\r\n\t\t\t\t\ts0 * values[ o0 + i ] +\r\n\t\t\t\t\ts1 * values[ o1 + i ] +\r\n\t\t\t\t\tsN * values[ oN + i ];\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/math/interpolants/DiscreteInterpolant.js\r\n\r\n/**\r\n *\r\n * Interpolant that evaluates to the sample value at the position preceeding\r\n * the parameter.\r\n *\r\n * @author tschw\r\n */\r\n\r\nTHREE.DiscreteInterpolant = function(\r\n\t\tparameterPositions, sampleValues, sampleSize, resultBuffer ) {\r\n\r\n\tTHREE.Interpolant.call(\r\n\t\t\tthis, parameterPositions, sampleValues, sampleSize, resultBuffer );\r\n\r\n};\r\n\r\nTHREE.DiscreteInterpolant.prototype =\r\n\t\tObject.assign( Object.create( THREE.Interpolant.prototype ), {\r\n\r\n\tconstructor: THREE.DiscreteInterpolant,\r\n\r\n\tinterpolate_: function( i1, t0, t, t1 ) {\r\n\r\n\t\treturn this.copySampleValue_( i1 - 1 );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/math/interpolants/LinearInterpolant.js\r\n\r\n/**\r\n * @author tschw\r\n */\r\n\r\nTHREE.LinearInterpolant = function(\r\n\t\tparameterPositions, sampleValues, sampleSize, resultBuffer ) {\r\n\r\n\tTHREE.Interpolant.call(\r\n\t\t\tthis, parameterPositions, sampleValues, sampleSize, resultBuffer );\r\n\r\n};\r\n\r\nTHREE.LinearInterpolant.prototype =\r\n\t\tObject.assign( Object.create( THREE.Interpolant.prototype ), {\r\n\r\n\tconstructor: THREE.LinearInterpolant,\r\n\r\n\tinterpolate_: function( i1, t0, t, t1 ) {\r\n\r\n\t\tvar result = this.resultBuffer,\r\n\t\t\tvalues = this.sampleValues,\r\n\t\t\tstride = this.valueSize,\r\n\r\n\t\t\toffset1 = i1 * stride,\r\n\t\t\toffset0 = offset1 - stride,\r\n\r\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\r\n\t\t\tweight0 = 1 - weight1;\r\n\r\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\r\n\r\n\t\t\tresult[ i ] =\r\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\r\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/math/interpolants/QuaternionLinearInterpolant.js\r\n\r\n/**\r\n * Spherical linear unit quaternion interpolant.\r\n *\r\n * @author tschw\r\n */\r\n\r\nTHREE.QuaternionLinearInterpolant = function(\r\n\t\tparameterPositions, sampleValues, sampleSize, resultBuffer ) {\r\n\r\n\tTHREE.Interpolant.call(\r\n\t\t\tthis, parameterPositions, sampleValues, sampleSize, resultBuffer );\r\n\r\n};\r\n\r\nTHREE.QuaternionLinearInterpolant.prototype =\r\n\t\tObject.assign( Object.create( THREE.Interpolant.prototype ), {\r\n\r\n\tconstructor: THREE.QuaternionLinearInterpolant,\r\n\r\n\tinterpolate_: function( i1, t0, t, t1 ) {\r\n\r\n\t\tvar result = this.resultBuffer,\r\n\t\t\tvalues = this.sampleValues,\r\n\t\t\tstride = this.valueSize,\r\n\r\n\t\t\toffset = i1 * stride,\r\n\r\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\r\n\r\n\t\tfor ( var end = offset + stride; offset !== end; offset += 4 ) {\r\n\r\n\t\t\tTHREE.Quaternion.slerpFlat( result, 0,\r\n\t\t\t\t\tvalues, offset - stride, values, offset, alpha );\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/core/Clock.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.Clock = function ( autoStart ) {\r\n\r\n\tthis.autoStart = ( autoStart !== undefined ) ? autoStart : true;\r\n\r\n\tthis.startTime = 0;\r\n\tthis.oldTime = 0;\r\n\tthis.elapsedTime = 0;\r\n\r\n\tthis.running = false;\r\n\r\n};\r\n\r\nTHREE.Clock.prototype = {\r\n\r\n\tconstructor: THREE.Clock,\r\n\r\n\tstart: function () {\r\n\r\n\t\tthis.startTime = ( performance || Date ).now();\r\n\r\n\t\tthis.oldTime = this.startTime;\r\n\t\tthis.running = true;\r\n\r\n\t},\r\n\r\n\tstop: function () {\r\n\r\n\t\tthis.getElapsedTime();\r\n\t\tthis.running = false;\r\n\r\n\t},\r\n\r\n\tgetElapsedTime: function () {\r\n\r\n\t\tthis.getDelta();\r\n\t\treturn this.elapsedTime;\r\n\r\n\t},\r\n\r\n\tgetDelta: function () {\r\n\r\n\t\tvar diff = 0;\r\n\r\n\t\tif ( this.autoStart && ! this.running ) {\r\n\r\n\t\t\tthis.start();\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.running ) {\r\n\r\n\t\t\tvar newTime = ( performance || Date ).now();\r\n\r\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\r\n\t\t\tthis.oldTime = newTime;\r\n\r\n\t\t\tthis.elapsedTime += diff;\r\n\r\n\t\t}\r\n\r\n\t\treturn diff;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/core/EventDispatcher.js\r\n\r\n/**\r\n * https://github.com/mrdoob/eventdispatcher.js/\r\n */\r\n\r\nTHREE.EventDispatcher = function () {};\r\n\r\nObject.assign( THREE.EventDispatcher.prototype, {\r\n\r\n\taddEventListener: function ( type, listener ) {\r\n\r\n\t\tif ( this._listeners === undefined ) this._listeners = {};\r\n\r\n\t\tvar listeners = this._listeners;\r\n\r\n\t\tif ( listeners[ type ] === undefined ) {\r\n\r\n\t\t\tlisteners[ type ] = [];\r\n\r\n\t\t}\r\n\r\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\r\n\r\n\t\t\tlisteners[ type ].push( listener );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\thasEventListener: function ( type, listener ) {\r\n\r\n\t\tif ( this._listeners === undefined ) return false;\r\n\r\n\t\tvar listeners = this._listeners;\r\n\r\n\t\tif ( listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1 ) {\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\r\n\t},\r\n\r\n\tremoveEventListener: function ( type, listener ) {\r\n\r\n\t\tif ( this._listeners === undefined ) return;\r\n\r\n\t\tvar listeners = this._listeners;\r\n\t\tvar listenerArray = listeners[ type ];\r\n\r\n\t\tif ( listenerArray !== undefined ) {\r\n\r\n\t\t\tvar index = listenerArray.indexOf( listener );\r\n\r\n\t\t\tif ( index !== - 1 ) {\r\n\r\n\t\t\t\tlistenerArray.splice( index, 1 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tdispatchEvent: function ( event ) {\r\n\r\n\t\tif ( this._listeners === undefined ) return;\r\n\r\n\t\tvar listeners = this._listeners;\r\n\t\tvar listenerArray = listeners[ event.type ];\r\n\r\n\t\tif ( listenerArray !== undefined ) {\r\n\r\n\t\t\tevent.target = this;\r\n\r\n\t\t\tvar array = [], i = 0;\r\n\t\t\tvar length = listenerArray.length;\r\n\r\n\t\t\tfor ( i = 0; i < length; i ++ ) {\r\n\r\n\t\t\t\tarray[ i ] = listenerArray[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( i = 0; i < length; i ++ ) {\r\n\r\n\t\t\t\tarray[ i ].call( this, event );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/core/Layers.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.Layers = function () {\r\n\r\n\tthis.mask = 1;\r\n\r\n};\r\n\r\nTHREE.Layers.prototype = {\r\n\r\n\tconstructor: THREE.Layers,\r\n\r\n\tset: function ( channel ) {\r\n\r\n\t\tthis.mask = 1 << channel;\r\n\r\n\t},\r\n\r\n\tenable: function ( channel ) {\r\n\r\n\t\tthis.mask |= 1 << channel;\r\n\r\n\t},\r\n\r\n\ttoggle: function ( channel ) {\r\n\r\n\t\tthis.mask ^= 1 << channel;\r\n\r\n\t},\r\n\r\n\tdisable: function ( channel ) {\r\n\r\n\t\tthis.mask &= ~ ( 1 << channel );\r\n\r\n\t},\r\n\r\n\ttest: function ( layers ) {\r\n\r\n\t\treturn ( this.mask & layers.mask ) !== 0;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/core/Raycaster.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author bhouston / http://clara.io/\r\n * @author stephomi / http://stephaneginier.com/\r\n */\r\n\r\n( function ( THREE ) {\r\n\r\n\tTHREE.Raycaster = function ( origin, direction, near, far ) {\r\n\r\n\t\tthis.ray = new THREE.Ray( origin, direction );\r\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\r\n\r\n\t\tthis.near = near || 0;\r\n\t\tthis.far = far || Infinity;\r\n\r\n\t\tthis.params = {\r\n\t\t\tMesh: {},\r\n\t\t\tLine: {},\r\n\t\t\tLOD: {},\r\n\t\t\tPoints: { threshold: 1 },\r\n\t\t\tSprite: {}\r\n\t\t};\r\n\r\n\t\tObject.defineProperties( this.params, {\r\n\t\t\tPointCloud: {\r\n\t\t\t\tget: function () {\r\n\t\t\t\t\tconsole.warn( 'THREE.Raycaster: params.PointCloud has been renamed to params.Points.' );\r\n\t\t\t\t\treturn this.Points;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\tfunction ascSort( a, b ) {\r\n\r\n\t\treturn a.distance - b.distance;\r\n\r\n\t}\r\n\r\n\tfunction intersectObject( object, raycaster, intersects, recursive ) {\r\n\r\n\t\tif ( object.visible === false ) return;\r\n\r\n\t\tobject.raycast( raycaster, intersects );\r\n\r\n\t\tif ( recursive === true ) {\r\n\r\n\t\t\tvar children = object.children;\r\n\r\n\t\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tTHREE.Raycaster.prototype = {\r\n\r\n\t\tconstructor: THREE.Raycaster,\r\n\r\n\t\tlinePrecision: 1,\r\n\r\n\t\tset: function ( origin, direction ) {\r\n\r\n\t\t\t// direction is assumed to be normalized (for accurate distance calculations)\r\n\r\n\t\t\tthis.ray.set( origin, direction );\r\n\r\n\t\t},\r\n\r\n\t\tsetFromCamera: function ( coords, camera ) {\r\n\r\n\t\t\tif ( camera instanceof THREE.PerspectiveCamera ) {\r\n\r\n\t\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\r\n\t\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\r\n\r\n\t\t\t} else if ( camera instanceof THREE.OrthographicCamera ) {\r\n\r\n\t\t\t\tthis.ray.origin.set( coords.x, coords.y, - 1 ).unproject( camera );\r\n\t\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tintersectObject: function ( object, recursive ) {\r\n\r\n\t\t\tvar intersects = [];\r\n\r\n\t\t\tintersectObject( object, this, intersects, recursive );\r\n\r\n\t\t\tintersects.sort( ascSort );\r\n\r\n\t\t\treturn intersects;\r\n\r\n\t\t},\r\n\r\n\t\tintersectObjects: function ( objects, recursive ) {\r\n\r\n\t\t\tvar intersects = [];\r\n\r\n\t\t\tif ( Array.isArray( objects ) === false ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.Raycaster.intersectObjects: objects is not an Array.' );\r\n\t\t\t\treturn intersects;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var i = 0, l = objects.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tintersects.sort( ascSort );\r\n\r\n\t\t\treturn intersects;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n}( THREE ) );\r\n\r\n// File:src/core/Object3D.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author WestLangley / http://github.com/WestLangley\r\n * @author elephantatwork / www.elephantatwork.ch\r\n */\r\n\r\nTHREE.Object3D = function () {\r\n\r\n\tObject.defineProperty( this, 'id', { value: THREE.Object3DIdCount ++ } );\r\n\r\n\tthis.uuid = THREE.Math.generateUUID();\r\n\r\n\tthis.name = '';\r\n\tthis.type = 'Object3D';\r\n\r\n\tthis.parent = null;\r\n\tthis.children = [];\r\n\r\n\tthis.up = THREE.Object3D.DefaultUp.clone();\r\n\r\n\tvar position = new THREE.Vector3();\r\n\tvar rotation = new THREE.Euler();\r\n\tvar quaternion = new THREE.Quaternion();\r\n\tvar scale = new THREE.Vector3( 1, 1, 1 );\r\n\r\n\tfunction onRotationChange() {\r\n\r\n\t\tquaternion.setFromEuler( rotation, false );\r\n\r\n\t}\r\n\r\n\tfunction onQuaternionChange() {\r\n\r\n\t\trotation.setFromQuaternion( quaternion, undefined, false );\r\n\r\n\t}\r\n\r\n\trotation.onChange( onRotationChange );\r\n\tquaternion.onChange( onQuaternionChange );\r\n\r\n\tObject.defineProperties( this, {\r\n\t\tposition: {\r\n\t\t\tenumerable: true,\r\n\t\t\tvalue: position\r\n\t\t},\r\n\t\trotation: {\r\n\t\t\tenumerable: true,\r\n\t\t\tvalue: rotation\r\n\t\t},\r\n\t\tquaternion: {\r\n\t\t\tenumerable: true,\r\n\t\t\tvalue: quaternion\r\n\t\t},\r\n\t\tscale: {\r\n\t\t\tenumerable: true,\r\n\t\t\tvalue: scale\r\n\t\t},\r\n\t\tmodelViewMatrix: {\r\n\t\t\tvalue: new THREE.Matrix4()\r\n\t\t},\r\n\t\tnormalMatrix: {\r\n\t\t\tvalue: new THREE.Matrix3()\r\n\t\t}\r\n\t} );\r\n\r\n\tthis.matrix = new THREE.Matrix4();\r\n\tthis.matrixWorld = new THREE.Matrix4();\r\n\r\n\tthis.matrixAutoUpdate = THREE.Object3D.DefaultMatrixAutoUpdate;\r\n\tthis.matrixWorldNeedsUpdate = false;\r\n\r\n\tthis.layers = new THREE.Layers();\r\n\tthis.visible = true;\r\n\r\n\tthis.castShadow = false;\r\n\tthis.receiveShadow = false;\r\n\r\n\tthis.frustumCulled = true;\r\n\tthis.renderOrder = 0;\r\n\r\n\tthis.userData = {};\r\n\r\n};\r\n\r\nTHREE.Object3D.DefaultUp = new THREE.Vector3( 0, 1, 0 );\r\nTHREE.Object3D.DefaultMatrixAutoUpdate = true;\r\n\r\nObject.assign( THREE.Object3D.prototype, THREE.EventDispatcher.prototype, {\r\n\r\n\tapplyMatrix: function ( matrix ) {\r\n\r\n\t\tthis.matrix.multiplyMatrices( matrix, this.matrix );\r\n\r\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\r\n\r\n\t},\r\n\r\n\tsetRotationFromAxisAngle: function ( axis, angle ) {\r\n\r\n\t\t// assumes axis is normalized\r\n\r\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\r\n\r\n\t},\r\n\r\n\tsetRotationFromEuler: function ( euler ) {\r\n\r\n\t\tthis.quaternion.setFromEuler( euler, true );\r\n\r\n\t},\r\n\r\n\tsetRotationFromMatrix: function ( m ) {\r\n\r\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\r\n\r\n\t\tthis.quaternion.setFromRotationMatrix( m );\r\n\r\n\t},\r\n\r\n\tsetRotationFromQuaternion: function ( q ) {\r\n\r\n\t\t// assumes q is normalized\r\n\r\n\t\tthis.quaternion.copy( q );\r\n\r\n\t},\r\n\r\n\trotateOnAxis: function () {\r\n\r\n\t\t// rotate object on axis in object space\r\n\t\t// axis is assumed to be normalized\r\n\r\n\t\tvar q1 = new THREE.Quaternion();\r\n\r\n\t\treturn function ( axis, angle ) {\r\n\r\n\t\t\tq1.setFromAxisAngle( axis, angle );\r\n\r\n\t\t\tthis.quaternion.multiply( q1 );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\trotateX: function () {\r\n\r\n\t\tvar v1 = new THREE.Vector3( 1, 0, 0 );\r\n\r\n\t\treturn function ( angle ) {\r\n\r\n\t\t\treturn this.rotateOnAxis( v1, angle );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\trotateY: function () {\r\n\r\n\t\tvar v1 = new THREE.Vector3( 0, 1, 0 );\r\n\r\n\t\treturn function ( angle ) {\r\n\r\n\t\t\treturn this.rotateOnAxis( v1, angle );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\trotateZ: function () {\r\n\r\n\t\tvar v1 = new THREE.Vector3( 0, 0, 1 );\r\n\r\n\t\treturn function ( angle ) {\r\n\r\n\t\t\treturn this.rotateOnAxis( v1, angle );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\ttranslateOnAxis: function () {\r\n\r\n\t\t// translate object by distance along axis in object space\r\n\t\t// axis is assumed to be normalized\r\n\r\n\t\tvar v1 = new THREE.Vector3();\r\n\r\n\t\treturn function ( axis, distance ) {\r\n\r\n\t\t\tv1.copy( axis ).applyQuaternion( this.quaternion );\r\n\r\n\t\t\tthis.position.add( v1.multiplyScalar( distance ) );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\ttranslateX: function () {\r\n\r\n\t\tvar v1 = new THREE.Vector3( 1, 0, 0 );\r\n\r\n\t\treturn function ( distance ) {\r\n\r\n\t\t\treturn this.translateOnAxis( v1, distance );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\ttranslateY: function () {\r\n\r\n\t\tvar v1 = new THREE.Vector3( 0, 1, 0 );\r\n\r\n\t\treturn function ( distance ) {\r\n\r\n\t\t\treturn this.translateOnAxis( v1, distance );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\ttranslateZ: function () {\r\n\r\n\t\tvar v1 = new THREE.Vector3( 0, 0, 1 );\r\n\r\n\t\treturn function ( distance ) {\r\n\r\n\t\t\treturn this.translateOnAxis( v1, distance );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tlocalToWorld: function ( vector ) {\r\n\r\n\t\treturn vector.applyMatrix4( this.matrixWorld );\r\n\r\n\t},\r\n\r\n\tworldToLocal: function () {\r\n\r\n\t\tvar m1 = new THREE.Matrix4();\r\n\r\n\t\treturn function ( vector ) {\r\n\r\n\t\t\treturn vector.applyMatrix4( m1.getInverse( this.matrixWorld ) );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tlookAt: function () {\r\n\r\n\t\t// This routine does not support objects with rotated and/or translated parent(s)\r\n\r\n\t\tvar m1 = new THREE.Matrix4();\r\n\r\n\t\treturn function ( vector ) {\r\n\r\n\t\t\tm1.lookAt( vector, this.position, this.up );\r\n\r\n\t\t\tthis.quaternion.setFromRotationMatrix( m1 );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tadd: function ( object ) {\r\n\r\n\t\tif ( arguments.length > 1 ) {\r\n\r\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\r\n\r\n\t\t\t\tthis.add( arguments[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tif ( object === this ) {\r\n\r\n\t\t\tconsole.error( \"THREE.Object3D.add: object can't be added as a child of itself.\", object );\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tif ( object instanceof THREE.Object3D ) {\r\n\r\n\t\t\tif ( object.parent !== null ) {\r\n\r\n\t\t\t\tobject.parent.remove( object );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tobject.parent = this;\r\n\t\t\tobject.dispatchEvent( { type: 'added' } );\r\n\r\n\t\t\tthis.children.push( object );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.error( \"THREE.Object3D.add: object not an instance of THREE.Object3D.\", object );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tremove: function ( object ) {\r\n\r\n\t\tif ( arguments.length > 1 ) {\r\n\r\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\r\n\r\n\t\t\t\tthis.remove( arguments[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar index = this.children.indexOf( object );\r\n\r\n\t\tif ( index !== - 1 ) {\r\n\r\n\t\t\tobject.parent = null;\r\n\r\n\t\t\tobject.dispatchEvent( { type: 'removed' } );\r\n\r\n\t\t\tthis.children.splice( index, 1 );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tgetObjectById: function ( id ) {\r\n\r\n\t\treturn this.getObjectByProperty( 'id', id );\r\n\r\n\t},\r\n\r\n\tgetObjectByName: function ( name ) {\r\n\r\n\t\treturn this.getObjectByProperty( 'name', name );\r\n\r\n\t},\r\n\r\n\tgetObjectByProperty: function ( name, value ) {\r\n\r\n\t\tif ( this[ name ] === value ) return this;\r\n\r\n\t\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar child = this.children[ i ];\r\n\t\t\tvar object = child.getObjectByProperty( name, value );\r\n\r\n\t\t\tif ( object !== undefined ) {\r\n\r\n\t\t\t\treturn object;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn undefined;\r\n\r\n\t},\r\n\r\n\tgetWorldPosition: function ( optionalTarget ) {\r\n\r\n\t\tvar result = optionalTarget || new THREE.Vector3();\r\n\r\n\t\tthis.updateMatrixWorld( true );\r\n\r\n\t\treturn result.setFromMatrixPosition( this.matrixWorld );\r\n\r\n\t},\r\n\r\n\tgetWorldQuaternion: function () {\r\n\r\n\t\tvar position = new THREE.Vector3();\r\n\t\tvar scale = new THREE.Vector3();\r\n\r\n\t\treturn function ( optionalTarget ) {\r\n\r\n\t\t\tvar result = optionalTarget || new THREE.Quaternion();\r\n\r\n\t\t\tthis.updateMatrixWorld( true );\r\n\r\n\t\t\tthis.matrixWorld.decompose( position, result, scale );\r\n\r\n\t\t\treturn result;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tgetWorldRotation: function () {\r\n\r\n\t\tvar quaternion = new THREE.Quaternion();\r\n\r\n\t\treturn function ( optionalTarget ) {\r\n\r\n\t\t\tvar result = optionalTarget || new THREE.Euler();\r\n\r\n\t\t\tthis.getWorldQuaternion( quaternion );\r\n\r\n\t\t\treturn result.setFromQuaternion( quaternion, this.rotation.order, false );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tgetWorldScale: function () {\r\n\r\n\t\tvar position = new THREE.Vector3();\r\n\t\tvar quaternion = new THREE.Quaternion();\r\n\r\n\t\treturn function ( optionalTarget ) {\r\n\r\n\t\t\tvar result = optionalTarget || new THREE.Vector3();\r\n\r\n\t\t\tthis.updateMatrixWorld( true );\r\n\r\n\t\t\tthis.matrixWorld.decompose( position, quaternion, result );\r\n\r\n\t\t\treturn result;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tgetWorldDirection: function () {\r\n\r\n\t\tvar quaternion = new THREE.Quaternion();\r\n\r\n\t\treturn function ( optionalTarget ) {\r\n\r\n\t\t\tvar result = optionalTarget || new THREE.Vector3();\r\n\r\n\t\t\tthis.getWorldQuaternion( quaternion );\r\n\r\n\t\t\treturn result.set( 0, 0, 1 ).applyQuaternion( quaternion );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\traycast: function () {},\r\n\r\n\ttraverse: function ( callback ) {\r\n\r\n\t\tcallback( this );\r\n\r\n\t\tvar children = this.children;\r\n\r\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\r\n\r\n\t\t\tchildren[ i ].traverse( callback );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\ttraverseVisible: function ( callback ) {\r\n\r\n\t\tif ( this.visible === false ) return;\r\n\r\n\t\tcallback( this );\r\n\r\n\t\tvar children = this.children;\r\n\r\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\r\n\r\n\t\t\tchildren[ i ].traverseVisible( callback );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\ttraverseAncestors: function ( callback ) {\r\n\r\n\t\tvar parent = this.parent;\r\n\r\n\t\tif ( parent !== null ) {\r\n\r\n\t\t\tcallback( parent );\r\n\r\n\t\t\tparent.traverseAncestors( callback );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tupdateMatrix: function () {\r\n\r\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\r\n\r\n\t\tthis.matrixWorldNeedsUpdate = true;\r\n\r\n\t},\r\n\r\n\tupdateMatrixWorld: function ( force ) {\r\n\r\n\t\tif ( this.matrixAutoUpdate === true ) this.updateMatrix();\r\n\r\n\t\tif ( this.matrixWorldNeedsUpdate === true || force === true ) {\r\n\r\n\t\t\tif ( this.parent === null ) {\r\n\r\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.matrixWorldNeedsUpdate = false;\r\n\r\n\t\t\tforce = true;\r\n\r\n\t\t}\r\n\r\n\t\t// update children\r\n\r\n\t\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\r\n\r\n\t\t\tthis.children[ i ].updateMatrixWorld( force );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\t// meta is '' when called from JSON.stringify\r\n\t\tvar isRootObject = ( meta === undefined || meta === '' );\r\n\r\n\t\tvar output = {};\r\n\r\n\t\t// meta is a hash used to collect geometries, materials.\r\n\t\t// not providing it implies that this is the root object\r\n\t\t// being serialized.\r\n\t\tif ( isRootObject ) {\r\n\r\n\t\t\t// initialize meta obj\r\n\t\t\tmeta = {\r\n\t\t\t\tgeometries: {},\r\n\t\t\t\tmaterials: {},\r\n\t\t\t\ttextures: {},\r\n\t\t\t\timages: {}\r\n\t\t\t};\r\n\r\n\t\t\toutput.metadata = {\r\n\t\t\t\tversion: 4.4,\r\n\t\t\t\ttype: 'Object',\r\n\t\t\t\tgenerator: 'Object3D.toJSON'\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\t// standard Object3D serialization\r\n\r\n\t\tvar object = {};\r\n\r\n\t\tobject.uuid = this.uuid;\r\n\t\tobject.type = this.type;\r\n\r\n\t\tif ( this.name !== '' ) object.name = this.name;\r\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\r\n\t\tif ( this.castShadow === true ) object.castShadow = true;\r\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\r\n\t\tif ( this.visible === false ) object.visible = false;\r\n\r\n\t\tobject.matrix = this.matrix.toArray();\r\n\r\n\t\t//\r\n\r\n\t\tif ( this.geometry !== undefined ) {\r\n\r\n\t\t\tif ( meta.geometries[ this.geometry.uuid ] === undefined ) {\r\n\r\n\t\t\t\tmeta.geometries[ this.geometry.uuid ] = this.geometry.toJSON( meta );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tobject.geometry = this.geometry.uuid;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.material !== undefined ) {\r\n\r\n\t\t\tif ( meta.materials[ this.material.uuid ] === undefined ) {\r\n\r\n\t\t\t\tmeta.materials[ this.material.uuid ] = this.material.toJSON( meta );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tobject.material = this.material.uuid;\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tif ( this.children.length > 0 ) {\r\n\r\n\t\t\tobject.children = [];\r\n\r\n\t\t\tfor ( var i = 0; i < this.children.length; i ++ ) {\r\n\r\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( isRootObject ) {\r\n\r\n\t\t\tvar geometries = extractFromCache( meta.geometries );\r\n\t\t\tvar materials = extractFromCache( meta.materials );\r\n\t\t\tvar textures = extractFromCache( meta.textures );\r\n\t\t\tvar images = extractFromCache( meta.images );\r\n\r\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\r\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\r\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\r\n\t\t\tif ( images.length > 0 ) output.images = images;\r\n\r\n\t\t}\r\n\r\n\t\toutput.object = object;\r\n\r\n\t\treturn output;\r\n\r\n\t\t// extract data from the cache hash\r\n\t\t// remove metadata on each item\r\n\t\t// and return as array\r\n\t\tfunction extractFromCache ( cache ) {\r\n\r\n\t\t\tvar values = [];\r\n\t\t\tfor ( var key in cache ) {\r\n\r\n\t\t\t\tvar data = cache[ key ];\r\n\t\t\t\tdelete data.metadata;\r\n\t\t\t\tvalues.push( data );\r\n\r\n\t\t\t}\r\n\t\t\treturn values;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tclone: function ( recursive ) {\r\n\r\n\t\treturn new this.constructor().copy( this, recursive );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source, recursive ) {\r\n\r\n\t\tif ( recursive === undefined ) recursive = true;\r\n\r\n\t\tthis.name = source.name;\r\n\r\n\t\tthis.up.copy( source.up );\r\n\r\n\t\tthis.position.copy( source.position );\r\n\t\tthis.quaternion.copy( source.quaternion );\r\n\t\tthis.scale.copy( source.scale );\r\n\r\n\t\tthis.matrix.copy( source.matrix );\r\n\t\tthis.matrixWorld.copy( source.matrixWorld );\r\n\r\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\r\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\r\n\r\n\t\tthis.visible = source.visible;\r\n\r\n\t\tthis.castShadow = source.castShadow;\r\n\t\tthis.receiveShadow = source.receiveShadow;\r\n\r\n\t\tthis.frustumCulled = source.frustumCulled;\r\n\t\tthis.renderOrder = source.renderOrder;\r\n\r\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\r\n\r\n\t\tif ( recursive === true ) {\r\n\r\n\t\t\tfor ( var i = 0; i < source.children.length; i ++ ) {\r\n\r\n\t\t\t\tvar child = source.children[ i ];\r\n\t\t\t\tthis.add( child.clone() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nTHREE.Object3DIdCount = 0;\r\n\r\n// File:src/core/Face3.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.Face3 = function ( a, b, c, normal, color, materialIndex ) {\r\n\r\n\tthis.a = a;\r\n\tthis.b = b;\r\n\tthis.c = c;\r\n\r\n\tthis.normal = normal instanceof THREE.Vector3 ? normal : new THREE.Vector3();\r\n\tthis.vertexNormals = Array.isArray( normal ) ? normal : [];\r\n\r\n\tthis.color = color instanceof THREE.Color ? color : new THREE.Color();\r\n\tthis.vertexColors = Array.isArray( color ) ? color : [];\r\n\r\n\tthis.materialIndex = materialIndex !== undefined ? materialIndex : 0;\r\n\r\n};\r\n\r\nTHREE.Face3.prototype = {\r\n\r\n\tconstructor: THREE.Face3,\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.a = source.a;\r\n\t\tthis.b = source.b;\r\n\t\tthis.c = source.c;\r\n\r\n\t\tthis.normal.copy( source.normal );\r\n\t\tthis.color.copy( source.color );\r\n\r\n\t\tthis.materialIndex = source.materialIndex;\r\n\r\n\t\tfor ( var i = 0, il = source.vertexNormals.length; i < il; i ++ ) {\r\n\r\n\t\t\tthis.vertexNormals[ i ] = source.vertexNormals[ i ].clone();\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0, il = source.vertexColors.length; i < il; i ++ ) {\r\n\r\n\t\t\tthis.vertexColors[ i ] = source.vertexColors[ i ].clone();\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/core/BufferAttribute.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.BufferAttribute = function ( array, itemSize, normalized ) {\r\n\r\n\tthis.uuid = THREE.Math.generateUUID();\r\n\r\n\tthis.array = array;\r\n\tthis.itemSize = itemSize;\r\n\r\n\tthis.dynamic = false;\r\n\tthis.updateRange = { offset: 0, count: - 1 };\r\n\r\n\tthis.version = 0;\r\n\tthis.normalized = normalized === true;\r\n\r\n};\r\n\r\nTHREE.BufferAttribute.prototype = {\r\n\r\n\tconstructor: THREE.BufferAttribute,\r\n\r\n\tget count() {\r\n\r\n\t\treturn this.array.length / this.itemSize;\r\n\r\n\t},\r\n\r\n\tset needsUpdate( value ) {\r\n\r\n\t\tif ( value === true ) this.version ++;\r\n\r\n\t},\r\n\r\n\tsetDynamic: function ( value ) {\r\n\r\n\t\tthis.dynamic = value;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.array = new source.array.constructor( source.array );\r\n\t\tthis.itemSize = source.itemSize;\r\n\r\n\t\tthis.dynamic = source.dynamic;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyAt: function ( index1, attribute, index2 ) {\r\n\r\n\t\tindex1 *= this.itemSize;\r\n\t\tindex2 *= attribute.itemSize;\r\n\r\n\t\tfor ( var i = 0, l = this.itemSize; i < l; i ++ ) {\r\n\r\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyArray: function ( array ) {\r\n\r\n\t\tthis.array.set( array );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyColorsArray: function ( colors ) {\r\n\r\n\t\tvar array = this.array, offset = 0;\r\n\r\n\t\tfor ( var i = 0, l = colors.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar color = colors[ i ];\r\n\r\n\t\t\tif ( color === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\r\n\t\t\t\tcolor = new THREE.Color();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tarray[ offset ++ ] = color.r;\r\n\t\t\tarray[ offset ++ ] = color.g;\r\n\t\t\tarray[ offset ++ ] = color.b;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyIndicesArray: function ( indices ) {\r\n\r\n\t\tvar array = this.array, offset = 0;\r\n\r\n\t\tfor ( var i = 0, l = indices.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar index = indices[ i ];\r\n\r\n\t\t\tarray[ offset ++ ] = index.a;\r\n\t\t\tarray[ offset ++ ] = index.b;\r\n\t\t\tarray[ offset ++ ] = index.c;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyVector2sArray: function ( vectors ) {\r\n\r\n\t\tvar array = this.array, offset = 0;\r\n\r\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar vector = vectors[ i ];\r\n\r\n\t\t\tif ( vector === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\r\n\t\t\t\tvector = new THREE.Vector2();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tarray[ offset ++ ] = vector.x;\r\n\t\t\tarray[ offset ++ ] = vector.y;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyVector3sArray: function ( vectors ) {\r\n\r\n\t\tvar array = this.array, offset = 0;\r\n\r\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar vector = vectors[ i ];\r\n\r\n\t\t\tif ( vector === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\r\n\t\t\t\tvector = new THREE.Vector3();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tarray[ offset ++ ] = vector.x;\r\n\t\t\tarray[ offset ++ ] = vector.y;\r\n\t\t\tarray[ offset ++ ] = vector.z;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyVector4sArray: function ( vectors ) {\r\n\r\n\t\tvar array = this.array, offset = 0;\r\n\r\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar vector = vectors[ i ];\r\n\r\n\t\t\tif ( vector === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\r\n\t\t\t\tvector = new THREE.Vector4();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tarray[ offset ++ ] = vector.x;\r\n\t\t\tarray[ offset ++ ] = vector.y;\r\n\t\t\tarray[ offset ++ ] = vector.z;\r\n\t\t\tarray[ offset ++ ] = vector.w;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tset: function ( value, offset ) {\r\n\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tthis.array.set( value, offset );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetX: function ( index ) {\r\n\r\n\t\treturn this.array[ index * this.itemSize ];\r\n\r\n\t},\r\n\r\n\tsetX: function ( index, x ) {\r\n\r\n\t\tthis.array[ index * this.itemSize ] = x;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetY: function ( index ) {\r\n\r\n\t\treturn this.array[ index * this.itemSize + 1 ];\r\n\r\n\t},\r\n\r\n\tsetY: function ( index, y ) {\r\n\r\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetZ: function ( index ) {\r\n\r\n\t\treturn this.array[ index * this.itemSize + 2 ];\r\n\r\n\t},\r\n\r\n\tsetZ: function ( index, z ) {\r\n\r\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetW: function ( index ) {\r\n\r\n\t\treturn this.array[ index * this.itemSize + 3 ];\r\n\r\n\t},\r\n\r\n\tsetW: function ( index, w ) {\r\n\r\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetXY: function ( index, x, y ) {\r\n\r\n\t\tindex *= this.itemSize;\r\n\r\n\t\tthis.array[ index + 0 ] = x;\r\n\t\tthis.array[ index + 1 ] = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetXYZ: function ( index, x, y, z ) {\r\n\r\n\t\tindex *= this.itemSize;\r\n\r\n\t\tthis.array[ index + 0 ] = x;\r\n\t\tthis.array[ index + 1 ] = y;\r\n\t\tthis.array[ index + 2 ] = z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetXYZW: function ( index, x, y, z, w ) {\r\n\r\n\t\tindex *= this.itemSize;\r\n\r\n\t\tthis.array[ index + 0 ] = x;\r\n\t\tthis.array[ index + 1 ] = y;\r\n\t\tthis.array[ index + 2 ] = z;\r\n\t\tthis.array[ index + 3 ] = w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t}\r\n\r\n};\r\n\r\n//\r\n\r\nTHREE.Int8Attribute = function ( array, itemSize ) {\r\n\r\n\treturn new THREE.BufferAttribute( new Int8Array( array ), itemSize );\r\n\r\n};\r\n\r\nTHREE.Uint8Attribute = function ( array, itemSize ) {\r\n\r\n\treturn new THREE.BufferAttribute( new Uint8Array( array ), itemSize );\r\n\r\n};\r\n\r\nTHREE.Uint8ClampedAttribute = function ( array, itemSize ) {\r\n\r\n\treturn new THREE.BufferAttribute( new Uint8ClampedArray( array ), itemSize );\r\n\r\n};\r\n\r\nTHREE.Int16Attribute = function ( array, itemSize ) {\r\n\r\n\treturn new THREE.BufferAttribute( new Int16Array( array ), itemSize );\r\n\r\n};\r\n\r\nTHREE.Uint16Attribute = function ( array, itemSize ) {\r\n\r\n\treturn new THREE.BufferAttribute( new Uint16Array( array ), itemSize );\r\n\r\n};\r\n\r\nTHREE.Int32Attribute = function ( array, itemSize ) {\r\n\r\n\treturn new THREE.BufferAttribute( new Int32Array( array ), itemSize );\r\n\r\n};\r\n\r\nTHREE.Uint32Attribute = function ( array, itemSize ) {\r\n\r\n\treturn new THREE.BufferAttribute( new Uint32Array( array ), itemSize );\r\n\r\n};\r\n\r\nTHREE.Float32Attribute = function ( array, itemSize ) {\r\n\r\n\treturn new THREE.BufferAttribute( new Float32Array( array ), itemSize );\r\n\r\n};\r\n\r\nTHREE.Float64Attribute = function ( array, itemSize ) {\r\n\r\n\treturn new THREE.BufferAttribute( new Float64Array( array ), itemSize );\r\n\r\n};\r\n\r\n\r\n// Deprecated\r\n\r\nTHREE.DynamicBufferAttribute = function ( array, itemSize ) {\r\n\r\n\tconsole.warn( 'THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.' );\r\n\treturn new THREE.BufferAttribute( array, itemSize ).setDynamic( true );\r\n\r\n};\r\n\r\n// File:src/core/InstancedBufferAttribute.js\r\n\r\n/**\r\n * @author benaadams / https://twitter.com/ben_a_adams\r\n */\r\n\r\nTHREE.InstancedBufferAttribute = function ( array, itemSize, meshPerAttribute ) {\r\n\r\n\tTHREE.BufferAttribute.call( this, array, itemSize );\r\n\r\n\tthis.meshPerAttribute = meshPerAttribute || 1;\r\n\r\n};\r\n\r\nTHREE.InstancedBufferAttribute.prototype = Object.create( THREE.BufferAttribute.prototype );\r\nTHREE.InstancedBufferAttribute.prototype.constructor = THREE.InstancedBufferAttribute;\r\n\r\nTHREE.InstancedBufferAttribute.prototype.copy = function ( source ) {\r\n\r\n\tTHREE.BufferAttribute.prototype.copy.call( this, source );\r\n\r\n\tthis.meshPerAttribute = source.meshPerAttribute;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n// File:src/core/InterleavedBuffer.js\r\n\r\n/**\r\n * @author benaadams / https://twitter.com/ben_a_adams\r\n */\r\n\r\nTHREE.InterleavedBuffer = function ( array, stride ) {\r\n\r\n\tthis.uuid = THREE.Math.generateUUID();\r\n\r\n\tthis.array = array;\r\n\tthis.stride = stride;\r\n\r\n\tthis.dynamic = false;\r\n\tthis.updateRange = { offset: 0, count: - 1 };\r\n\r\n\tthis.version = 0;\r\n\r\n};\r\n\r\nTHREE.InterleavedBuffer.prototype = {\r\n\r\n\tconstructor: THREE.InterleavedBuffer,\r\n\r\n\tget length () {\r\n\r\n\t\treturn this.array.length;\r\n\r\n\t},\r\n\r\n\tget count () {\r\n\r\n\t\treturn this.array.length / this.stride;\r\n\r\n\t},\r\n\r\n\tset needsUpdate( value ) {\r\n\r\n\t\tif ( value === true ) this.version ++;\r\n\r\n\t},\r\n\r\n\tsetDynamic: function ( value ) {\r\n\r\n\t\tthis.dynamic = value;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.array = new source.array.constructor( source.array );\r\n\t\tthis.stride = source.stride;\r\n\t\tthis.dynamic = source.dynamic;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcopyAt: function ( index1, attribute, index2 ) {\r\n\r\n\t\tindex1 *= this.stride;\r\n\t\tindex2 *= attribute.stride;\r\n\r\n\t\tfor ( var i = 0, l = this.stride; i < l; i ++ ) {\r\n\r\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tset: function ( value, offset ) {\r\n\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tthis.array.set( value, offset );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/core/InstancedInterleavedBuffer.js\r\n\r\n/**\r\n * @author benaadams / https://twitter.com/ben_a_adams\r\n */\r\n\r\nTHREE.InstancedInterleavedBuffer = function ( array, stride, meshPerAttribute ) {\r\n\r\n\tTHREE.InterleavedBuffer.call( this, array, stride );\r\n\r\n\tthis.meshPerAttribute = meshPerAttribute || 1;\r\n\r\n};\r\n\r\nTHREE.InstancedInterleavedBuffer.prototype = Object.create( THREE.InterleavedBuffer.prototype );\r\nTHREE.InstancedInterleavedBuffer.prototype.constructor = THREE.InstancedInterleavedBuffer;\r\n\r\nTHREE.InstancedInterleavedBuffer.prototype.copy = function ( source ) {\r\n\r\n\tTHREE.InterleavedBuffer.prototype.copy.call( this, source );\r\n\r\n\tthis.meshPerAttribute = source.meshPerAttribute;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n// File:src/core/InterleavedBufferAttribute.js\r\n\r\n/**\r\n * @author benaadams / https://twitter.com/ben_a_adams\r\n */\r\n\r\nTHREE.InterleavedBufferAttribute = function ( interleavedBuffer, itemSize, offset ) {\r\n\r\n\tthis.uuid = THREE.Math.generateUUID();\r\n\r\n\tthis.data = interleavedBuffer;\r\n\tthis.itemSize = itemSize;\r\n\tthis.offset = offset;\r\n\r\n};\r\n\r\n\r\nTHREE.InterleavedBufferAttribute.prototype = {\r\n\r\n\tconstructor: THREE.InterleavedBufferAttribute,\r\n\r\n\tget length() {\r\n\r\n\t\tconsole.warn( 'THREE.BufferAttribute: .length has been deprecated. Please use .count.' );\r\n\t\treturn this.array.length;\r\n\r\n\t},\r\n\r\n\tget count() {\r\n\r\n\t\treturn this.data.count;\r\n\r\n\t},\r\n\r\n\tsetX: function ( index, x ) {\r\n\r\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetY: function ( index, y ) {\r\n\r\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetZ: function ( index, z ) {\r\n\r\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetW: function ( index, w ) {\r\n\r\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetX: function ( index ) {\r\n\r\n\t\treturn this.data.array[ index * this.data.stride + this.offset ];\r\n\r\n\t},\r\n\r\n\tgetY: function ( index ) {\r\n\r\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\r\n\r\n\t},\r\n\r\n\tgetZ: function ( index ) {\r\n\r\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\r\n\r\n\t},\r\n\r\n\tgetW: function ( index ) {\r\n\r\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\r\n\r\n\t},\r\n\r\n\tsetXY: function ( index, x, y ) {\r\n\r\n\t\tindex = index * this.data.stride + this.offset;\r\n\r\n\t\tthis.data.array[ index + 0 ] = x;\r\n\t\tthis.data.array[ index + 1 ] = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetXYZ: function ( index, x, y, z ) {\r\n\r\n\t\tindex = index * this.data.stride + this.offset;\r\n\r\n\t\tthis.data.array[ index + 0 ] = x;\r\n\t\tthis.data.array[ index + 1 ] = y;\r\n\t\tthis.data.array[ index + 2 ] = z;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetXYZW: function ( index, x, y, z, w ) {\r\n\r\n\t\tindex = index * this.data.stride + this.offset;\r\n\r\n\t\tthis.data.array[ index + 0 ] = x;\r\n\t\tthis.data.array[ index + 1 ] = y;\r\n\t\tthis.data.array[ index + 2 ] = z;\r\n\t\tthis.data.array[ index + 3 ] = w;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/core/Geometry.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author kile / http://kile.stravaganza.org/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n * @author bhouston / http://clara.io\r\n */\r\n\r\nTHREE.Geometry = function () {\r\n\r\n\tObject.defineProperty( this, 'id', { value: THREE.GeometryIdCount ++ } );\r\n\r\n\tthis.uuid = THREE.Math.generateUUID();\r\n\r\n\tthis.name = '';\r\n\tthis.type = 'Geometry';\r\n\r\n\tthis.vertices = [];\r\n\tthis.colors = [];\r\n\tthis.faces = [];\r\n\tthis.faceVertexUvs = [ [] ];\r\n\r\n\tthis.morphTargets = [];\r\n\tthis.morphNormals = [];\r\n\r\n\tthis.skinWeights = [];\r\n\tthis.skinIndices = [];\r\n\r\n\tthis.lineDistances = [];\r\n\r\n\tthis.boundingBox = null;\r\n\tthis.boundingSphere = null;\r\n\r\n\t// update flags\r\n\r\n\tthis.verticesNeedUpdate = false;\r\n\tthis.elementsNeedUpdate = false;\r\n\tthis.uvsNeedUpdate = false;\r\n\tthis.normalsNeedUpdate = false;\r\n\tthis.colorsNeedUpdate = false;\r\n\tthis.lineDistancesNeedUpdate = false;\r\n\tthis.groupsNeedUpdate = false;\r\n\r\n};\r\n\r\nObject.assign( THREE.Geometry.prototype, THREE.EventDispatcher.prototype, {\r\n\r\n\tapplyMatrix: function ( matrix ) {\r\n\r\n\t\tvar normalMatrix = new THREE.Matrix3().getNormalMatrix( matrix );\r\n\r\n\t\tfor ( var i = 0, il = this.vertices.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar vertex = this.vertices[ i ];\r\n\t\t\tvertex.applyMatrix4( matrix );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0, il = this.faces.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar face = this.faces[ i ];\r\n\t\t\tface.normal.applyMatrix3( normalMatrix ).normalize();\r\n\r\n\t\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\tface.vertexNormals[ j ].applyMatrix3( normalMatrix ).normalize();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.boundingBox !== null ) {\r\n\r\n\t\t\tthis.computeBoundingBox();\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.boundingSphere !== null ) {\r\n\r\n\t\t\tthis.computeBoundingSphere();\r\n\r\n\t\t}\r\n\r\n\t\tthis.verticesNeedUpdate = true;\r\n\t\tthis.normalsNeedUpdate = true;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\trotateX: function () {\r\n\r\n\t\t// rotate geometry around world x-axis\r\n\r\n\t\tvar m1;\r\n\r\n\t\treturn function rotateX( angle ) {\r\n\r\n\t\t\tif ( m1 === undefined ) m1 = new THREE.Matrix4();\r\n\r\n\t\t\tm1.makeRotationX( angle );\r\n\r\n\t\t\tthis.applyMatrix( m1 );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\trotateY: function () {\r\n\r\n\t\t// rotate geometry around world y-axis\r\n\r\n\t\tvar m1;\r\n\r\n\t\treturn function rotateY( angle ) {\r\n\r\n\t\t\tif ( m1 === undefined ) m1 = new THREE.Matrix4();\r\n\r\n\t\t\tm1.makeRotationY( angle );\r\n\r\n\t\t\tthis.applyMatrix( m1 );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\trotateZ: function () {\r\n\r\n\t\t// rotate geometry around world z-axis\r\n\r\n\t\tvar m1;\r\n\r\n\t\treturn function rotateZ( angle ) {\r\n\r\n\t\t\tif ( m1 === undefined ) m1 = new THREE.Matrix4();\r\n\r\n\t\t\tm1.makeRotationZ( angle );\r\n\r\n\t\t\tthis.applyMatrix( m1 );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\ttranslate: function () {\r\n\r\n\t\t// translate geometry\r\n\r\n\t\tvar m1;\r\n\r\n\t\treturn function translate( x, y, z ) {\r\n\r\n\t\t\tif ( m1 === undefined ) m1 = new THREE.Matrix4();\r\n\r\n\t\t\tm1.makeTranslation( x, y, z );\r\n\r\n\t\t\tthis.applyMatrix( m1 );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tscale: function () {\r\n\r\n\t\t// scale geometry\r\n\r\n\t\tvar m1;\r\n\r\n\t\treturn function scale( x, y, z ) {\r\n\r\n\t\t\tif ( m1 === undefined ) m1 = new THREE.Matrix4();\r\n\r\n\t\t\tm1.makeScale( x, y, z );\r\n\r\n\t\t\tthis.applyMatrix( m1 );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tlookAt: function () {\r\n\r\n\t\tvar obj;\r\n\r\n\t\treturn function lookAt( vector ) {\r\n\r\n\t\t\tif ( obj === undefined ) obj = new THREE.Object3D();\r\n\r\n\t\t\tobj.lookAt( vector );\r\n\r\n\t\t\tobj.updateMatrix();\r\n\r\n\t\t\tthis.applyMatrix( obj.matrix );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tfromBufferGeometry: function ( geometry ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar indices = geometry.index !== null ? geometry.index.array : undefined;\r\n\t\tvar attributes = geometry.attributes;\r\n\r\n\t\tvar positions = attributes.position.array;\r\n\t\tvar normals = attributes.normal !== undefined ? attributes.normal.array : undefined;\r\n\t\tvar colors = attributes.color !== undefined ? attributes.color.array : undefined;\r\n\t\tvar uvs = attributes.uv !== undefined ? attributes.uv.array : undefined;\r\n\t\tvar uvs2 = attributes.uv2 !== undefined ? attributes.uv2.array : undefined;\r\n\r\n\t\tif ( uvs2 !== undefined ) this.faceVertexUvs[ 1 ] = [];\r\n\r\n\t\tvar tempNormals = [];\r\n\t\tvar tempUVs = [];\r\n\t\tvar tempUVs2 = [];\r\n\r\n\t\tfor ( var i = 0, j = 0; i < positions.length; i += 3, j += 2 ) {\r\n\r\n\t\t\tscope.vertices.push( new THREE.Vector3( positions[ i ], positions[ i + 1 ], positions[ i + 2 ] ) );\r\n\r\n\t\t\tif ( normals !== undefined ) {\r\n\r\n\t\t\t\ttempNormals.push( new THREE.Vector3( normals[ i ], normals[ i + 1 ], normals[ i + 2 ] ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( colors !== undefined ) {\r\n\r\n\t\t\t\tscope.colors.push( new THREE.Color( colors[ i ], colors[ i + 1 ], colors[ i + 2 ] ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( uvs !== undefined ) {\r\n\r\n\t\t\t\ttempUVs.push( new THREE.Vector2( uvs[ j ], uvs[ j + 1 ] ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( uvs2 !== undefined ) {\r\n\r\n\t\t\t\ttempUVs2.push( new THREE.Vector2( uvs2[ j ], uvs2[ j + 1 ] ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction addFace( a, b, c, materialIndex ) {\r\n\r\n\t\t\tvar vertexNormals = normals !== undefined ? [ tempNormals[ a ].clone(), tempNormals[ b ].clone(), tempNormals[ c ].clone() ] : [];\r\n\t\t\tvar vertexColors = colors !== undefined ? [ scope.colors[ a ].clone(), scope.colors[ b ].clone(), scope.colors[ c ].clone() ] : [];\r\n\r\n\t\t\tvar face = new THREE.Face3( a, b, c, vertexNormals, vertexColors, materialIndex );\r\n\r\n\t\t\tscope.faces.push( face );\r\n\r\n\t\t\tif ( uvs !== undefined ) {\r\n\r\n\t\t\t\tscope.faceVertexUvs[ 0 ].push( [ tempUVs[ a ].clone(), tempUVs[ b ].clone(), tempUVs[ c ].clone() ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( uvs2 !== undefined ) {\r\n\r\n\t\t\t\tscope.faceVertexUvs[ 1 ].push( [ tempUVs2[ a ].clone(), tempUVs2[ b ].clone(), tempUVs2[ c ].clone() ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( indices !== undefined ) {\r\n\r\n\t\t\tvar groups = geometry.groups;\r\n\r\n\t\t\tif ( groups.length > 0 ) {\r\n\r\n\t\t\t\tfor ( var i = 0; i < groups.length; i ++ ) {\r\n\r\n\t\t\t\t\tvar group = groups[ i ];\r\n\r\n\t\t\t\t\tvar start = group.start;\r\n\t\t\t\t\tvar count = group.count;\r\n\r\n\t\t\t\t\tfor ( var j = start, jl = start + count; j < jl; j += 3 ) {\r\n\r\n\t\t\t\t\t\taddFace( indices[ j ], indices[ j + 1 ], indices[ j + 2 ], group.materialIndex  );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tfor ( var i = 0; i < indices.length; i += 3 ) {\r\n\r\n\t\t\t\t\taddFace( indices[ i ], indices[ i + 1 ], indices[ i + 2 ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tfor ( var i = 0; i < positions.length / 3; i += 3 ) {\r\n\r\n\t\t\t\taddFace( i, i + 1, i + 2 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.computeFaceNormals();\r\n\r\n\t\tif ( geometry.boundingBox !== null ) {\r\n\r\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.boundingSphere !== null ) {\r\n\r\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcenter: function () {\r\n\r\n\t\tthis.computeBoundingBox();\r\n\r\n\t\tvar offset = this.boundingBox.center().negate();\r\n\r\n\t\tthis.translate( offset.x, offset.y, offset.z );\r\n\r\n\t\treturn offset;\r\n\r\n\t},\r\n\r\n\tnormalize: function () {\r\n\r\n\t\tthis.computeBoundingSphere();\r\n\r\n\t\tvar center = this.boundingSphere.center;\r\n\t\tvar radius = this.boundingSphere.radius;\r\n\r\n\t\tvar s = radius === 0 ? 1 : 1.0 / radius;\r\n\r\n\t\tvar matrix = new THREE.Matrix4();\r\n\t\tmatrix.set(\r\n\t\t\ts, 0, 0, - s * center.x,\r\n\t\t\t0, s, 0, - s * center.y,\r\n\t\t\t0, 0, s, - s * center.z,\r\n\t\t\t0, 0, 0, 1\r\n\t\t);\r\n\r\n\t\tthis.applyMatrix( matrix );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcomputeFaceNormals: function () {\r\n\r\n\t\tvar cb = new THREE.Vector3(), ab = new THREE.Vector3();\r\n\r\n\t\tfor ( var f = 0, fl = this.faces.length; f < fl; f ++ ) {\r\n\r\n\t\t\tvar face = this.faces[ f ];\r\n\r\n\t\t\tvar vA = this.vertices[ face.a ];\r\n\t\t\tvar vB = this.vertices[ face.b ];\r\n\t\t\tvar vC = this.vertices[ face.c ];\r\n\r\n\t\t\tcb.subVectors( vC, vB );\r\n\t\t\tab.subVectors( vA, vB );\r\n\t\t\tcb.cross( ab );\r\n\r\n\t\t\tcb.normalize();\r\n\r\n\t\t\tface.normal.copy( cb );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tcomputeVertexNormals: function ( areaWeighted ) {\r\n\r\n\t\tif ( areaWeighted === undefined ) areaWeighted = true;\r\n\r\n\t\tvar v, vl, f, fl, face, vertices;\r\n\r\n\t\tvertices = new Array( this.vertices.length );\r\n\r\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\r\n\r\n\t\t\tvertices[ v ] = new THREE.Vector3();\r\n\r\n\t\t}\r\n\r\n\t\tif ( areaWeighted ) {\r\n\r\n\t\t\t// vertex normals weighted by triangle areas\r\n\t\t\t// http://www.iquilezles.org/www/articles/normals/normals.htm\r\n\r\n\t\t\tvar vA, vB, vC;\r\n\t\t\tvar cb = new THREE.Vector3(), ab = new THREE.Vector3();\r\n\r\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\r\n\r\n\t\t\t\tface = this.faces[ f ];\r\n\r\n\t\t\t\tvA = this.vertices[ face.a ];\r\n\t\t\t\tvB = this.vertices[ face.b ];\r\n\t\t\t\tvC = this.vertices[ face.c ];\r\n\r\n\t\t\t\tcb.subVectors( vC, vB );\r\n\t\t\t\tab.subVectors( vA, vB );\r\n\t\t\t\tcb.cross( ab );\r\n\r\n\t\t\t\tvertices[ face.a ].add( cb );\r\n\t\t\t\tvertices[ face.b ].add( cb );\r\n\t\t\t\tvertices[ face.c ].add( cb );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\r\n\r\n\t\t\t\tface = this.faces[ f ];\r\n\r\n\t\t\t\tvertices[ face.a ].add( face.normal );\r\n\t\t\t\tvertices[ face.b ].add( face.normal );\r\n\t\t\t\tvertices[ face.c ].add( face.normal );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\r\n\r\n\t\t\tvertices[ v ].normalize();\r\n\r\n\t\t}\r\n\r\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\r\n\r\n\t\t\tface = this.faces[ f ];\r\n\r\n\t\t\tvar vertexNormals = face.vertexNormals;\r\n\r\n\t\t\tif ( vertexNormals.length === 3 ) {\r\n\r\n\t\t\t\tvertexNormals[ 0 ].copy( vertices[ face.a ] );\r\n\t\t\t\tvertexNormals[ 1 ].copy( vertices[ face.b ] );\r\n\t\t\t\tvertexNormals[ 2 ].copy( vertices[ face.c ] );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvertexNormals[ 0 ] = vertices[ face.a ].clone();\r\n\t\t\t\tvertexNormals[ 1 ] = vertices[ face.b ].clone();\r\n\t\t\t\tvertexNormals[ 2 ] = vertices[ face.c ].clone();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.faces.length > 0 ) {\r\n\r\n\t\t\tthis.normalsNeedUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tcomputeMorphNormals: function () {\r\n\r\n\t\tvar i, il, f, fl, face;\r\n\r\n\t\t// save original normals\r\n\t\t// - create temp variables on first access\r\n\t\t//   otherwise just copy (for faster repeated calls)\r\n\r\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\r\n\r\n\t\t\tface = this.faces[ f ];\r\n\r\n\t\t\tif ( ! face.__originalFaceNormal ) {\r\n\r\n\t\t\t\tface.__originalFaceNormal = face.normal.clone();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tface.__originalFaceNormal.copy( face.normal );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( ! face.__originalVertexNormals ) face.__originalVertexNormals = [];\r\n\r\n\t\t\tfor ( i = 0, il = face.vertexNormals.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tif ( ! face.__originalVertexNormals[ i ] ) {\r\n\r\n\t\t\t\t\tface.__originalVertexNormals[ i ] = face.vertexNormals[ i ].clone();\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tface.__originalVertexNormals[ i ].copy( face.vertexNormals[ i ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// use temp geometry to compute face and vertex normals for each morph\r\n\r\n\t\tvar tmpGeo = new THREE.Geometry();\r\n\t\ttmpGeo.faces = this.faces;\r\n\r\n\t\tfor ( i = 0, il = this.morphTargets.length; i < il; i ++ ) {\r\n\r\n\t\t\t// create on first access\r\n\r\n\t\t\tif ( ! this.morphNormals[ i ] ) {\r\n\r\n\t\t\t\tthis.morphNormals[ i ] = {};\r\n\t\t\t\tthis.morphNormals[ i ].faceNormals = [];\r\n\t\t\t\tthis.morphNormals[ i ].vertexNormals = [];\r\n\r\n\t\t\t\tvar dstNormalsFace = this.morphNormals[ i ].faceNormals;\r\n\t\t\t\tvar dstNormalsVertex = this.morphNormals[ i ].vertexNormals;\r\n\r\n\t\t\t\tvar faceNormal, vertexNormals;\r\n\r\n\t\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\r\n\r\n\t\t\t\t\tfaceNormal = new THREE.Vector3();\r\n\t\t\t\t\tvertexNormals = { a: new THREE.Vector3(), b: new THREE.Vector3(), c: new THREE.Vector3() };\r\n\r\n\t\t\t\t\tdstNormalsFace.push( faceNormal );\r\n\t\t\t\t\tdstNormalsVertex.push( vertexNormals );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar morphNormals = this.morphNormals[ i ];\r\n\r\n\t\t\t// set vertices to morph target\r\n\r\n\t\t\ttmpGeo.vertices = this.morphTargets[ i ].vertices;\r\n\r\n\t\t\t// compute morph normals\r\n\r\n\t\t\ttmpGeo.computeFaceNormals();\r\n\t\t\ttmpGeo.computeVertexNormals();\r\n\r\n\t\t\t// store morph normals\r\n\r\n\t\t\tvar faceNormal, vertexNormals;\r\n\r\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\r\n\r\n\t\t\t\tface = this.faces[ f ];\r\n\r\n\t\t\t\tfaceNormal = morphNormals.faceNormals[ f ];\r\n\t\t\t\tvertexNormals = morphNormals.vertexNormals[ f ];\r\n\r\n\t\t\t\tfaceNormal.copy( face.normal );\r\n\r\n\t\t\t\tvertexNormals.a.copy( face.vertexNormals[ 0 ] );\r\n\t\t\t\tvertexNormals.b.copy( face.vertexNormals[ 1 ] );\r\n\t\t\t\tvertexNormals.c.copy( face.vertexNormals[ 2 ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// restore original normals\r\n\r\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\r\n\r\n\t\t\tface = this.faces[ f ];\r\n\r\n\t\t\tface.normal = face.__originalFaceNormal;\r\n\t\t\tface.vertexNormals = face.__originalVertexNormals;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tcomputeTangents: function () {\r\n\r\n\t\tconsole.warn( 'THREE.Geometry: .computeTangents() has been removed.' );\r\n\r\n\t},\r\n\r\n\tcomputeLineDistances: function () {\r\n\r\n\t\tvar d = 0;\r\n\t\tvar vertices = this.vertices;\r\n\r\n\t\tfor ( var i = 0, il = vertices.length; i < il; i ++ ) {\r\n\r\n\t\t\tif ( i > 0 ) {\r\n\r\n\t\t\t\td += vertices[ i ].distanceTo( vertices[ i - 1 ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.lineDistances[ i ] = d;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tcomputeBoundingBox: function () {\r\n\r\n\t\tif ( this.boundingBox === null ) {\r\n\r\n\t\t\tthis.boundingBox = new THREE.Box3();\r\n\r\n\t\t}\r\n\r\n\t\tthis.boundingBox.setFromPoints( this.vertices );\r\n\r\n\t},\r\n\r\n\tcomputeBoundingSphere: function () {\r\n\r\n\t\tif ( this.boundingSphere === null ) {\r\n\r\n\t\t\tthis.boundingSphere = new THREE.Sphere();\r\n\r\n\t\t}\r\n\r\n\t\tthis.boundingSphere.setFromPoints( this.vertices );\r\n\r\n\t},\r\n\r\n\tmerge: function ( geometry, matrix, materialIndexOffset ) {\r\n\r\n\t\tif ( geometry instanceof THREE.Geometry === false ) {\r\n\r\n\t\t\tconsole.error( 'THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tvar normalMatrix,\r\n\t\tvertexOffset = this.vertices.length,\r\n\t\tvertices1 = this.vertices,\r\n\t\tvertices2 = geometry.vertices,\r\n\t\tfaces1 = this.faces,\r\n\t\tfaces2 = geometry.faces,\r\n\t\tuvs1 = this.faceVertexUvs[ 0 ],\r\n\t\tuvs2 = geometry.faceVertexUvs[ 0 ];\r\n\r\n\t\tif ( materialIndexOffset === undefined ) materialIndexOffset = 0;\r\n\r\n\t\tif ( matrix !== undefined ) {\r\n\r\n\t\t\tnormalMatrix = new THREE.Matrix3().getNormalMatrix( matrix );\r\n\r\n\t\t}\r\n\r\n\t\t// vertices\r\n\r\n\t\tfor ( var i = 0, il = vertices2.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar vertex = vertices2[ i ];\r\n\r\n\t\t\tvar vertexCopy = vertex.clone();\r\n\r\n\t\t\tif ( matrix !== undefined ) vertexCopy.applyMatrix4( matrix );\r\n\r\n\t\t\tvertices1.push( vertexCopy );\r\n\r\n\t\t}\r\n\r\n\t\t// faces\r\n\r\n\t\tfor ( i = 0, il = faces2.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar face = faces2[ i ], faceCopy, normal, color,\r\n\t\t\tfaceVertexNormals = face.vertexNormals,\r\n\t\t\tfaceVertexColors = face.vertexColors;\r\n\r\n\t\t\tfaceCopy = new THREE.Face3( face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset );\r\n\t\t\tfaceCopy.normal.copy( face.normal );\r\n\r\n\t\t\tif ( normalMatrix !== undefined ) {\r\n\r\n\t\t\t\tfaceCopy.normal.applyMatrix3( normalMatrix ).normalize();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var j = 0, jl = faceVertexNormals.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\tnormal = faceVertexNormals[ j ].clone();\r\n\r\n\t\t\t\tif ( normalMatrix !== undefined ) {\r\n\r\n\t\t\t\t\tnormal.applyMatrix3( normalMatrix ).normalize();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfaceCopy.vertexNormals.push( normal );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfaceCopy.color.copy( face.color );\r\n\r\n\t\t\tfor ( var j = 0, jl = faceVertexColors.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\tcolor = faceVertexColors[ j ];\r\n\t\t\t\tfaceCopy.vertexColors.push( color.clone() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfaceCopy.materialIndex = face.materialIndex + materialIndexOffset;\r\n\r\n\t\t\tfaces1.push( faceCopy );\r\n\r\n\t\t}\r\n\r\n\t\t// uvs\r\n\r\n\t\tfor ( i = 0, il = uvs2.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar uv = uvs2[ i ], uvCopy = [];\r\n\r\n\t\t\tif ( uv === undefined ) {\r\n\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var j = 0, jl = uv.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\tuvCopy.push( uv[ j ].clone() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tuvs1.push( uvCopy );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tmergeMesh: function ( mesh ) {\r\n\r\n\t\tif ( mesh instanceof THREE.Mesh === false ) {\r\n\r\n\t\t\tconsole.error( 'THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tmesh.matrixAutoUpdate && mesh.updateMatrix();\r\n\r\n\t\tthis.merge( mesh.geometry, mesh.matrix );\r\n\r\n\t},\r\n\r\n\t/*\r\n\t * Checks for duplicate vertices with hashmap.\r\n\t * Duplicated vertices are removed\r\n\t * and faces' vertices are updated.\r\n\t */\r\n\r\n\tmergeVertices: function () {\r\n\r\n\t\tvar verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\r\n\t\tvar unique = [], changes = [];\r\n\r\n\t\tvar v, key;\r\n\t\tvar precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\r\n\t\tvar precision = Math.pow( 10, precisionPoints );\r\n\t\tvar i, il, face;\r\n\t\tvar indices, j, jl;\r\n\r\n\t\tfor ( i = 0, il = this.vertices.length; i < il; i ++ ) {\r\n\r\n\t\t\tv = this.vertices[ i ];\r\n\t\t\tkey = Math.round( v.x * precision ) + '_' + Math.round( v.y * precision ) + '_' + Math.round( v.z * precision );\r\n\r\n\t\t\tif ( verticesMap[ key ] === undefined ) {\r\n\r\n\t\t\t\tverticesMap[ key ] = i;\r\n\t\t\t\tunique.push( this.vertices[ i ] );\r\n\t\t\t\tchanges[ i ] = unique.length - 1;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t//console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\r\n\t\t\t\tchanges[ i ] = changes[ verticesMap[ key ] ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\r\n\t\t// if faces are completely degenerate after merging vertices, we\r\n\t\t// have to remove them from the geometry.\r\n\t\tvar faceIndicesToRemove = [];\r\n\r\n\t\tfor ( i = 0, il = this.faces.length; i < il; i ++ ) {\r\n\r\n\t\t\tface = this.faces[ i ];\r\n\r\n\t\t\tface.a = changes[ face.a ];\r\n\t\t\tface.b = changes[ face.b ];\r\n\t\t\tface.c = changes[ face.c ];\r\n\r\n\t\t\tindices = [ face.a, face.b, face.c ];\r\n\r\n\t\t\tvar dupIndex = - 1;\r\n\r\n\t\t\t// if any duplicate vertices are found in a Face3\r\n\t\t\t// we have to remove the face as nothing can be saved\r\n\t\t\tfor ( var n = 0; n < 3; n ++ ) {\r\n\r\n\t\t\t\tif ( indices[ n ] === indices[ ( n + 1 ) % 3 ] ) {\r\n\r\n\t\t\t\t\tdupIndex = n;\r\n\t\t\t\t\tfaceIndicesToRemove.push( i );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfor ( i = faceIndicesToRemove.length - 1; i >= 0; i -- ) {\r\n\r\n\t\t\tvar idx = faceIndicesToRemove[ i ];\r\n\r\n\t\t\tthis.faces.splice( idx, 1 );\r\n\r\n\t\t\tfor ( j = 0, jl = this.faceVertexUvs.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\tthis.faceVertexUvs[ j ].splice( idx, 1 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Use unique set of vertices\r\n\r\n\t\tvar diff = this.vertices.length - unique.length;\r\n\t\tthis.vertices = unique;\r\n\t\treturn diff;\r\n\r\n\t},\r\n\r\n\tsortFacesByMaterialIndex: function () {\r\n\r\n\t\tvar faces = this.faces;\r\n\t\tvar length = faces.length;\r\n\r\n\t\t// tag faces\r\n\r\n\t\tfor ( var i = 0; i < length; i ++ ) {\r\n\r\n\t\t\tfaces[ i ]._id = i;\r\n\r\n\t\t}\r\n\r\n\t\t// sort faces\r\n\r\n\t\tfunction materialIndexSort( a, b ) {\r\n\r\n\t\t\treturn a.materialIndex - b.materialIndex;\r\n\r\n\t\t}\r\n\r\n\t\tfaces.sort( materialIndexSort );\r\n\r\n\t\t// sort uvs\r\n\r\n\t\tvar uvs1 = this.faceVertexUvs[ 0 ];\r\n\t\tvar uvs2 = this.faceVertexUvs[ 1 ];\r\n\r\n\t\tvar newUvs1, newUvs2;\r\n\r\n\t\tif ( uvs1 && uvs1.length === length ) newUvs1 = [];\r\n\t\tif ( uvs2 && uvs2.length === length ) newUvs2 = [];\r\n\r\n\t\tfor ( var i = 0; i < length; i ++ ) {\r\n\r\n\t\t\tvar id = faces[ i ]._id;\r\n\r\n\t\t\tif ( newUvs1 ) newUvs1.push( uvs1[ id ] );\r\n\t\t\tif ( newUvs2 ) newUvs2.push( uvs2[ id ] );\r\n\r\n\t\t}\r\n\r\n\t\tif ( newUvs1 ) this.faceVertexUvs[ 0 ] = newUvs1;\r\n\t\tif ( newUvs2 ) this.faceVertexUvs[ 1 ] = newUvs2;\r\n\r\n\t},\r\n\r\n\ttoJSON: function () {\r\n\r\n\t\tvar data = {\r\n\t\t\tmetadata: {\r\n\t\t\t\tversion: 4.4,\r\n\t\t\t\ttype: 'Geometry',\r\n\t\t\t\tgenerator: 'Geometry.toJSON'\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// standard Geometry serialization\r\n\r\n\t\tdata.uuid = this.uuid;\r\n\t\tdata.type = this.type;\r\n\t\tif ( this.name !== '' ) data.name = this.name;\r\n\r\n\t\tif ( this.parameters !== undefined ) {\r\n\r\n\t\t\tvar parameters = this.parameters;\r\n\r\n\t\t\tfor ( var key in parameters ) {\r\n\r\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tvar vertices = [];\r\n\r\n\t\tfor ( var i = 0; i < this.vertices.length; i ++ ) {\r\n\r\n\t\t\tvar vertex = this.vertices[ i ];\r\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t}\r\n\r\n\t\tvar faces = [];\r\n\t\tvar normals = [];\r\n\t\tvar normalsHash = {};\r\n\t\tvar colors = [];\r\n\t\tvar colorsHash = {};\r\n\t\tvar uvs = [];\r\n\t\tvar uvsHash = {};\r\n\r\n\t\tfor ( var i = 0; i < this.faces.length; i ++ ) {\r\n\r\n\t\t\tvar face = this.faces[ i ];\r\n\r\n\t\t\tvar hasMaterial = true;\r\n\t\t\tvar hasFaceUv = false; // deprecated\r\n\t\t\tvar hasFaceVertexUv = this.faceVertexUvs[ 0 ][ i ] !== undefined;\r\n\t\t\tvar hasFaceNormal = face.normal.length() > 0;\r\n\t\t\tvar hasFaceVertexNormal = face.vertexNormals.length > 0;\r\n\t\t\tvar hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\r\n\t\t\tvar hasFaceVertexColor = face.vertexColors.length > 0;\r\n\r\n\t\t\tvar faceType = 0;\r\n\r\n\t\t\tfaceType = setBit( faceType, 0, 0 ); // isQuad\r\n\t\t\tfaceType = setBit( faceType, 1, hasMaterial );\r\n\t\t\tfaceType = setBit( faceType, 2, hasFaceUv );\r\n\t\t\tfaceType = setBit( faceType, 3, hasFaceVertexUv );\r\n\t\t\tfaceType = setBit( faceType, 4, hasFaceNormal );\r\n\t\t\tfaceType = setBit( faceType, 5, hasFaceVertexNormal );\r\n\t\t\tfaceType = setBit( faceType, 6, hasFaceColor );\r\n\t\t\tfaceType = setBit( faceType, 7, hasFaceVertexColor );\r\n\r\n\t\t\tfaces.push( faceType );\r\n\t\t\tfaces.push( face.a, face.b, face.c );\r\n\t\t\tfaces.push( face.materialIndex );\r\n\r\n\t\t\tif ( hasFaceVertexUv ) {\r\n\r\n\t\t\t\tvar faceVertexUvs = this.faceVertexUvs[ 0 ][ i ];\r\n\r\n\t\t\t\tfaces.push(\r\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 0 ] ),\r\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 1 ] ),\r\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 2 ] )\r\n\t\t\t\t);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( hasFaceNormal ) {\r\n\r\n\t\t\t\tfaces.push( getNormalIndex( face.normal ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( hasFaceVertexNormal ) {\r\n\r\n\t\t\t\tvar vertexNormals = face.vertexNormals;\r\n\r\n\t\t\t\tfaces.push(\r\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 0 ] ),\r\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 1 ] ),\r\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 2 ] )\r\n\t\t\t\t);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( hasFaceColor ) {\r\n\r\n\t\t\t\tfaces.push( getColorIndex( face.color ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( hasFaceVertexColor ) {\r\n\r\n\t\t\t\tvar vertexColors = face.vertexColors;\r\n\r\n\t\t\t\tfaces.push(\r\n\t\t\t\t\tgetColorIndex( vertexColors[ 0 ] ),\r\n\t\t\t\t\tgetColorIndex( vertexColors[ 1 ] ),\r\n\t\t\t\t\tgetColorIndex( vertexColors[ 2 ] )\r\n\t\t\t\t);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction setBit( value, position, enabled ) {\r\n\r\n\t\t\treturn enabled ? value | ( 1 << position ) : value & ( ~ ( 1 << position ) );\r\n\r\n\t\t}\r\n\r\n\t\tfunction getNormalIndex( normal ) {\r\n\r\n\t\t\tvar hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\r\n\r\n\t\t\tif ( normalsHash[ hash ] !== undefined ) {\r\n\r\n\t\t\t\treturn normalsHash[ hash ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tnormalsHash[ hash ] = normals.length / 3;\r\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\r\n\r\n\t\t\treturn normalsHash[ hash ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction getColorIndex( color ) {\r\n\r\n\t\t\tvar hash = color.r.toString() + color.g.toString() + color.b.toString();\r\n\r\n\t\t\tif ( colorsHash[ hash ] !== undefined ) {\r\n\r\n\t\t\t\treturn colorsHash[ hash ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcolorsHash[ hash ] = colors.length;\r\n\t\t\tcolors.push( color.getHex() );\r\n\r\n\t\t\treturn colorsHash[ hash ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction getUvIndex( uv ) {\r\n\r\n\t\t\tvar hash = uv.x.toString() + uv.y.toString();\r\n\r\n\t\t\tif ( uvsHash[ hash ] !== undefined ) {\r\n\r\n\t\t\t\treturn uvsHash[ hash ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tuvsHash[ hash ] = uvs.length / 2;\r\n\t\t\tuvs.push( uv.x, uv.y );\r\n\r\n\t\t\treturn uvsHash[ hash ];\r\n\r\n\t\t}\r\n\r\n\t\tdata.data = {};\r\n\r\n\t\tdata.data.vertices = vertices;\r\n\t\tdata.data.normals = normals;\r\n\t\tif ( colors.length > 0 ) data.data.colors = colors;\r\n\t\tif ( uvs.length > 0 ) data.data.uvs = [ uvs ]; // temporal backward compatibility\r\n\t\tdata.data.faces = faces;\r\n\r\n\t\treturn data;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\t/*\r\n\t\t// Handle primitives\r\n\r\n\t\tvar parameters = this.parameters;\r\n\r\n\t\tif ( parameters !== undefined ) {\r\n\r\n\t\t\tvar values = [];\r\n\r\n\t\t\tfor ( var key in parameters ) {\r\n\r\n\t\t\t\tvalues.push( parameters[ key ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar geometry = Object.create( this.constructor.prototype );\r\n\t\t\tthis.constructor.apply( geometry, values );\r\n\t\t\treturn geometry;\r\n\r\n\t\t}\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\t\t*/\r\n\r\n\t\treturn new THREE.Geometry().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.vertices = [];\r\n\t\tthis.faces = [];\r\n\t\tthis.faceVertexUvs = [ [] ];\r\n\r\n\t\tvar vertices = source.vertices;\r\n\r\n\t\tfor ( var i = 0, il = vertices.length; i < il; i ++ ) {\r\n\r\n\t\t\tthis.vertices.push( vertices[ i ].clone() );\r\n\r\n\t\t}\r\n\r\n\t\tvar faces = source.faces;\r\n\r\n\t\tfor ( var i = 0, il = faces.length; i < il; i ++ ) {\r\n\r\n\t\t\tthis.faces.push( faces[ i ].clone() );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0, il = source.faceVertexUvs.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar faceVertexUvs = source.faceVertexUvs[ i ];\r\n\r\n\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) {\r\n\r\n\t\t\t\tthis.faceVertexUvs[ i ] = [];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var j = 0, jl = faceVertexUvs.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\tvar uvs = faceVertexUvs[ j ], uvsCopy = [];\r\n\r\n\t\t\t\tfor ( var k = 0, kl = uvs.length; k < kl; k ++ ) {\r\n\r\n\t\t\t\t\tvar uv = uvs[ k ];\r\n\r\n\t\t\t\t\tuvsCopy.push( uv.clone() );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdispose: function () {\r\n\r\n\t\tthis.dispatchEvent( { type: 'dispose' } );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nTHREE.GeometryIdCount = 0;\r\n\r\n// File:src/core/DirectGeometry.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.DirectGeometry = function () {\r\n\r\n\tObject.defineProperty( this, 'id', { value: THREE.GeometryIdCount ++ } );\r\n\r\n\tthis.uuid = THREE.Math.generateUUID();\r\n\r\n\tthis.name = '';\r\n\tthis.type = 'DirectGeometry';\r\n\r\n\tthis.indices = [];\r\n\tthis.vertices = [];\r\n\tthis.normals = [];\r\n\tthis.colors = [];\r\n\tthis.uvs = [];\r\n\tthis.uvs2 = [];\r\n\r\n\tthis.groups = [];\r\n\r\n\tthis.morphTargets = {};\r\n\r\n\tthis.skinWeights = [];\r\n\tthis.skinIndices = [];\r\n\r\n\t// this.lineDistances = [];\r\n\r\n\tthis.boundingBox = null;\r\n\tthis.boundingSphere = null;\r\n\r\n\t// update flags\r\n\r\n\tthis.verticesNeedUpdate = false;\r\n\tthis.normalsNeedUpdate = false;\r\n\tthis.colorsNeedUpdate = false;\r\n\tthis.uvsNeedUpdate = false;\r\n\tthis.groupsNeedUpdate = false;\r\n\r\n};\r\n\r\nObject.assign( THREE.DirectGeometry.prototype, THREE.EventDispatcher.prototype, {\r\n\r\n\tcomputeBoundingBox: THREE.Geometry.prototype.computeBoundingBox,\r\n\tcomputeBoundingSphere: THREE.Geometry.prototype.computeBoundingSphere,\r\n\r\n\tcomputeFaceNormals: function () {\r\n\r\n\t\tconsole.warn( 'THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.' );\r\n\r\n\t},\r\n\r\n\tcomputeVertexNormals: function () {\r\n\r\n\t\tconsole.warn( 'THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.' );\r\n\r\n\t},\r\n\r\n\tcomputeGroups: function ( geometry ) {\r\n\r\n\t\tvar group;\r\n\t\tvar groups = [];\r\n\t\tvar materialIndex;\r\n\r\n\t\tvar faces = geometry.faces;\r\n\r\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\r\n\r\n\t\t\tvar face = faces[ i ];\r\n\r\n\t\t\t// materials\r\n\r\n\t\t\tif ( face.materialIndex !== materialIndex ) {\r\n\r\n\t\t\t\tmaterialIndex = face.materialIndex;\r\n\r\n\t\t\t\tif ( group !== undefined ) {\r\n\r\n\t\t\t\t\tgroup.count = ( i * 3 ) - group.start;\r\n\t\t\t\t\tgroups.push( group );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgroup = {\r\n\t\t\t\t\tstart: i * 3,\r\n\t\t\t\t\tmaterialIndex: materialIndex\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( group !== undefined ) {\r\n\r\n\t\t\tgroup.count = ( i * 3 ) - group.start;\r\n\t\t\tgroups.push( group );\r\n\r\n\t\t}\r\n\r\n\t\tthis.groups = groups;\r\n\r\n\t},\r\n\r\n\tfromGeometry: function ( geometry ) {\r\n\r\n\t\tvar faces = geometry.faces;\r\n\t\tvar vertices = geometry.vertices;\r\n\t\tvar faceVertexUvs = geometry.faceVertexUvs;\r\n\r\n\t\tvar hasFaceVertexUv = faceVertexUvs[ 0 ] && faceVertexUvs[ 0 ].length > 0;\r\n\t\tvar hasFaceVertexUv2 = faceVertexUvs[ 1 ] && faceVertexUvs[ 1 ].length > 0;\r\n\r\n\t\t// morphs\r\n\r\n\t\tvar morphTargets = geometry.morphTargets;\r\n\t\tvar morphTargetsLength = morphTargets.length;\r\n\r\n\t\tvar morphTargetsPosition;\r\n\r\n\t\tif ( morphTargetsLength > 0 ) {\r\n\r\n\t\t\tmorphTargetsPosition = [];\r\n\r\n\t\t\tfor ( var i = 0; i < morphTargetsLength; i ++ ) {\r\n\r\n\t\t\t\tmorphTargetsPosition[ i ] = [];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.morphTargets.position = morphTargetsPosition;\r\n\r\n\t\t}\r\n\r\n\t\tvar morphNormals = geometry.morphNormals;\r\n\t\tvar morphNormalsLength = morphNormals.length;\r\n\r\n\t\tvar morphTargetsNormal;\r\n\r\n\t\tif ( morphNormalsLength > 0 ) {\r\n\r\n\t\t\tmorphTargetsNormal = [];\r\n\r\n\t\t\tfor ( var i = 0; i < morphNormalsLength; i ++ ) {\r\n\r\n\t\t\t\tmorphTargetsNormal[ i ] = [];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.morphTargets.normal = morphTargetsNormal;\r\n\r\n\t\t}\r\n\r\n\t\t// skins\r\n\r\n\t\tvar skinIndices = geometry.skinIndices;\r\n\t\tvar skinWeights = geometry.skinWeights;\r\n\r\n\t\tvar hasSkinIndices = skinIndices.length === vertices.length;\r\n\t\tvar hasSkinWeights = skinWeights.length === vertices.length;\r\n\r\n\t\t//\r\n\r\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\r\n\r\n\t\t\tvar face = faces[ i ];\r\n\r\n\t\t\tthis.vertices.push( vertices[ face.a ], vertices[ face.b ], vertices[ face.c ] );\r\n\r\n\t\t\tvar vertexNormals = face.vertexNormals;\r\n\r\n\t\t\tif ( vertexNormals.length === 3 ) {\r\n\r\n\t\t\t\tthis.normals.push( vertexNormals[ 0 ], vertexNormals[ 1 ], vertexNormals[ 2 ] );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar normal = face.normal;\r\n\r\n\t\t\t\tthis.normals.push( normal, normal, normal );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar vertexColors = face.vertexColors;\r\n\r\n\t\t\tif ( vertexColors.length === 3 ) {\r\n\r\n\t\t\t\tthis.colors.push( vertexColors[ 0 ], vertexColors[ 1 ], vertexColors[ 2 ] );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar color = face.color;\r\n\r\n\t\t\t\tthis.colors.push( color, color, color );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( hasFaceVertexUv === true ) {\r\n\r\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 0 ][ i ];\r\n\r\n\t\t\t\tif ( vertexUvs !== undefined ) {\r\n\r\n\t\t\t\t\tthis.uvs.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i );\r\n\r\n\t\t\t\t\tthis.uvs.push( new THREE.Vector2(), new THREE.Vector2(), new THREE.Vector2() );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( hasFaceVertexUv2 === true ) {\r\n\r\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 1 ][ i ];\r\n\r\n\t\t\t\tif ( vertexUvs !== undefined ) {\r\n\r\n\t\t\t\t\tthis.uvs2.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i );\r\n\r\n\t\t\t\t\tthis.uvs2.push( new THREE.Vector2(), new THREE.Vector2(), new THREE.Vector2() );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// morphs\r\n\r\n\t\t\tfor ( var j = 0; j < morphTargetsLength; j ++ ) {\r\n\r\n\t\t\t\tvar morphTarget = morphTargets[ j ].vertices;\r\n\r\n\t\t\t\tmorphTargetsPosition[ j ].push( morphTarget[ face.a ], morphTarget[ face.b ], morphTarget[ face.c ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var j = 0; j < morphNormalsLength; j ++ ) {\r\n\r\n\t\t\t\tvar morphNormal = morphNormals[ j ].vertexNormals[ i ];\r\n\r\n\t\t\t\tmorphTargetsNormal[ j ].push( morphNormal.a, morphNormal.b, morphNormal.c );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// skins\r\n\r\n\t\t\tif ( hasSkinIndices ) {\r\n\r\n\t\t\t\tthis.skinIndices.push( skinIndices[ face.a ], skinIndices[ face.b ], skinIndices[ face.c ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( hasSkinWeights ) {\r\n\r\n\t\t\t\tthis.skinWeights.push( skinWeights[ face.a ], skinWeights[ face.b ], skinWeights[ face.c ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.computeGroups( geometry );\r\n\r\n\t\tthis.verticesNeedUpdate = geometry.verticesNeedUpdate;\r\n\t\tthis.normalsNeedUpdate = geometry.normalsNeedUpdate;\r\n\t\tthis.colorsNeedUpdate = geometry.colorsNeedUpdate;\r\n\t\tthis.uvsNeedUpdate = geometry.uvsNeedUpdate;\r\n\t\tthis.groupsNeedUpdate = geometry.groupsNeedUpdate;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdispose: function () {\r\n\r\n\t\tthis.dispatchEvent( { type: 'dispose' } );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/core/BufferGeometry.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.BufferGeometry = function () {\r\n\r\n\tObject.defineProperty( this, 'id', { value: THREE.GeometryIdCount ++ } );\r\n\r\n\tthis.uuid = THREE.Math.generateUUID();\r\n\r\n\tthis.name = '';\r\n\tthis.type = 'BufferGeometry';\r\n\r\n\tthis.index = null;\r\n\tthis.attributes = {};\r\n\r\n\tthis.morphAttributes = {};\r\n\r\n\tthis.groups = [];\r\n\r\n\tthis.boundingBox = null;\r\n\tthis.boundingSphere = null;\r\n\r\n\tthis.drawRange = { start: 0, count: Infinity };\r\n\r\n};\r\n\r\nObject.assign( THREE.BufferGeometry.prototype, THREE.EventDispatcher.prototype, {\r\n\r\n\tgetIndex: function () {\r\n\r\n\t\treturn this.index;\r\n\r\n\t},\r\n\r\n\tsetIndex: function ( index ) {\r\n\r\n\t\tthis.index = index;\r\n\r\n\t},\r\n\r\n\taddAttribute: function ( name, attribute ) {\r\n\r\n\t\tif ( attribute instanceof THREE.BufferAttribute === false && attribute instanceof THREE.InterleavedBufferAttribute === false ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\r\n\r\n\t\t\tthis.addAttribute( name, new THREE.BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( name === 'index' ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\r\n\t\t\tthis.setIndex( attribute );\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tthis.attributes[ name ] = attribute;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetAttribute: function ( name ) {\r\n\r\n\t\treturn this.attributes[ name ];\r\n\r\n\t},\r\n\r\n\tremoveAttribute: function ( name ) {\r\n\r\n\t\tdelete this.attributes[ name ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddGroup: function ( start, count, materialIndex ) {\r\n\r\n\t\tthis.groups.push( {\r\n\r\n\t\t\tstart: start,\r\n\t\t\tcount: count,\r\n\t\t\tmaterialIndex: materialIndex !== undefined ? materialIndex : 0\r\n\r\n\t\t} );\r\n\r\n\t},\r\n\r\n\tclearGroups: function () {\r\n\r\n\t\tthis.groups = [];\r\n\r\n\t},\r\n\r\n\tsetDrawRange: function ( start, count ) {\r\n\r\n\t\tthis.drawRange.start = start;\r\n\t\tthis.drawRange.count = count;\r\n\r\n\t},\r\n\r\n\tapplyMatrix: function ( matrix ) {\r\n\r\n\t\tvar position = this.attributes.position;\r\n\r\n\t\tif ( position !== undefined ) {\r\n\r\n\t\t\tmatrix.applyToVector3Array( position.array );\r\n\t\t\tposition.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t\tvar normal = this.attributes.normal;\r\n\r\n\t\tif ( normal !== undefined ) {\r\n\r\n\t\t\tvar normalMatrix = new THREE.Matrix3().getNormalMatrix( matrix );\r\n\r\n\t\t\tnormalMatrix.applyToVector3Array( normal.array );\r\n\t\t\tnormal.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.boundingBox !== null ) {\r\n\r\n\t\t\tthis.computeBoundingBox();\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.boundingSphere !== null ) {\r\n\r\n\t\t\tthis.computeBoundingSphere();\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\trotateX: function () {\r\n\r\n\t\t// rotate geometry around world x-axis\r\n\r\n\t\tvar m1;\r\n\r\n\t\treturn function rotateX( angle ) {\r\n\r\n\t\t\tif ( m1 === undefined ) m1 = new THREE.Matrix4();\r\n\r\n\t\t\tm1.makeRotationX( angle );\r\n\r\n\t\t\tthis.applyMatrix( m1 );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\trotateY: function () {\r\n\r\n\t\t// rotate geometry around world y-axis\r\n\r\n\t\tvar m1;\r\n\r\n\t\treturn function rotateY( angle ) {\r\n\r\n\t\t\tif ( m1 === undefined ) m1 = new THREE.Matrix4();\r\n\r\n\t\t\tm1.makeRotationY( angle );\r\n\r\n\t\t\tthis.applyMatrix( m1 );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\trotateZ: function () {\r\n\r\n\t\t// rotate geometry around world z-axis\r\n\r\n\t\tvar m1;\r\n\r\n\t\treturn function rotateZ( angle ) {\r\n\r\n\t\t\tif ( m1 === undefined ) m1 = new THREE.Matrix4();\r\n\r\n\t\t\tm1.makeRotationZ( angle );\r\n\r\n\t\t\tthis.applyMatrix( m1 );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\ttranslate: function () {\r\n\r\n\t\t// translate geometry\r\n\r\n\t\tvar m1;\r\n\r\n\t\treturn function translate( x, y, z ) {\r\n\r\n\t\t\tif ( m1 === undefined ) m1 = new THREE.Matrix4();\r\n\r\n\t\t\tm1.makeTranslation( x, y, z );\r\n\r\n\t\t\tthis.applyMatrix( m1 );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tscale: function () {\r\n\r\n\t\t// scale geometry\r\n\r\n\t\tvar m1;\r\n\r\n\t\treturn function scale( x, y, z ) {\r\n\r\n\t\t\tif ( m1 === undefined ) m1 = new THREE.Matrix4();\r\n\r\n\t\t\tm1.makeScale( x, y, z );\r\n\r\n\t\t\tthis.applyMatrix( m1 );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tlookAt: function () {\r\n\r\n\t\tvar obj;\r\n\r\n\t\treturn function lookAt( vector ) {\r\n\r\n\t\t\tif ( obj === undefined ) obj = new THREE.Object3D();\r\n\r\n\t\t\tobj.lookAt( vector );\r\n\r\n\t\t\tobj.updateMatrix();\r\n\r\n\t\t\tthis.applyMatrix( obj.matrix );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tcenter: function () {\r\n\r\n\t\tthis.computeBoundingBox();\r\n\r\n\t\tvar offset = this.boundingBox.center().negate();\r\n\r\n\t\tthis.translate( offset.x, offset.y, offset.z );\r\n\r\n\t\treturn offset;\r\n\r\n\t},\r\n\r\n\tsetFromObject: function ( object ) {\r\n\r\n\t\t// console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\r\n\r\n\t\tvar geometry = object.geometry;\r\n\r\n\t\tif ( object instanceof THREE.Points || object instanceof THREE.Line ) {\r\n\r\n\t\t\tvar positions = new THREE.Float32Attribute( geometry.vertices.length * 3, 3 );\r\n\t\t\tvar colors = new THREE.Float32Attribute( geometry.colors.length * 3, 3 );\r\n\r\n\t\t\tthis.addAttribute( 'position', positions.copyVector3sArray( geometry.vertices ) );\r\n\t\t\tthis.addAttribute( 'color', colors.copyColorsArray( geometry.colors ) );\r\n\r\n\t\t\tif ( geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length ) {\r\n\r\n\t\t\t\tvar lineDistances = new THREE.Float32Attribute( geometry.lineDistances.length, 1 );\r\n\r\n\t\t\t\tthis.addAttribute( 'lineDistance', lineDistances.copyArray( geometry.lineDistances ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( geometry.boundingSphere !== null ) {\r\n\r\n\t\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( geometry.boundingBox !== null ) {\r\n\r\n\t\t\t\tthis.boundingBox = geometry.boundingBox.clone();\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( object instanceof THREE.Mesh ) {\r\n\r\n\t\t\tif ( geometry instanceof THREE.Geometry ) {\r\n\r\n\t\t\t\tthis.fromGeometry( geometry );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tupdateFromObject: function ( object ) {\r\n\r\n\t\tvar geometry = object.geometry;\r\n\r\n\t\tif ( object instanceof THREE.Mesh ) {\r\n\r\n\t\t\tvar direct = geometry.__directGeometry;\r\n\r\n\t\t\tif ( direct === undefined ) {\r\n\r\n\t\t\t\treturn this.fromGeometry( geometry );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tdirect.verticesNeedUpdate = geometry.verticesNeedUpdate;\r\n\t\t\tdirect.normalsNeedUpdate = geometry.normalsNeedUpdate;\r\n\t\t\tdirect.colorsNeedUpdate = geometry.colorsNeedUpdate;\r\n\t\t\tdirect.uvsNeedUpdate = geometry.uvsNeedUpdate;\r\n\t\t\tdirect.groupsNeedUpdate = geometry.groupsNeedUpdate;\r\n\r\n\t\t\tgeometry.verticesNeedUpdate = false;\r\n\t\t\tgeometry.normalsNeedUpdate = false;\r\n\t\t\tgeometry.colorsNeedUpdate = false;\r\n\t\t\tgeometry.uvsNeedUpdate = false;\r\n\t\t\tgeometry.groupsNeedUpdate = false;\r\n\r\n\t\t\tgeometry = direct;\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.verticesNeedUpdate === true ) {\r\n\r\n\t\t\tvar attribute = this.attributes.position;\r\n\r\n\t\t\tif ( attribute !== undefined ) {\r\n\r\n\t\t\t\tattribute.copyVector3sArray( geometry.vertices );\r\n\t\t\t\tattribute.needsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry.verticesNeedUpdate = false;\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.normalsNeedUpdate === true ) {\r\n\r\n\t\t\tvar attribute = this.attributes.normal;\r\n\r\n\t\t\tif ( attribute !== undefined ) {\r\n\r\n\t\t\t\tattribute.copyVector3sArray( geometry.normals );\r\n\t\t\t\tattribute.needsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry.normalsNeedUpdate = false;\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.colorsNeedUpdate === true ) {\r\n\r\n\t\t\tvar attribute = this.attributes.color;\r\n\r\n\t\t\tif ( attribute !== undefined ) {\r\n\r\n\t\t\t\tattribute.copyColorsArray( geometry.colors );\r\n\t\t\t\tattribute.needsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry.colorsNeedUpdate = false;\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.uvsNeedUpdate ) {\r\n\r\n\t\t\tvar attribute = this.attributes.uv;\r\n\r\n\t\t\tif ( attribute !== undefined ) {\r\n\r\n\t\t\t\tattribute.copyVector2sArray( geometry.uvs );\r\n\t\t\t\tattribute.needsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry.uvsNeedUpdate = false;\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.lineDistancesNeedUpdate ) {\r\n\r\n\t\t\tvar attribute = this.attributes.lineDistance;\r\n\r\n\t\t\tif ( attribute !== undefined ) {\r\n\r\n\t\t\t\tattribute.copyArray( geometry.lineDistances );\r\n\t\t\t\tattribute.needsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry.lineDistancesNeedUpdate = false;\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.groupsNeedUpdate ) {\r\n\r\n\t\t\tgeometry.computeGroups( object.geometry );\r\n\t\t\tthis.groups = geometry.groups;\r\n\r\n\t\t\tgeometry.groupsNeedUpdate = false;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tfromGeometry: function ( geometry ) {\r\n\r\n\t\tgeometry.__directGeometry = new THREE.DirectGeometry().fromGeometry( geometry );\r\n\r\n\t\treturn this.fromDirectGeometry( geometry.__directGeometry );\r\n\r\n\t},\r\n\r\n\tfromDirectGeometry: function ( geometry ) {\r\n\r\n\t\tvar positions = new Float32Array( geometry.vertices.length * 3 );\r\n\t\tthis.addAttribute( 'position', new THREE.BufferAttribute( positions, 3 ).copyVector3sArray( geometry.vertices ) );\r\n\r\n\t\tif ( geometry.normals.length > 0 ) {\r\n\r\n\t\t\tvar normals = new Float32Array( geometry.normals.length * 3 );\r\n\t\t\tthis.addAttribute( 'normal', new THREE.BufferAttribute( normals, 3 ).copyVector3sArray( geometry.normals ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.colors.length > 0 ) {\r\n\r\n\t\t\tvar colors = new Float32Array( geometry.colors.length * 3 );\r\n\t\t\tthis.addAttribute( 'color', new THREE.BufferAttribute( colors, 3 ).copyColorsArray( geometry.colors ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.uvs.length > 0 ) {\r\n\r\n\t\t\tvar uvs = new Float32Array( geometry.uvs.length * 2 );\r\n\t\t\tthis.addAttribute( 'uv', new THREE.BufferAttribute( uvs, 2 ).copyVector2sArray( geometry.uvs ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.uvs2.length > 0 ) {\r\n\r\n\t\t\tvar uvs2 = new Float32Array( geometry.uvs2.length * 2 );\r\n\t\t\tthis.addAttribute( 'uv2', new THREE.BufferAttribute( uvs2, 2 ).copyVector2sArray( geometry.uvs2 ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.indices.length > 0 ) {\r\n\r\n\t\t\tvar TypeArray = geometry.vertices.length > 65535 ? Uint32Array : Uint16Array;\r\n\t\t\tvar indices = new TypeArray( geometry.indices.length * 3 );\r\n\t\t\tthis.setIndex( new THREE.BufferAttribute( indices, 1 ).copyIndicesArray( geometry.indices ) );\r\n\r\n\t\t}\r\n\r\n\t\t// groups\r\n\r\n\t\tthis.groups = geometry.groups;\r\n\r\n\t\t// morphs\r\n\r\n\t\tfor ( var name in geometry.morphTargets ) {\r\n\r\n\t\t\tvar array = [];\r\n\t\t\tvar morphTargets = geometry.morphTargets[ name ];\r\n\r\n\t\t\tfor ( var i = 0, l = morphTargets.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar morphTarget = morphTargets[ i ];\r\n\r\n\t\t\t\tvar attribute = new THREE.Float32Attribute( morphTarget.length * 3, 3 );\r\n\r\n\t\t\t\tarray.push( attribute.copyVector3sArray( morphTarget ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.morphAttributes[ name ] = array;\r\n\r\n\t\t}\r\n\r\n\t\t// skinning\r\n\r\n\t\tif ( geometry.skinIndices.length > 0 ) {\r\n\r\n\t\t\tvar skinIndices = new THREE.Float32Attribute( geometry.skinIndices.length * 4, 4 );\r\n\t\t\tthis.addAttribute( 'skinIndex', skinIndices.copyVector4sArray( geometry.skinIndices ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.skinWeights.length > 0 ) {\r\n\r\n\t\t\tvar skinWeights = new THREE.Float32Attribute( geometry.skinWeights.length * 4, 4 );\r\n\t\t\tthis.addAttribute( 'skinWeight', skinWeights.copyVector4sArray( geometry.skinWeights ) );\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tif ( geometry.boundingSphere !== null ) {\r\n\r\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry.boundingBox !== null ) {\r\n\r\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcomputeBoundingBox: function () {\r\n\r\n\t\tif ( this.boundingBox === null ) {\r\n\r\n\t\t\tthis.boundingBox = new THREE.Box3();\r\n\r\n\t\t}\r\n\r\n\t\tvar positions = this.attributes.position.array;\r\n\r\n\t\tif ( positions !== undefined ) {\r\n\r\n\t\t\tthis.boundingBox.setFromArray( positions );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.boundingBox.makeEmpty();\r\n\r\n\t\t}\r\n\r\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\r\n\r\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tcomputeBoundingSphere: function () {\r\n\r\n\t\tvar box = new THREE.Box3();\r\n\t\tvar vector = new THREE.Vector3();\r\n\r\n\t\treturn function computeBoundingSphere() {\r\n\r\n\t\t\tif ( this.boundingSphere === null ) {\r\n\r\n\t\t\t\tthis.boundingSphere = new THREE.Sphere();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar positions = this.attributes.position.array;\r\n\r\n\t\t\tif ( positions ) {\r\n\r\n\t\t\t\tvar center = this.boundingSphere.center;\r\n\r\n\t\t\t\tbox.setFromArray( positions );\r\n\t\t\t\tbox.center( center );\r\n\r\n\t\t\t\t// hoping to find a boundingSphere with a radius smaller than the\r\n\t\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\r\n\r\n\t\t\t\tvar maxRadiusSq = 0;\r\n\r\n\t\t\t\tfor ( var i = 0, il = positions.length; i < il; i += 3 ) {\r\n\r\n\t\t\t\t\tvector.fromArray( positions, i );\r\n\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( vector ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\r\n\r\n\t\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tcomputeFaceNormals: function () {\r\n\r\n\t\t// backwards compatibility\r\n\r\n\t},\r\n\r\n\tcomputeVertexNormals: function () {\r\n\r\n\t\tvar index = this.index;\r\n\t\tvar attributes = this.attributes;\r\n\t\tvar groups = this.groups;\r\n\r\n\t\tif ( attributes.position ) {\r\n\r\n\t\t\tvar positions = attributes.position.array;\r\n\r\n\t\t\tif ( attributes.normal === undefined ) {\r\n\r\n\t\t\t\tthis.addAttribute( 'normal', new THREE.BufferAttribute( new Float32Array( positions.length ), 3 ) );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// reset existing normals to zero\r\n\r\n\t\t\t\tvar array = attributes.normal.array;\r\n\r\n\t\t\t\tfor ( var i = 0, il = array.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tarray[ i ] = 0;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar normals = attributes.normal.array;\r\n\r\n\t\t\tvar vA, vB, vC,\r\n\r\n\t\t\tpA = new THREE.Vector3(),\r\n\t\t\tpB = new THREE.Vector3(),\r\n\t\t\tpC = new THREE.Vector3(),\r\n\r\n\t\t\tcb = new THREE.Vector3(),\r\n\t\t\tab = new THREE.Vector3();\r\n\r\n\t\t\t// indexed elements\r\n\r\n\t\t\tif ( index ) {\r\n\r\n\t\t\t\tvar indices = index.array;\r\n\r\n\t\t\t\tif ( groups.length === 0 ) {\r\n\r\n\t\t\t\t\tthis.addGroup( 0, indices.length );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( var j = 0, jl = groups.length; j < jl; ++ j ) {\r\n\r\n\t\t\t\t\tvar group = groups[ j ];\r\n\r\n\t\t\t\t\tvar start = group.start;\r\n\t\t\t\t\tvar count = group.count;\r\n\r\n\t\t\t\t\tfor ( var i = start, il = start + count; i < il; i += 3 ) {\r\n\r\n\t\t\t\t\t\tvA = indices[ i + 0 ] * 3;\r\n\t\t\t\t\t\tvB = indices[ i + 1 ] * 3;\r\n\t\t\t\t\t\tvC = indices[ i + 2 ] * 3;\r\n\r\n\t\t\t\t\t\tpA.fromArray( positions, vA );\r\n\t\t\t\t\t\tpB.fromArray( positions, vB );\r\n\t\t\t\t\t\tpC.fromArray( positions, vC );\r\n\r\n\t\t\t\t\t\tcb.subVectors( pC, pB );\r\n\t\t\t\t\t\tab.subVectors( pA, pB );\r\n\t\t\t\t\t\tcb.cross( ab );\r\n\r\n\t\t\t\t\t\tnormals[ vA ] += cb.x;\r\n\t\t\t\t\t\tnormals[ vA + 1 ] += cb.y;\r\n\t\t\t\t\t\tnormals[ vA + 2 ] += cb.z;\r\n\r\n\t\t\t\t\t\tnormals[ vB ] += cb.x;\r\n\t\t\t\t\t\tnormals[ vB + 1 ] += cb.y;\r\n\t\t\t\t\t\tnormals[ vB + 2 ] += cb.z;\r\n\r\n\t\t\t\t\t\tnormals[ vC ] += cb.x;\r\n\t\t\t\t\t\tnormals[ vC + 1 ] += cb.y;\r\n\t\t\t\t\t\tnormals[ vC + 2 ] += cb.z;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\r\n\r\n\t\t\t\tfor ( var i = 0, il = positions.length; i < il; i += 9 ) {\r\n\r\n\t\t\t\t\tpA.fromArray( positions, i );\r\n\t\t\t\t\tpB.fromArray( positions, i + 3 );\r\n\t\t\t\t\tpC.fromArray( positions, i + 6 );\r\n\r\n\t\t\t\t\tcb.subVectors( pC, pB );\r\n\t\t\t\t\tab.subVectors( pA, pB );\r\n\t\t\t\t\tcb.cross( ab );\r\n\r\n\t\t\t\t\tnormals[ i ] = cb.x;\r\n\t\t\t\t\tnormals[ i + 1 ] = cb.y;\r\n\t\t\t\t\tnormals[ i + 2 ] = cb.z;\r\n\r\n\t\t\t\t\tnormals[ i + 3 ] = cb.x;\r\n\t\t\t\t\tnormals[ i + 4 ] = cb.y;\r\n\t\t\t\t\tnormals[ i + 5 ] = cb.z;\r\n\r\n\t\t\t\t\tnormals[ i + 6 ] = cb.x;\r\n\t\t\t\t\tnormals[ i + 7 ] = cb.y;\r\n\t\t\t\t\tnormals[ i + 8 ] = cb.z;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.normalizeNormals();\r\n\r\n\t\t\tattributes.normal.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tmerge: function ( geometry, offset ) {\r\n\r\n\t\tif ( geometry instanceof THREE.BufferGeometry === false ) {\r\n\r\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tvar attributes = this.attributes;\r\n\r\n\t\tfor ( var key in attributes ) {\r\n\r\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\r\n\r\n\t\t\tvar attribute1 = attributes[ key ];\r\n\t\t\tvar attributeArray1 = attribute1.array;\r\n\r\n\t\t\tvar attribute2 = geometry.attributes[ key ];\r\n\t\t\tvar attributeArray2 = attribute2.array;\r\n\r\n\t\t\tvar attributeSize = attribute2.itemSize;\r\n\r\n\t\t\tfor ( var i = 0, j = attributeSize * offset; i < attributeArray2.length; i ++, j ++ ) {\r\n\r\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tnormalizeNormals: function () {\r\n\r\n\t\tvar normals = this.attributes.normal.array;\r\n\r\n\t\tvar x, y, z, n;\r\n\r\n\t\tfor ( var i = 0, il = normals.length; i < il; i += 3 ) {\r\n\r\n\t\t\tx = normals[ i ];\r\n\t\t\ty = normals[ i + 1 ];\r\n\t\t\tz = normals[ i + 2 ];\r\n\r\n\t\t\tn = 1.0 / Math.sqrt( x * x + y * y + z * z );\r\n\r\n\t\t\tnormals[ i ] *= n;\r\n\t\t\tnormals[ i + 1 ] *= n;\r\n\t\t\tnormals[ i + 2 ] *= n;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\ttoNonIndexed: function () {\r\n\r\n\t\tif ( this.index === null ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.' );\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t\tvar geometry2 = new THREE.BufferGeometry();\r\n\r\n\t\tvar indices = this.index.array;\r\n\t\tvar attributes = this.attributes;\r\n\r\n\t\tfor ( var name in attributes ) {\r\n\r\n\t\t\tvar attribute = attributes[ name ];\r\n\r\n\t\t\tvar array = attribute.array;\r\n\t\t\tvar itemSize = attribute.itemSize;\r\n\r\n\t\t\tvar array2 = new array.constructor( indices.length * itemSize );\r\n\r\n\t\t\tvar index = 0, index2 = 0;\r\n\r\n\t\t\tfor ( var i = 0, l = indices.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tindex = indices[ i ] * itemSize;\r\n\r\n\t\t\t\tfor ( var j = 0; j < itemSize; j ++ ) {\r\n\r\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry2.addAttribute( name, new THREE.BufferAttribute( array2, itemSize ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn geometry2;\r\n\r\n\t},\r\n\r\n\ttoJSON: function () {\r\n\r\n\t\tvar data = {\r\n\t\t\tmetadata: {\r\n\t\t\t\tversion: 4.4,\r\n\t\t\t\ttype: 'BufferGeometry',\r\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// standard BufferGeometry serialization\r\n\r\n\t\tdata.uuid = this.uuid;\r\n\t\tdata.type = this.type;\r\n\t\tif ( this.name !== '' ) data.name = this.name;\r\n\r\n\t\tif ( this.parameters !== undefined ) {\r\n\r\n\t\t\tvar parameters = this.parameters;\r\n\r\n\t\t\tfor ( var key in parameters ) {\r\n\r\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tdata.data = { attributes: {} };\r\n\r\n\t\tvar index = this.index;\r\n\r\n\t\tif ( index !== null ) {\r\n\r\n\t\t\tvar array = Array.prototype.slice.call( index.array );\r\n\r\n\t\t\tdata.data.index = {\r\n\t\t\t\ttype: index.array.constructor.name,\r\n\t\t\t\tarray: array\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tvar attributes = this.attributes;\r\n\r\n\t\tfor ( var key in attributes ) {\r\n\r\n\t\t\tvar attribute = attributes[ key ];\r\n\r\n\t\t\tvar array = Array.prototype.slice.call( attribute.array );\r\n\r\n\t\t\tdata.data.attributes[ key ] = {\r\n\t\t\t\titemSize: attribute.itemSize,\r\n\t\t\t\ttype: attribute.array.constructor.name,\r\n\t\t\t\tarray: array,\r\n\t\t\t\tnormalized: attribute.normalized\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tvar groups = this.groups;\r\n\r\n\t\tif ( groups.length > 0 ) {\r\n\r\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\r\n\r\n\t\t}\r\n\r\n\t\tvar boundingSphere = this.boundingSphere;\r\n\r\n\t\tif ( boundingSphere !== null ) {\r\n\r\n\t\t\tdata.data.boundingSphere = {\r\n\t\t\t\tcenter: boundingSphere.center.toArray(),\r\n\t\t\t\tradius: boundingSphere.radius\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\t/*\r\n\t\t// Handle primitives\r\n\r\n\t\tvar parameters = this.parameters;\r\n\r\n\t\tif ( parameters !== undefined ) {\r\n\r\n\t\t\tvar values = [];\r\n\r\n\t\t\tfor ( var key in parameters ) {\r\n\r\n\t\t\t\tvalues.push( parameters[ key ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar geometry = Object.create( this.constructor.prototype );\r\n\t\t\tthis.constructor.apply( geometry, values );\r\n\t\t\treturn geometry;\r\n\r\n\t\t}\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\t\t*/\r\n\r\n\t\treturn new THREE.BufferGeometry().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tvar index = source.index;\r\n\r\n\t\tif ( index !== null ) {\r\n\r\n\t\t\tthis.setIndex( index.clone() );\r\n\r\n\t\t}\r\n\r\n\t\tvar attributes = source.attributes;\r\n\r\n\t\tfor ( var name in attributes ) {\r\n\r\n\t\t\tvar attribute = attributes[ name ];\r\n\t\t\tthis.addAttribute( name, attribute.clone() );\r\n\r\n\t\t}\r\n\r\n\t\tvar groups = source.groups;\r\n\r\n\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar group = groups[ i ];\r\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdispose: function () {\r\n\r\n\t\tthis.dispatchEvent( { type: 'dispose' } );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nTHREE.BufferGeometry.MaxIndex = 65535;\r\n\r\n// File:src/core/InstancedBufferGeometry.js\r\n\r\n/**\r\n * @author benaadams / https://twitter.com/ben_a_adams\r\n */\r\n\r\nTHREE.InstancedBufferGeometry = function () {\r\n\r\n\tTHREE.BufferGeometry.call( this );\r\n\r\n\tthis.type = 'InstancedBufferGeometry';\r\n\tthis.maxInstancedCount = undefined;\r\n\r\n};\r\n\r\nTHREE.InstancedBufferGeometry.prototype = Object.create( THREE.BufferGeometry.prototype );\r\nTHREE.InstancedBufferGeometry.prototype.constructor = THREE.InstancedBufferGeometry;\r\n\r\nTHREE.InstancedBufferGeometry.prototype.addGroup = function ( start, count, instances ) {\r\n\r\n\tthis.groups.push( {\r\n\r\n\t\tstart: start,\r\n\t\tcount: count,\r\n\t\tinstances: instances\r\n\r\n\t} );\r\n\r\n};\r\n\r\nTHREE.InstancedBufferGeometry.prototype.copy = function ( source ) {\r\n\r\n\tvar index = source.index;\r\n\r\n\tif ( index !== null ) {\r\n\r\n\t\tthis.setIndex( index.clone() );\r\n\r\n\t}\r\n\r\n\tvar attributes = source.attributes;\r\n\r\n\tfor ( var name in attributes ) {\r\n\r\n\t\tvar attribute = attributes[ name ];\r\n\t\tthis.addAttribute( name, attribute.clone() );\r\n\r\n\t}\r\n\r\n\tvar groups = source.groups;\r\n\r\n\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\r\n\r\n\t\tvar group = groups[ i ];\r\n\t\tthis.addGroup( group.start, group.count, group.instances );\r\n\r\n\t}\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n// File:src/core/Uniform.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.Uniform = function ( value ) {\r\n\r\n\tif ( typeof value === 'string' ) {\r\n\r\n\t\tconsole.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\r\n\t\tvalue = arguments[ 1 ];\r\n\r\n\t}\r\n\r\n\tthis.value = value;\r\n\r\n\tthis.dynamic = false;\r\n\r\n};\r\n\r\nTHREE.Uniform.prototype = {\r\n\r\n\tconstructor: THREE.Uniform,\r\n\r\n\tonUpdate: function ( callback ) {\r\n\r\n\t\tthis.dynamic = true;\r\n\t\tthis.onUpdateCallback = callback;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/animation/AnimationAction.js\r\n\r\n/**\r\n *\r\n * Action provided by AnimationMixer for scheduling clip playback on specific\r\n * objects.\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n * @author tschw\r\n *\r\n */\r\n\r\nTHREE.AnimationAction = function() {\r\n\r\n\tthrow new Error( \"THREE.AnimationAction: \" +\r\n\t\t\t\"Use mixer.clipAction for construction.\" );\r\n\r\n};\r\n\r\nTHREE.AnimationAction._new =\r\n\t\tfunction AnimationAction( mixer, clip, localRoot ) {\r\n\r\n\tthis._mixer = mixer;\r\n\tthis._clip = clip;\r\n\tthis._localRoot = localRoot || null;\r\n\r\n\tvar tracks = clip.tracks,\r\n\t\tnTracks = tracks.length,\r\n\t\tinterpolants = new Array( nTracks );\r\n\r\n\tvar interpolantSettings = {\r\n\t\t\tendingStart: \tTHREE.ZeroCurvatureEnding,\r\n\t\t\tendingEnd:\t\tTHREE.ZeroCurvatureEnding\r\n\t};\r\n\r\n\tfor ( var i = 0; i !== nTracks; ++ i ) {\r\n\r\n\t\tvar interpolant = tracks[ i ].createInterpolant( null );\r\n\t\tinterpolants[ i ] = interpolant;\r\n\t\tinterpolant.settings = interpolantSettings;\r\n\r\n\t}\r\n\r\n\tthis._interpolantSettings = interpolantSettings;\r\n\r\n\tthis._interpolants = interpolants;\t// bound by the mixer\r\n\r\n\t// inside: PropertyMixer (managed by the mixer)\r\n\tthis._propertyBindings = new Array( nTracks );\r\n\r\n\tthis._cacheIndex = null;\t\t\t// for the memory manager\r\n\tthis._byClipCacheIndex = null;\t\t// for the memory manager\r\n\r\n\tthis._timeScaleInterpolant = null;\r\n\tthis._weightInterpolant = null;\r\n\r\n\tthis.loop = THREE.LoopRepeat;\r\n\tthis._loopCount = -1;\r\n\r\n\t// global mixer time when the action is to be started\r\n\t// it's set back to 'null' upon start of the action\r\n\tthis._startTime = null;\r\n\r\n\t// scaled local time of the action\r\n\t// gets clamped or wrapped to 0..clip.duration according to loop\r\n\tthis.time = 0;\r\n\r\n\tthis.timeScale = 1;\r\n\tthis._effectiveTimeScale = 1;\r\n\r\n\tthis.weight = 1;\r\n\tthis._effectiveWeight = 1;\r\n\r\n\tthis.repetitions = Infinity; \t\t// no. of repetitions when looping\r\n\r\n\tthis.paused = false;\t\t\t\t// false -> zero effective time scale\r\n\tthis.enabled = true;\t\t\t\t// true -> zero effective weight\r\n\r\n\tthis.clampWhenFinished \t= false;\t// keep feeding the last frame?\r\n\r\n\tthis.zeroSlopeAtStart \t= true;\t\t// for smooth interpolation w/o separate\r\n\tthis.zeroSlopeAtEnd\t\t= true;\t\t// clips for start, loop and end\r\n\r\n};\r\n\r\nTHREE.AnimationAction._new.prototype = {\r\n\r\n\tconstructor: THREE.AnimationAction._new,\r\n\r\n\t// State & Scheduling\r\n\r\n\tplay: function() {\r\n\r\n\t\tthis._mixer._activateAction( this );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tstop: function() {\r\n\r\n\t\tthis._mixer._deactivateAction( this );\r\n\r\n\t\treturn this.reset();\r\n\r\n\t},\r\n\r\n\treset: function() {\r\n\r\n\t\tthis.paused = false;\r\n\t\tthis.enabled = true;\r\n\r\n\t\tthis.time = 0;\t\t\t// restart clip\r\n\t\tthis._loopCount = -1;\t// forget previous loops\r\n\t\tthis._startTime = null;\t// forget scheduling\r\n\r\n\t\treturn this.stopFading().stopWarping();\r\n\r\n\t},\r\n\r\n\tisRunning: function() {\r\n\r\n\t\tvar start = this._startTime;\r\n\r\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\r\n\t\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\r\n\r\n\t},\r\n\r\n\t// return true when play has been called\r\n\tisScheduled: function() {\r\n\r\n\t\treturn this._mixer._isActiveAction( this );\r\n\r\n\t},\r\n\r\n\tstartAt: function( time ) {\r\n\r\n\t\tthis._startTime = time;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetLoop: function( mode, repetitions ) {\r\n\r\n\t\tthis.loop = mode;\r\n\t\tthis.repetitions = repetitions;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t// Weight\r\n\r\n\t// set the weight stopping any scheduled fading\r\n\t// although .enabled = false yields an effective weight of zero, this\r\n\t// method does *not* change .enabled, because it would be confusing\r\n\tsetEffectiveWeight: function( weight ) {\r\n\r\n\t\tthis.weight = weight;\r\n\r\n\t\t// note: same logic as when updated at runtime\r\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\r\n\r\n\t\treturn this.stopFading();\r\n\r\n\t},\r\n\r\n\t// return the weight considering fading and .enabled\r\n\tgetEffectiveWeight: function() {\r\n\r\n\t\treturn this._effectiveWeight;\r\n\r\n\t},\r\n\r\n\tfadeIn: function( duration ) {\r\n\r\n\t\treturn this._scheduleFading( duration, 0, 1 );\r\n\r\n\t},\r\n\r\n\tfadeOut: function( duration ) {\r\n\r\n\t\treturn this._scheduleFading( duration, 1, 0 );\r\n\r\n\t},\r\n\r\n\tcrossFadeFrom: function( fadeOutAction, duration, warp ) {\r\n\r\n\t\tvar mixer = this._mixer;\r\n\r\n\t\tfadeOutAction.fadeOut( duration );\r\n\t\tthis.fadeIn( duration );\r\n\r\n\t\tif( warp ) {\r\n\r\n\t\t\tvar fadeInDuration = this._clip.duration,\r\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\r\n\r\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\r\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\r\n\r\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\r\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcrossFadeTo: function( fadeInAction, duration, warp ) {\r\n\r\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\r\n\r\n\t},\r\n\r\n\tstopFading: function() {\r\n\r\n\t\tvar weightInterpolant = this._weightInterpolant;\r\n\r\n\t\tif ( weightInterpolant !== null ) {\r\n\r\n\t\t\tthis._weightInterpolant = null;\r\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t// Time Scale Control\r\n\r\n\t// set the weight stopping any scheduled warping\r\n\t// although .paused = true yields an effective time scale of zero, this\r\n\t// method does *not* change .paused, because it would be confusing\r\n\tsetEffectiveTimeScale: function( timeScale ) {\r\n\r\n\t\tthis.timeScale = timeScale;\r\n\t\tthis._effectiveTimeScale = this.paused ? 0 :timeScale;\r\n\r\n\t\treturn this.stopWarping();\r\n\r\n\t},\r\n\r\n\t// return the time scale considering warping and .paused\r\n\tgetEffectiveTimeScale: function() {\r\n\r\n\t\treturn this._effectiveTimeScale;\r\n\r\n\t},\r\n\r\n\tsetDuration: function( duration ) {\r\n\r\n\t\tthis.timeScale = this._clip.duration / duration;\r\n\r\n\t\treturn this.stopWarping();\r\n\r\n\t},\r\n\r\n\tsyncWith: function( action ) {\r\n\r\n\t\tthis.time = action.time;\r\n\t\tthis.timeScale = action.timeScale;\r\n\r\n\t\treturn this.stopWarping();\r\n\r\n\t},\r\n\r\n\thalt: function( duration ) {\r\n\r\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\r\n\r\n\t},\r\n\r\n\twarp: function( startTimeScale, endTimeScale, duration ) {\r\n\r\n\t\tvar mixer = this._mixer, now = mixer.time,\r\n\t\t\tinterpolant = this._timeScaleInterpolant,\r\n\r\n\t\t\ttimeScale = this.timeScale;\r\n\r\n\t\tif ( interpolant === null ) {\r\n\r\n\t\t\tinterpolant = mixer._lendControlInterpolant(),\r\n\t\t\tthis._timeScaleInterpolant = interpolant;\r\n\r\n\t\t}\r\n\r\n\t\tvar times = interpolant.parameterPositions,\r\n\t\t\tvalues = interpolant.sampleValues;\r\n\r\n\t\ttimes[ 0 ] = now;\r\n\t\ttimes[ 1 ] = now + duration;\r\n\r\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\r\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tstopWarping: function() {\r\n\r\n\t\tvar timeScaleInterpolant = this._timeScaleInterpolant;\r\n\r\n\t\tif ( timeScaleInterpolant !== null ) {\r\n\r\n\t\t\tthis._timeScaleInterpolant = null;\r\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t// Object Accessors\r\n\r\n\tgetMixer: function() {\r\n\r\n\t\treturn this._mixer;\r\n\r\n\t},\r\n\r\n\tgetClip: function() {\r\n\r\n\t\treturn this._clip;\r\n\r\n\t},\r\n\r\n\tgetRoot: function() {\r\n\r\n\t\treturn this._localRoot || this._mixer._root;\r\n\r\n\t},\r\n\r\n\t// Interna\r\n\r\n\t_update: function( time, deltaTime, timeDirection, accuIndex ) {\r\n\t\t// called by the mixer\r\n\r\n\t\tvar startTime = this._startTime;\r\n\r\n\t\tif ( startTime !== null ) {\r\n\r\n\t\t\t// check for scheduled start of action\r\n\r\n\t\t\tvar timeRunning = ( time - startTime ) * timeDirection;\r\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\r\n\r\n\t\t\t\treturn; // yet to come / don't decide when delta = 0\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// start\r\n\r\n\t\t\tthis._startTime = null; // unschedule\r\n\t\t\tdeltaTime = timeDirection * timeRunning;\r\n\r\n\t\t}\r\n\r\n\t\t// apply time scale and advance time\r\n\r\n\t\tdeltaTime *= this._updateTimeScale( time );\r\n\t\tvar clipTime = this._updateTime( deltaTime );\r\n\r\n\t\t// note: _updateTime may disable the action resulting in\r\n\t\t// an effective weight of 0\r\n\r\n\t\tvar weight = this._updateWeight( time );\r\n\r\n\t\tif ( weight > 0 ) {\r\n\r\n\t\t\tvar interpolants = this._interpolants;\r\n\t\t\tvar propertyMixers = this._propertyBindings;\r\n\r\n\t\t\tfor ( var j = 0, m = interpolants.length; j !== m; ++ j ) {\r\n\r\n\t\t\t\tinterpolants[ j ].evaluate( clipTime );\r\n\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t_updateWeight: function( time ) {\r\n\r\n\t\tvar weight = 0;\r\n\r\n\t\tif ( this.enabled ) {\r\n\r\n\t\t\tweight = this.weight;\r\n\t\t\tvar interpolant = this._weightInterpolant;\r\n\r\n\t\t\tif ( interpolant !== null ) {\r\n\r\n\t\t\t\tvar interpolantValue = interpolant.evaluate( time )[ 0 ];\r\n\r\n\t\t\t\tweight *= interpolantValue;\r\n\r\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\r\n\r\n\t\t\t\t\tthis.stopFading();\r\n\r\n\t\t\t\t\tif ( interpolantValue === 0 ) {\r\n\r\n\t\t\t\t\t\t// faded out, disable\r\n\t\t\t\t\t\tthis.enabled = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis._effectiveWeight = weight;\r\n\t\treturn weight;\r\n\r\n\t},\r\n\r\n\t_updateTimeScale: function( time ) {\r\n\r\n\t\tvar timeScale = 0;\r\n\r\n\t\tif ( ! this.paused ) {\r\n\r\n\t\t\ttimeScale = this.timeScale;\r\n\r\n\t\t\tvar interpolant = this._timeScaleInterpolant;\r\n\r\n\t\t\tif ( interpolant !== null ) {\r\n\r\n\t\t\t\tvar interpolantValue = interpolant.evaluate( time )[ 0 ];\r\n\r\n\t\t\t\ttimeScale *= interpolantValue;\r\n\r\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\r\n\r\n\t\t\t\t\tthis.stopWarping();\r\n\r\n\t\t\t\t\tif ( timeScale === 0 ) {\r\n\r\n\t\t\t\t\t\t// motion has halted, pause\r\n\t\t\t\t\t\tthis.paused = true;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// warp done - apply final time scale\r\n\t\t\t\t\t\tthis.timeScale = timeScale;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis._effectiveTimeScale = timeScale;\r\n\t\treturn timeScale;\r\n\r\n\t},\r\n\r\n\t_updateTime: function( deltaTime ) {\r\n\r\n\t\tvar time = this.time + deltaTime;\r\n\r\n\t\tif ( deltaTime === 0 ) return time;\r\n\r\n\t\tvar duration = this._clip.duration,\r\n\r\n\t\t\tloop = this.loop,\r\n\t\t\tloopCount = this._loopCount;\r\n\r\n\t\tif ( loop === THREE.LoopOnce ) {\r\n\r\n\t\t\tif ( loopCount === -1 ) {\r\n\t\t\t\t// just started\r\n\r\n\t\t\t\tthis.loopCount = 0;\r\n\t\t\t\tthis._setEndings( true, true, false );\r\n\r\n\t\t\t}\r\n\r\n\t\t\thandle_stop: {\r\n\r\n\t\t\t\tif ( time >= duration ) {\r\n\r\n\t\t\t\t\ttime = duration;\r\n\r\n\t\t\t\t} else if ( time < 0 ) {\r\n\r\n\t\t\t\t\ttime = 0;\r\n\r\n\t\t\t\t} else break handle_stop;\r\n\r\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\r\n\t\t\t\telse this.enabled = false;\r\n\r\n\t\t\t\tthis._mixer.dispatchEvent( {\r\n\t\t\t\t\ttype: 'finished', action: this,\r\n\t\t\t\t\tdirection: deltaTime < 0 ? -1 : 1\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else { // repetitive Repeat or PingPong\r\n\r\n\t\t\tvar pingPong = ( loop === THREE.LoopPingPong );\r\n\r\n\t\t\tif ( loopCount === -1 ) {\r\n\t\t\t\t// just started\r\n\r\n\t\t\t\tif ( deltaTime >= 0 ) {\r\n\r\n\t\t\t\t\tloopCount = 0;\r\n\r\n\t\t\t\t\tthis._setEndings(\r\n\t\t\t\t\t\t\ttrue, this.repetitions === 0, pingPong );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// when looping in reverse direction, the initial\r\n\t\t\t\t\t// transition through zero counts as a repetition,\r\n\t\t\t\t\t// so leave loopCount at -1\r\n\r\n\t\t\t\t\tthis._setEndings(\r\n\t\t\t\t\t\t\tthis.repetitions === 0, true, pingPong );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( time >= duration || time < 0 ) {\r\n\t\t\t\t// wrap around\r\n\r\n\t\t\t\tvar loopDelta = Math.floor( time / duration ); // signed\r\n\t\t\t\ttime -= duration * loopDelta;\r\n\r\n\t\t\t\tloopCount += Math.abs( loopDelta );\r\n\r\n\t\t\t\tvar pending = this.repetitions - loopCount;\r\n\r\n\t\t\t\tif ( pending < 0 ) {\r\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\r\n\r\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\r\n\t\t\t\t\telse this.enabled = false;\r\n\r\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\r\n\r\n\t\t\t\t\tthis._mixer.dispatchEvent( {\r\n\t\t\t\t\t\ttype: 'finished', action: this,\r\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : -1\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// keep running\r\n\r\n\t\t\t\t\tif ( pending === 0 ) {\r\n\t\t\t\t\t\t// entering the last round\r\n\r\n\t\t\t\t\t\tvar atStart = deltaTime < 0;\r\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis._loopCount = loopCount;\r\n\r\n\t\t\t\t\tthis._mixer.dispatchEvent( {\r\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\r\n\t\t\t\t// invert time for the \"pong round\"\r\n\r\n\t\t\t\tthis.time = time;\r\n\t\t\t\treturn duration - time;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.time = time;\r\n\t\treturn time;\r\n\r\n\t},\r\n\r\n\t_setEndings: function( atStart, atEnd, pingPong ) {\r\n\r\n\t\tvar settings = this._interpolantSettings;\r\n\r\n\t\tif ( pingPong ) {\r\n\r\n\t\t\tsettings.endingStart \t= THREE.ZeroSlopeEnding;\r\n\t\t\tsettings.endingEnd\t\t= THREE.ZeroSlopeEnding;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\r\n\r\n\t\t\tif ( atStart ) {\r\n\r\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ?\r\n\t\t\t\t\t\tTHREE.ZeroSlopeEnding : THREE.ZeroCurvatureEnding;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tsettings.endingStart = THREE.WrapAroundEnding;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( atEnd ) {\r\n\r\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ?\r\n\t\t\t\t\t\tTHREE.ZeroSlopeEnding : THREE.ZeroCurvatureEnding;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tsettings.endingEnd \t = THREE.WrapAroundEnding;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t_scheduleFading: function( duration, weightNow, weightThen ) {\r\n\r\n\t\tvar mixer = this._mixer, now = mixer.time,\r\n\t\t\tinterpolant = this._weightInterpolant;\r\n\r\n\t\tif ( interpolant === null ) {\r\n\r\n\t\t\tinterpolant = mixer._lendControlInterpolant(),\r\n\t\t\tthis._weightInterpolant = interpolant;\r\n\r\n\t\t}\r\n\r\n\t\tvar times = interpolant.parameterPositions,\r\n\t\t\tvalues = interpolant.sampleValues;\r\n\r\n\t\ttimes[ 0 ] = now; \t\t\t\tvalues[ 0 ] = weightNow;\r\n\t\ttimes[ 1 ] = now + duration;\tvalues[ 1 ] = weightThen;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n};\r\n\r\n\r\n// File:src/animation/AnimationClip.js\r\n\r\n/**\r\n *\r\n * Reusable set of Tracks that represent an animation.\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n */\r\n\r\nTHREE.AnimationClip = function ( name, duration, tracks ) {\r\n\r\n\tthis.name = name;\r\n\tthis.tracks = tracks;\r\n\tthis.duration = ( duration !== undefined ) ? duration : -1;\r\n\r\n\tthis.uuid = THREE.Math.generateUUID();\r\n\r\n\t// this means it should figure out its duration by scanning the tracks\r\n\tif ( this.duration < 0 ) {\r\n\r\n\t\tthis.resetDuration();\r\n\r\n\t}\r\n\r\n\t// maybe only do these on demand, as doing them here could potentially slow down loading\r\n\t// but leaving these here during development as this ensures a lot of testing of these functions\r\n\tthis.trim();\r\n\tthis.optimize();\r\n\r\n};\r\n\r\nTHREE.AnimationClip.prototype = {\r\n\r\n\tconstructor: THREE.AnimationClip,\r\n\r\n\tresetDuration: function() {\r\n\r\n\t\tvar tracks = this.tracks,\r\n\t\t\tduration = 0;\r\n\r\n\t\tfor ( var i = 0, n = tracks.length; i !== n; ++ i ) {\r\n\r\n\t\t\tvar track = this.tracks[ i ];\r\n\r\n\t\t\tduration = Math.max(\r\n\t\t\t\t\tduration, track.times[ track.times.length - 1 ] );\r\n\r\n\t\t}\r\n\r\n\t\tthis.duration = duration;\r\n\r\n\t},\r\n\r\n\ttrim: function() {\r\n\r\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\r\n\r\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\toptimize: function() {\r\n\r\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\r\n\r\n\t\t\tthis.tracks[ i ].optimize();\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// Static methods:\r\n\r\nObject.assign( THREE.AnimationClip, {\r\n\r\n\tparse: function( json ) {\r\n\r\n\t\tvar tracks = [],\r\n\t\t\tjsonTracks = json.tracks,\r\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\r\n\r\n\t\tfor ( var i = 0, n = jsonTracks.length; i !== n; ++ i ) {\r\n\r\n\t\t\ttracks.push( THREE.KeyframeTrack.parse( jsonTracks[ i ] ).scale( frameTime ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn new THREE.AnimationClip( json.name, json.duration, tracks );\r\n\r\n\t},\r\n\r\n\r\n\ttoJSON: function( clip ) {\r\n\r\n\t\tvar tracks = [],\r\n\t\t\tclipTracks = clip.tracks;\r\n\r\n\t\tvar json = {\r\n\r\n\t\t\t'name': clip.name,\r\n\t\t\t'duration': clip.duration,\r\n\t\t\t'tracks': tracks\r\n\r\n\t\t};\r\n\r\n\t\tfor ( var i = 0, n = clipTracks.length; i !== n; ++ i ) {\r\n\r\n\t\t\ttracks.push( THREE.KeyframeTrack.toJSON( clipTracks[ i ] ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn json;\r\n\r\n\t},\r\n\r\n\r\n\tCreateFromMorphTargetSequence: function( name, morphTargetSequence, fps, noLoop ) {\r\n\r\n\t\tvar numMorphTargets = morphTargetSequence.length;\r\n\t\tvar tracks = [];\r\n\r\n\t\tfor ( var i = 0; i < numMorphTargets; i ++ ) {\r\n\r\n\t\t\tvar times = [];\r\n\t\t\tvar values = [];\r\n\r\n\t\t\ttimes.push(\r\n\t\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\r\n\t\t\t\t\ti,\r\n\t\t\t\t\t( i + 1 ) % numMorphTargets );\r\n\r\n\t\t\tvalues.push( 0, 1, 0 );\r\n\r\n\t\t\tvar order = THREE.AnimationUtils.getKeyframeOrder( times );\r\n\t\t\ttimes = THREE.AnimationUtils.sortedArray( times, 1, order );\r\n\t\t\tvalues = THREE.AnimationUtils.sortedArray( values, 1, order );\r\n\r\n\t\t\t// if there is a key at the first frame, duplicate it as the\r\n\t\t\t// last frame as well for perfect loop.\r\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\r\n\r\n\t\t\t\ttimes.push( numMorphTargets );\r\n\t\t\t\tvalues.push( values[ 0 ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttracks.push(\r\n\t\t\t\t\tnew THREE.NumberKeyframeTrack(\r\n\t\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\r\n\t\t\t\t\t\ttimes, values\r\n\t\t\t\t\t).scale( 1.0 / fps ) );\r\n\t\t}\r\n\r\n\t\treturn new THREE.AnimationClip( name, -1, tracks );\r\n\r\n\t},\r\n\r\n\tfindByName: function( objectOrClipArray, name ) {\r\n\r\n\t\tvar clipArray = objectOrClipArray;\r\n\r\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\r\n\r\n\t\t\tvar o = objectOrClipArray;\r\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0; i < clipArray.length; i ++ ) {\r\n\r\n\t\t\tif ( clipArray[ i ].name === name ) {\r\n\r\n\t\t\t\treturn clipArray[ i ];\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\r\n\t},\r\n\r\n\tCreateClipsFromMorphTargetSequences: function( morphTargets, fps, noLoop ) {\r\n\r\n\t\tvar animationToMorphTargets = {};\r\n\r\n\t\t// tested with https://regex101.com/ on trick sequences\r\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\r\n\t\tvar pattern = /^([\\w-]*?)([\\d]+)$/;\r\n\r\n\t\t// sort morph target names into animation groups based\r\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\r\n\t\tfor ( var i = 0, il = morphTargets.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar morphTarget = morphTargets[ i ];\r\n\t\t\tvar parts = morphTarget.name.match( pattern );\r\n\r\n\t\t\tif ( parts && parts.length > 1 ) {\r\n\r\n\t\t\t\tvar name = parts[ 1 ];\r\n\r\n\t\t\t\tvar animationMorphTargets = animationToMorphTargets[ name ];\r\n\t\t\t\tif ( ! animationMorphTargets ) {\r\n\r\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tanimationMorphTargets.push( morphTarget );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar clips = [];\r\n\r\n\t\tfor ( var name in animationToMorphTargets ) {\r\n\r\n\t\t\tclips.push( THREE.AnimationClip.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn clips;\r\n\r\n\t},\r\n\r\n\t// parse the animation.hierarchy format\r\n\tparseAnimation: function( animation, bones, nodeName ) {\r\n\r\n\t\tif ( ! animation ) {\r\n\r\n\t\t\tconsole.error( \"  no animation in JSONLoader data\" );\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\tvar addNonemptyTrack = function(\r\n\t\t\t\ttrackType, trackName, animationKeys, propertyName, destTracks ) {\r\n\r\n\t\t\t// only return track if there are actually keys.\r\n\t\t\tif ( animationKeys.length !== 0 ) {\r\n\r\n\t\t\t\tvar times = [];\r\n\t\t\t\tvar values = [];\r\n\r\n\t\t\t\tTHREE.AnimationUtils.flattenJSON(\r\n\t\t\t\t\t\tanimationKeys, times, values, propertyName );\r\n\r\n\t\t\t\t// empty keys are filtered out, so check again\r\n\t\t\t\tif ( times.length !== 0 ) {\r\n\r\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tvar tracks = [];\r\n\r\n\t\tvar clipName = animation.name || 'default';\r\n\t\t// automatic length determination in AnimationClip.\r\n\t\tvar duration = animation.length || -1;\r\n\t\tvar fps = animation.fps || 30;\r\n\r\n\t\tvar hierarchyTracks = animation.hierarchy || [];\r\n\r\n\t\tfor ( var h = 0; h < hierarchyTracks.length; h ++ ) {\r\n\r\n\t\t\tvar animationKeys = hierarchyTracks[ h ].keys;\r\n\r\n\t\t\t// skip empty tracks\r\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\r\n\r\n\t\t\t// process morph targets in a way exactly compatible\r\n\t\t\t// with AnimationHandler.init( animation )\r\n\t\t\tif ( animationKeys[0].morphTargets ) {\r\n\r\n\t\t\t\t// figure out all morph targets used in this track\r\n\t\t\t\tvar morphTargetNames = {};\r\n\t\t\t\tfor ( var k = 0; k < animationKeys.length; k ++ ) {\r\n\r\n\t\t\t\t\tif ( animationKeys[k].morphTargets ) {\r\n\r\n\t\t\t\t\t\tfor ( var m = 0; m < animationKeys[k].morphTargets.length; m ++ ) {\r\n\r\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[k].morphTargets[m] ] = -1;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// create a track for each morph target with all zero\r\n\t\t\t\t// morphTargetInfluences except for the keys in which\r\n\t\t\t\t// the morphTarget is named.\r\n\t\t\t\tfor ( var morphTargetName in morphTargetNames ) {\r\n\r\n\t\t\t\t\tvar times = [];\r\n\t\t\t\t\tvar values = [];\r\n\r\n\t\t\t\t\tfor ( var m = 0;\r\n\t\t\t\t\t\t\tm !== animationKeys[k].morphTargets.length; ++ m ) {\r\n\r\n\t\t\t\t\t\tvar animationKey = animationKeys[k];\r\n\r\n\t\t\t\t\t\ttimes.push( animationKey.time );\r\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttracks.push( new THREE.NumberKeyframeTrack(\r\n\t\t\t\t\t\t\t'.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tduration = morphTargetNames.length * ( fps || 1.0 );\r\n\r\n\t\t\t} else {\r\n\t\t\t\t// ...assume skeletal animation\r\n\r\n\t\t\t\tvar boneName = '.bones[' + bones[ h ].name + ']';\r\n\r\n\t\t\t\taddNonemptyTrack(\r\n\t\t\t\t\t\tTHREE.VectorKeyframeTrack, boneName + '.position',\r\n\t\t\t\t\t\tanimationKeys, 'pos', tracks );\r\n\r\n\t\t\t\taddNonemptyTrack(\r\n\t\t\t\t\t\tTHREE.QuaternionKeyframeTrack, boneName + '.quaternion',\r\n\t\t\t\t\t\tanimationKeys, 'rot', tracks );\r\n\r\n\t\t\t\taddNonemptyTrack(\r\n\t\t\t\t\t\tTHREE.VectorKeyframeTrack, boneName + '.scale',\r\n\t\t\t\t\t\tanimationKeys, 'scl', tracks );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( tracks.length === 0 ) {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\tvar clip = new THREE.AnimationClip( clipName, duration, tracks );\r\n\r\n\t\treturn clip;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/animation/AnimationMixer.js\r\n\r\n/**\r\n *\r\n * Player for AnimationClips.\r\n *\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n * @author tschw\r\n */\r\n\r\nTHREE.AnimationMixer = function( root ) {\r\n\r\n\tthis._root = root;\r\n\tthis._initMemoryManager();\r\n\tthis._accuIndex = 0;\r\n\r\n\tthis.time = 0;\r\n\r\n\tthis.timeScale = 1.0;\r\n\r\n};\r\n\r\nObject.assign( THREE.AnimationMixer.prototype, THREE.EventDispatcher.prototype, {\r\n\r\n\t// return an action for a clip optionally using a custom root target\r\n\t// object (this method allocates a lot of dynamic memory in case a\r\n\t// previously unknown clip/root combination is specified)\r\n\tclipAction: function( clip, optionalRoot ) {\r\n\r\n\t\tvar root = optionalRoot || this._root,\r\n\t\t\trootUuid = root.uuid,\r\n\r\n\t\t\tclipObject = typeof clip === 'string' ?\r\n\t\t\t\t\tTHREE.AnimationClip.findByName( root, clip ) : clip,\r\n\r\n\t\t\tclipUuid = clipObject !== null ? clipObject.uuid : clip,\r\n\r\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ],\r\n\t\t\tprototypeAction = null;\r\n\r\n\t\tif ( actionsForClip !== undefined ) {\r\n\r\n\t\t\tvar existingAction =\r\n\t\t\t\t\tactionsForClip.actionByRoot[ rootUuid ];\r\n\r\n\t\t\tif ( existingAction !== undefined ) {\r\n\r\n\t\t\t\treturn existingAction;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// we know the clip, so we don't have to parse all\r\n\t\t\t// the bindings again but can just copy\r\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\r\n\r\n\t\t\t// also, take the clip from the prototype action\r\n\t\t\tif ( clipObject === null )\r\n\t\t\t\tclipObject = prototypeAction._clip;\r\n\r\n\t\t}\r\n\r\n\t\t// clip must be known when specified via string\r\n\t\tif ( clipObject === null ) return null;\r\n\r\n\t\t// allocate all resources required to run it\r\n\t\tvar newAction = new THREE.\r\n\t\t\t\tAnimationMixer._Action( this, clipObject, optionalRoot );\r\n\r\n\t\tthis._bindAction( newAction, prototypeAction );\r\n\r\n\t\t// and make the action known to the memory manager\r\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\r\n\r\n\t\treturn newAction;\r\n\r\n\t},\r\n\r\n\t// get an existing action\r\n\texistingAction: function( clip, optionalRoot ) {\r\n\r\n\t\tvar root = optionalRoot || this._root,\r\n\t\t\trootUuid = root.uuid,\r\n\r\n\t\t\tclipObject = typeof clip === 'string' ?\r\n\t\t\t\t\tTHREE.AnimationClip.findByName( root, clip ) : clip,\r\n\r\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\r\n\r\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\r\n\r\n\t\tif ( actionsForClip !== undefined ) {\r\n\r\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\r\n\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\r\n\t},\r\n\r\n\t// deactivates all previously scheduled actions\r\n\tstopAllAction: function() {\r\n\r\n\t\tvar actions = this._actions,\r\n\t\t\tnActions = this._nActiveActions,\r\n\t\t\tbindings = this._bindings,\r\n\t\t\tnBindings = this._nActiveBindings;\r\n\r\n\t\tthis._nActiveActions = 0;\r\n\t\tthis._nActiveBindings = 0;\r\n\r\n\t\tfor ( var i = 0; i !== nActions; ++ i ) {\r\n\r\n\t\t\tactions[ i ].reset();\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0; i !== nBindings; ++ i ) {\r\n\r\n\t\t\tbindings[ i ].useCount = 0;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t// advance the time and update apply the animation\r\n\tupdate: function( deltaTime ) {\r\n\r\n\t\tdeltaTime *= this.timeScale;\r\n\r\n\t\tvar actions = this._actions,\r\n\t\t\tnActions = this._nActiveActions,\r\n\r\n\t\t\ttime = this.time += deltaTime,\r\n\t\t\ttimeDirection = Math.sign( deltaTime ),\r\n\r\n\t\t\taccuIndex = this._accuIndex ^= 1;\r\n\r\n\t\t// run active actions\r\n\r\n\t\tfor ( var i = 0; i !== nActions; ++ i ) {\r\n\r\n\t\t\tvar action = actions[ i ];\r\n\r\n\t\t\tif ( action.enabled ) {\r\n\r\n\t\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// update scene graph\r\n\r\n\t\tvar bindings = this._bindings,\r\n\t\t\tnBindings = this._nActiveBindings;\r\n\r\n\t\tfor ( var i = 0; i !== nBindings; ++ i ) {\r\n\r\n\t\t\tbindings[ i ].apply( accuIndex );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t// return this mixer's root target object\r\n\tgetRoot: function() {\r\n\r\n\t\treturn this._root;\r\n\r\n\t},\r\n\r\n\t// free all resources specific to a particular clip\r\n\tuncacheClip: function( clip ) {\r\n\r\n\t\tvar actions = this._actions,\r\n\t\t\tclipUuid = clip.uuid,\r\n\t\t\tactionsByClip = this._actionsByClip,\r\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\r\n\r\n\t\tif ( actionsForClip !== undefined ) {\r\n\r\n\t\t\t// note: just calling _removeInactiveAction would mess up the\r\n\t\t\t// iteration state and also require updating the state we can\r\n\t\t\t// just throw away\r\n\r\n\t\t\tvar actionsToRemove = actionsForClip.knownActions;\r\n\r\n\t\t\tfor ( var i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\tvar action = actionsToRemove[ i ];\r\n\r\n\t\t\t\tthis._deactivateAction( action );\r\n\r\n\t\t\t\tvar cacheIndex = action._cacheIndex,\r\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\r\n\r\n\t\t\t\taction._cacheIndex = null;\r\n\t\t\t\taction._byClipCacheIndex = null;\r\n\r\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\r\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\r\n\t\t\t\tactions.pop();\r\n\r\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tdelete actionsByClip[ clipUuid ];\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t// free all resources specific to a particular root target object\r\n\tuncacheRoot: function( root ) {\r\n\r\n\t\tvar rootUuid = root.uuid,\r\n\t\t\tactionsByClip = this._actionsByClip;\r\n\r\n\t\tfor ( var clipUuid in actionsByClip ) {\r\n\r\n\t\t\tvar actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\r\n\t\t\t\taction = actionByRoot[ rootUuid ];\r\n\r\n\t\t\tif ( action !== undefined ) {\r\n\r\n\t\t\t\tthis._deactivateAction( action );\r\n\t\t\t\tthis._removeInactiveAction( action );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar bindingsByRoot = this._bindingsByRootAndName,\r\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\r\n\r\n\t\tif ( bindingByName !== undefined ) {\r\n\r\n\t\t\tfor ( var trackName in bindingByName ) {\r\n\r\n\t\t\t\tvar binding = bindingByName[ trackName ];\r\n\t\t\t\tbinding.restoreOriginalState();\r\n\t\t\t\tthis._removeInactiveBinding( binding );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t// remove a targeted clip from the cache\r\n\tuncacheAction: function( clip, optionalRoot ) {\r\n\r\n\t\tvar action = this.existingAction( clip, optionalRoot );\r\n\r\n\t\tif ( action !== null ) {\r\n\r\n\t\t\tthis._deactivateAction( action );\r\n\t\t\tthis._removeInactiveAction( action );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nTHREE.AnimationMixer._Action = THREE.AnimationAction._new;\r\n\r\n// Implementation details:\r\n\r\nObject.assign( THREE.AnimationMixer.prototype, {\r\n\r\n\t_bindAction: function( action, prototypeAction ) {\r\n\r\n\t\tvar root = action._localRoot || this._root,\r\n\t\t\ttracks = action._clip.tracks,\r\n\t\t\tnTracks = tracks.length,\r\n\t\t\tbindings = action._propertyBindings,\r\n\t\t\tinterpolants = action._interpolants,\r\n\t\t\trootUuid = root.uuid,\r\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\r\n\t\t\tbindingsByName = bindingsByRoot[ rootUuid ];\r\n\r\n\t\tif ( bindingsByName === undefined ) {\r\n\r\n\t\t\tbindingsByName = {};\r\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0; i !== nTracks; ++ i ) {\r\n\r\n\t\t\tvar track = tracks[ i ],\r\n\t\t\t\ttrackName = track.name,\r\n\t\t\t\tbinding = bindingsByName[ trackName ];\r\n\r\n\t\t\tif ( binding !== undefined ) {\r\n\r\n\t\t\t\tbindings[ i ] = binding;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbinding = bindings[ i ];\r\n\r\n\t\t\t\tif ( binding !== undefined ) {\r\n\r\n\t\t\t\t\t// existing binding, make sure the cache knows\r\n\r\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\r\n\r\n\t\t\t\t\t\t++ binding.referenceCount;\r\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar path = prototypeAction && prototypeAction.\r\n\t\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\r\n\r\n\t\t\t\tbinding = new THREE.PropertyMixer(\r\n\t\t\t\t\t\tTHREE.PropertyBinding.create( root, trackName, path ),\r\n\t\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\r\n\r\n\t\t\t\t++ binding.referenceCount;\r\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\r\n\r\n\t\t\t\tbindings[ i ] = binding;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t_activateAction: function( action ) {\r\n\r\n\t\tif ( ! this._isActiveAction( action ) ) {\r\n\r\n\t\t\tif ( action._cacheIndex === null ) {\r\n\r\n\t\t\t\t// this action has been forgotten by the cache, but the user\r\n\t\t\t\t// appears to be still using it -> rebind\r\n\r\n\t\t\t\tvar rootUuid = ( action._localRoot || this._root ).uuid,\r\n\t\t\t\t\tclipUuid = action._clip.uuid,\r\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\r\n\r\n\t\t\t\tthis._bindAction( action,\r\n\t\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\r\n\r\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar bindings = action._propertyBindings;\r\n\r\n\t\t\t// increment reference counts / sort out state\r\n\t\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\tvar binding = bindings[ i ];\r\n\r\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\r\n\r\n\t\t\t\t\tthis._lendBinding( binding );\r\n\t\t\t\t\tbinding.saveOriginalState();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis._lendAction( action );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t_deactivateAction: function( action ) {\r\n\r\n\t\tif ( this._isActiveAction( action ) ) {\r\n\r\n\t\t\tvar bindings = action._propertyBindings;\r\n\r\n\t\t\t// decrement reference counts / sort out state\r\n\t\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\tvar binding = bindings[ i ];\r\n\r\n\t\t\t\tif ( -- binding.useCount === 0 ) {\r\n\r\n\t\t\t\t\tbinding.restoreOriginalState();\r\n\t\t\t\t\tthis._takeBackBinding( binding );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis._takeBackAction( action );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t// Memory manager\r\n\r\n\t_initMemoryManager: function() {\r\n\r\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\r\n\t\tthis._nActiveActions = 0;\r\n\r\n\t\tthis._actionsByClip = {};\r\n\t\t// inside:\r\n\t\t// {\r\n\t\t// \t\tknownActions: Array< _Action >\t- used as prototypes\r\n\t\t// \t\tactionByRoot: _Action\t\t\t- lookup\r\n\t\t// }\r\n\r\n\r\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\r\n\t\tthis._nActiveBindings = 0;\r\n\r\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\r\n\r\n\r\n\t\tthis._controlInterpolants = []; // same game as above\r\n\t\tthis._nActiveControlInterpolants = 0;\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tthis.stats = {\r\n\r\n\t\t\tactions: {\r\n\t\t\t\tget total() { return scope._actions.length; },\r\n\t\t\t\tget inUse() { return scope._nActiveActions; }\r\n\t\t\t},\r\n\t\t\tbindings: {\r\n\t\t\t\tget total() { return scope._bindings.length; },\r\n\t\t\t\tget inUse() { return scope._nActiveBindings; }\r\n\t\t\t},\r\n\t\t\tcontrolInterpolants: {\r\n\t\t\t\tget total() { return scope._controlInterpolants.length; },\r\n\t\t\t\tget inUse() { return scope._nActiveControlInterpolants; }\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t},\r\n\r\n\t// Memory management for _Action objects\r\n\r\n\t_isActiveAction: function( action ) {\r\n\r\n\t\tvar index = action._cacheIndex;\r\n\t\treturn index !== null && index < this._nActiveActions;\r\n\r\n\t},\r\n\r\n\t_addInactiveAction: function( action, clipUuid, rootUuid ) {\r\n\r\n\t\tvar actions = this._actions,\r\n\t\t\tactionsByClip = this._actionsByClip,\r\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\r\n\r\n\t\tif ( actionsForClip === undefined ) {\r\n\r\n\t\t\tactionsForClip = {\r\n\r\n\t\t\t\tknownActions: [ action ],\r\n\t\t\t\tactionByRoot: {}\r\n\r\n\t\t\t};\r\n\r\n\t\t\taction._byClipCacheIndex = 0;\r\n\r\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar knownActions = actionsForClip.knownActions;\r\n\r\n\t\t\taction._byClipCacheIndex = knownActions.length;\r\n\t\t\tknownActions.push( action );\r\n\r\n\t\t}\r\n\r\n\t\taction._cacheIndex = actions.length;\r\n\t\tactions.push( action );\r\n\r\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\r\n\r\n\t},\r\n\r\n\t_removeInactiveAction: function( action ) {\r\n\r\n\t\tvar actions = this._actions,\r\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\r\n\t\t\tcacheIndex = action._cacheIndex;\r\n\r\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\r\n\t\tactions[ cacheIndex ] = lastInactiveAction;\r\n\t\tactions.pop();\r\n\r\n\t\taction._cacheIndex = null;\r\n\r\n\r\n\t\tvar clipUuid = action._clip.uuid,\r\n\t\t\tactionsByClip = this._actionsByClip,\r\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\r\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\r\n\r\n\t\t\tlastKnownAction =\r\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\r\n\r\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\r\n\r\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\r\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\r\n\t\tknownActionsForClip.pop();\r\n\r\n\t\taction._byClipCacheIndex = null;\r\n\r\n\r\n\t\tvar actionByRoot = actionsForClip.actionByRoot,\r\n\t\t\trootUuid = ( actions._localRoot || this._root ).uuid;\r\n\r\n\t\tdelete actionByRoot[ rootUuid ];\r\n\r\n\t\tif ( knownActionsForClip.length === 0 ) {\r\n\r\n\t\t\tdelete actionsByClip[ clipUuid ];\r\n\r\n\t\t}\r\n\r\n\t\tthis._removeInactiveBindingsForAction( action );\r\n\r\n\t},\r\n\r\n\t_removeInactiveBindingsForAction: function( action ) {\r\n\r\n\t\tvar bindings = action._propertyBindings;\r\n\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\r\n\r\n\t\t\tvar binding = bindings[ i ];\r\n\r\n\t\t\tif ( -- binding.referenceCount === 0 ) {\r\n\r\n\t\t\t\tthis._removeInactiveBinding( binding );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t_lendAction: function( action ) {\r\n\r\n\t\t// [ active actions |  inactive actions  ]\r\n\t\t// [  active actions >| inactive actions ]\r\n\t\t//                 s        a\r\n\t\t//                  <-swap->\r\n\t\t//                 a        s\r\n\r\n\t\tvar actions = this._actions,\r\n\t\t\tprevIndex = action._cacheIndex,\r\n\r\n\t\t\tlastActiveIndex = this._nActiveActions ++,\r\n\r\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\r\n\r\n\t\taction._cacheIndex = lastActiveIndex;\r\n\t\tactions[ lastActiveIndex ] = action;\r\n\r\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\r\n\t\tactions[ prevIndex ] = firstInactiveAction;\r\n\r\n\t},\r\n\r\n\t_takeBackAction: function( action ) {\r\n\r\n\t\t// [  active actions  | inactive actions ]\r\n\t\t// [ active actions |< inactive actions  ]\r\n\t\t//        a        s\r\n\t\t//         <-swap->\r\n\t\t//        s        a\r\n\r\n\t\tvar actions = this._actions,\r\n\t\t\tprevIndex = action._cacheIndex,\r\n\r\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\r\n\r\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\r\n\r\n\t\taction._cacheIndex = firstInactiveIndex;\r\n\t\tactions[ firstInactiveIndex ] = action;\r\n\r\n\t\tlastActiveAction._cacheIndex = prevIndex;\r\n\t\tactions[ prevIndex ] = lastActiveAction;\r\n\r\n\t},\r\n\r\n\t// Memory management for PropertyMixer objects\r\n\r\n\t_addInactiveBinding: function( binding, rootUuid, trackName ) {\r\n\r\n\t\tvar bindingsByRoot = this._bindingsByRootAndName,\r\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\r\n\r\n\t\t\tbindings = this._bindings;\r\n\r\n\t\tif ( bindingByName === undefined ) {\r\n\r\n\t\t\tbindingByName = {};\r\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\r\n\r\n\t\t}\r\n\r\n\t\tbindingByName[ trackName ] = binding;\r\n\r\n\t\tbinding._cacheIndex = bindings.length;\r\n\t\tbindings.push( binding );\r\n\r\n\t},\r\n\r\n\t_removeInactiveBinding: function( binding ) {\r\n\r\n\t\tvar bindings = this._bindings,\r\n\t\t\tpropBinding = binding.binding,\r\n\t\t\trootUuid = propBinding.rootNode.uuid,\r\n\t\t\ttrackName = propBinding.path,\r\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\r\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\r\n\r\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\r\n\t\t\tcacheIndex = binding._cacheIndex;\r\n\r\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\r\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\r\n\t\tbindings.pop();\r\n\r\n\t\tdelete bindingByName[ trackName ];\r\n\r\n\t\tremove_empty_map: {\r\n\r\n\t\t\tfor ( var _ in bindingByName ) break remove_empty_map;\r\n\r\n\t\t\tdelete bindingsByRoot[ rootUuid ];\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t_lendBinding: function( binding ) {\r\n\r\n\t\tvar bindings = this._bindings,\r\n\t\t\tprevIndex = binding._cacheIndex,\r\n\r\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\r\n\r\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\r\n\r\n\t\tbinding._cacheIndex = lastActiveIndex;\r\n\t\tbindings[ lastActiveIndex ] = binding;\r\n\r\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\r\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\r\n\r\n\t},\r\n\r\n\t_takeBackBinding: function( binding ) {\r\n\r\n\t\tvar bindings = this._bindings,\r\n\t\t\tprevIndex = binding._cacheIndex,\r\n\r\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\r\n\r\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\r\n\r\n\t\tbinding._cacheIndex = firstInactiveIndex;\r\n\t\tbindings[ firstInactiveIndex ] = binding;\r\n\r\n\t\tlastActiveBinding._cacheIndex = prevIndex;\r\n\t\tbindings[ prevIndex ] = lastActiveBinding;\r\n\r\n\t},\r\n\r\n\r\n\t// Memory management of Interpolants for weight and time scale\r\n\r\n\t_lendControlInterpolant: function() {\r\n\r\n\t\tvar interpolants = this._controlInterpolants,\r\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++,\r\n\t\t\tinterpolant = interpolants[ lastActiveIndex ];\r\n\r\n\t\tif ( interpolant === undefined ) {\r\n\r\n\t\t\tinterpolant = new THREE.LinearInterpolant(\r\n\t\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\r\n\t\t\t\t\t\t1, this._controlInterpolantsResultBuffer );\r\n\r\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\r\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\r\n\r\n\t\t}\r\n\r\n\t\treturn interpolant;\r\n\r\n\t},\r\n\r\n\t_takeBackControlInterpolant: function( interpolant ) {\r\n\r\n\t\tvar interpolants = this._controlInterpolants,\r\n\t\t\tprevIndex = interpolant.__cacheIndex,\r\n\r\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\r\n\r\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\r\n\r\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\r\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\r\n\r\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\r\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\r\n\r\n\t},\r\n\r\n\t_controlInterpolantsResultBuffer: new Float32Array( 1 )\r\n\r\n} );\r\n\r\n// File:src/animation/AnimationObjectGroup.js\r\n\r\n/**\r\n *\r\n * A group of objects that receives a shared animation state.\r\n *\r\n * Usage:\r\n *\r\n * \t-\tAdd objects you would otherwise pass as 'root' to the\r\n * \t\tconstructor or the .clipAction method of AnimationMixer.\r\n *\r\n * \t-\tInstead pass this object as 'root'.\r\n *\r\n * \t-\tYou can also add and remove objects later when the mixer\r\n * \t\tis running.\r\n *\r\n * Note:\r\n *\r\n *  \tObjects of this class appear as one object to the mixer,\r\n *  \tso cache control of the individual objects must be done\r\n *  \ton the group.\r\n *\r\n * Limitation:\r\n *\r\n * \t- \tThe animated properties must be compatible among the\r\n * \t\tall objects in the group.\r\n *\r\n *  -\tA single property can either be controlled through a\r\n *  \ttarget group or directly, but not both.\r\n *\r\n * @author tschw\r\n */\r\n\r\nTHREE.AnimationObjectGroup = function( var_args ) {\r\n\r\n\tthis.uuid = THREE.Math.generateUUID();\r\n\r\n\t// cached objects followed by the active ones\r\n\tthis._objects = Array.prototype.slice.call( arguments );\r\n\r\n\tthis.nCachedObjects_ = 0;\t\t\t// threshold\r\n\t// note: read by PropertyBinding.Composite\r\n\r\n\tvar indices = {};\r\n\tthis._indicesByUUID = indices;\t\t// for bookkeeping\r\n\r\n\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\r\n\r\n\t\tindices[ arguments[ i ].uuid ] = i;\r\n\r\n\t}\r\n\r\n\tthis._paths = [];\t\t\t\t\t// inside: string\r\n\tthis._parsedPaths = [];\t\t\t\t// inside: { we don't care, here }\r\n\tthis._bindings = []; \t\t\t\t// inside: Array< PropertyBinding >\r\n\tthis._bindingsIndicesByPath = {}; \t// inside: indices in these arrays\r\n\r\n\tvar scope = this;\r\n\r\n\tthis.stats = {\r\n\r\n\t\tobjects: {\r\n\t\t\tget total() { return scope._objects.length; },\r\n\t\t\tget inUse() { return this.total - scope.nCachedObjects_;  }\r\n\t\t},\r\n\r\n\t\tget bindingsPerObject() { return scope._bindings.length; }\r\n\r\n\t};\r\n\r\n};\r\n\r\nTHREE.AnimationObjectGroup.prototype = {\r\n\r\n\tconstructor: THREE.AnimationObjectGroup,\r\n\r\n\tadd: function( var_args ) {\r\n\r\n\t\tvar objects = this._objects,\r\n\t\t\tnObjects = objects.length,\r\n\t\t\tnCachedObjects = this.nCachedObjects_,\r\n\t\t\tindicesByUUID = this._indicesByUUID,\r\n\t\t\tpaths = this._paths,\r\n\t\t\tparsedPaths = this._parsedPaths,\r\n\t\t\tbindings = this._bindings,\r\n\t\t\tnBindings = bindings.length;\r\n\r\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\r\n\r\n\t\t\tvar object = arguments[ i ],\r\n\t\t\t\tuuid = object.uuid,\r\n\t\t\t\tindex = indicesByUUID[ uuid ];\r\n\r\n\t\t\tif ( index === undefined ) {\r\n\r\n\t\t\t\t// unknown object -> add it to the ACTIVE region\r\n\r\n\t\t\t\tindex = nObjects ++;\r\n\t\t\t\tindicesByUUID[ uuid ] = index;\r\n\t\t\t\tobjects.push( object );\r\n\r\n\t\t\t\t// accounting is done, now do the same for all bindings\r\n\r\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\r\n\r\n\t\t\t\t\tbindings[ j ].push(\r\n\t\t\t\t\t\t\tnew THREE.PropertyBinding(\r\n\t\t\t\t\t\t\t\tobject, paths[ j ], parsedPaths[ j ] ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( index < nCachedObjects ) {\r\n\r\n\t\t\t\tvar knownObject = objects[ index ];\r\n\r\n\t\t\t\t// move existing object to the ACTIVE region\r\n\r\n\t\t\t\tvar firstActiveIndex = -- nCachedObjects,\r\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\r\n\r\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\r\n\t\t\t\tobjects[ index ] = lastCachedObject;\r\n\r\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\r\n\t\t\t\tobjects[ firstActiveIndex ] = object;\r\n\r\n\t\t\t\t// accounting is done, now do the same for all bindings\r\n\r\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\r\n\r\n\t\t\t\t\tvar bindingsForPath = bindings[ j ],\r\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\r\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\r\n\r\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\r\n\r\n\t\t\t\t\tif ( binding === undefined ) {\r\n\r\n\t\t\t\t\t\t// since we do not bother to create new bindings\r\n\t\t\t\t\t\t// for objects that are cached, the binding may\r\n\t\t\t\t\t\t// or may not exist\r\n\r\n\t\t\t\t\t\tbinding = new THREE.PropertyBinding(\r\n\t\t\t\t\t\t\t\tobject, paths[ j ], parsedPaths[ j ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( objects[ index ] !== knownObject) {\r\n\r\n\t\t\t\tconsole.error( \"Different objects with the same UUID \" +\r\n\t\t\t\t\t\t\"detected. Clean the caches or recreate your \" +\r\n\t\t\t\t\t\t\"infrastructure when reloading scenes...\" );\r\n\r\n\t\t\t} // else the object is already where we want it to be\r\n\r\n\t\t} // for arguments\r\n\r\n\t\tthis.nCachedObjects_ = nCachedObjects;\r\n\r\n\t},\r\n\r\n\tremove: function( var_args ) {\r\n\r\n\t\tvar objects = this._objects,\r\n\t\t\tnObjects = objects.length,\r\n\t\t\tnCachedObjects = this.nCachedObjects_,\r\n\t\t\tindicesByUUID = this._indicesByUUID,\r\n\t\t\tbindings = this._bindings,\r\n\t\t\tnBindings = bindings.length;\r\n\r\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\r\n\r\n\t\t\tvar object = arguments[ i ],\r\n\t\t\t\tuuid = object.uuid,\r\n\t\t\t\tindex = indicesByUUID[ uuid ];\r\n\r\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\r\n\r\n\t\t\t\t// move existing object into the CACHED region\r\n\r\n\t\t\t\tvar lastCachedIndex = nCachedObjects ++,\r\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\r\n\r\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\r\n\t\t\t\tobjects[ index ] = firstActiveObject;\r\n\r\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\r\n\t\t\t\tobjects[ lastCachedIndex ] = object;\r\n\r\n\t\t\t\t// accounting is done, now do the same for all bindings\r\n\r\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\r\n\r\n\t\t\t\t\tvar bindingsForPath = bindings[ j ],\r\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\r\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\r\n\r\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\r\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} // for arguments\r\n\r\n\t\tthis.nCachedObjects_ = nCachedObjects;\r\n\r\n\t},\r\n\r\n\t// remove & forget\r\n\tuncache: function( var_args ) {\r\n\r\n\t\tvar objects = this._objects,\r\n\t\t\tnObjects = objects.length,\r\n\t\t\tnCachedObjects = this.nCachedObjects_,\r\n\t\t\tindicesByUUID = this._indicesByUUID,\r\n\t\t\tbindings = this._bindings,\r\n\t\t\tnBindings = bindings.length;\r\n\r\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\r\n\r\n\t\t\tvar object = arguments[ i ],\r\n\t\t\t\tuuid = object.uuid,\r\n\t\t\t\tindex = indicesByUUID[ uuid ];\r\n\r\n\t\t\tif ( index !== undefined ) {\r\n\r\n\t\t\t\tdelete indicesByUUID[ uuid ];\r\n\r\n\t\t\t\tif ( index < nCachedObjects ) {\r\n\r\n\t\t\t\t\t// object is cached, shrink the CACHED region\r\n\r\n\t\t\t\t\tvar firstActiveIndex = -- nCachedObjects,\r\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\r\n\t\t\t\t\t\tlastIndex = -- nObjects,\r\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\r\n\r\n\t\t\t\t\t// last cached object takes this object's place\r\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\r\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\r\n\r\n\t\t\t\t\t// last object goes to the activated slot and pop\r\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\r\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\r\n\t\t\t\t\tobjects.pop();\r\n\r\n\t\t\t\t\t// accounting is done, now do the same for all bindings\r\n\r\n\t\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\r\n\r\n\t\t\t\t\t\tvar bindingsForPath = bindings[ j ],\r\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\r\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\r\n\r\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\r\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\r\n\t\t\t\t\t\tbindingsForPath.pop();\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// object is active, just swap with the last and pop\r\n\r\n\t\t\t\t\tvar lastIndex = -- nObjects,\r\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\r\n\r\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\r\n\t\t\t\t\tobjects[ index ] = lastObject;\r\n\t\t\t\t\tobjects.pop();\r\n\r\n\t\t\t\t\t// accounting is done, now do the same for all bindings\r\n\r\n\t\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\r\n\r\n\t\t\t\t\t\tvar bindingsForPath = bindings[ j ];\r\n\r\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\r\n\t\t\t\t\t\tbindingsForPath.pop();\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // cached or active\r\n\r\n\t\t\t} // if object is known\r\n\r\n\t\t} // for arguments\r\n\r\n\t\tthis.nCachedObjects_ = nCachedObjects;\r\n\r\n\t},\r\n\r\n\t// Internal interface used by befriended PropertyBinding.Composite:\r\n\r\n\tsubscribe_: function( path, parsedPath ) {\r\n\t\t// returns an array of bindings for the given path that is changed\r\n\t\t// according to the contained objects in the group\r\n\r\n\t\tvar indicesByPath = this._bindingsIndicesByPath,\r\n\t\t\tindex = indicesByPath[ path ],\r\n\t\t\tbindings = this._bindings;\r\n\r\n\t\tif ( index !== undefined ) return bindings[ index ];\r\n\r\n\t\tvar paths = this._paths,\r\n\t\t\tparsedPaths = this._parsedPaths,\r\n\t\t\tobjects = this._objects,\r\n\t\t\tnObjects = objects.length,\r\n\t\t\tnCachedObjects = this.nCachedObjects_,\r\n\t\t\tbindingsForPath = new Array( nObjects );\r\n\r\n\t\tindex = bindings.length;\r\n\r\n\t\tindicesByPath[ path ] = index;\r\n\r\n\t\tpaths.push( path );\r\n\t\tparsedPaths.push( parsedPath );\r\n\t\tbindings.push( bindingsForPath );\r\n\r\n\t\tfor ( var i = nCachedObjects,\r\n\t\t\t\tn = objects.length; i !== n; ++ i ) {\r\n\r\n\t\t\tvar object = objects[ i ];\r\n\r\n\t\t\tbindingsForPath[ i ] =\r\n\t\t\t\t\tnew THREE.PropertyBinding( object, path, parsedPath );\r\n\r\n\t\t}\r\n\r\n\t\treturn bindingsForPath;\r\n\r\n\t},\r\n\r\n\tunsubscribe_: function( path ) {\r\n\t\t// tells the group to forget about a property path and no longer\r\n\t\t// update the array previously obtained with 'subscribe_'\r\n\r\n\t\tvar indicesByPath = this._bindingsIndicesByPath,\r\n\t\t\tindex = indicesByPath[ path ];\r\n\r\n\t\tif ( index !== undefined ) {\r\n\r\n\t\t\tvar paths = this._paths,\r\n\t\t\t\tparsedPaths = this._parsedPaths,\r\n\t\t\t\tbindings = this._bindings,\r\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\r\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\r\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\r\n\r\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\r\n\r\n\t\t\tbindings[ index ] = lastBindings;\r\n\t\t\tbindings.pop();\r\n\r\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\r\n\t\t\tparsedPaths.pop();\r\n\r\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\r\n\t\t\tpaths.pop();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\n\r\n// File:src/animation/AnimationUtils.js\r\n\r\n/**\r\n * @author tschw\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n */\r\n\r\nTHREE.AnimationUtils = {\r\n\r\n\t// same as Array.prototype.slice, but also works on typed arrays\r\n\tarraySlice: function( array, from, to ) {\r\n\r\n\t\tif ( THREE.AnimationUtils.isTypedArray( array ) ) {\r\n\r\n\t\t\treturn new array.constructor( array.subarray( from, to ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn array.slice( from, to );\r\n\r\n\t},\r\n\r\n\t// converts an array to a specific type\r\n\tconvertArray: function( array, type, forceClone ) {\r\n\r\n\t\tif ( ! array || // let 'undefined' and 'null' pass\r\n\t\t\t\t! forceClone && array.constructor === type ) return array;\r\n\r\n\t\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\r\n\r\n\t\t\treturn new type( array ); // create typed array\r\n\r\n\t\t}\r\n\r\n\t\treturn Array.prototype.slice.call( array ); // create Array\r\n\r\n\t},\r\n\r\n\tisTypedArray: function( object ) {\r\n\r\n\t\treturn ArrayBuffer.isView( object ) &&\r\n\t\t\t\t! ( object instanceof DataView );\r\n\r\n\t},\r\n\r\n\t// returns an array by which times and values can be sorted\r\n\tgetKeyframeOrder: function( times ) {\r\n\r\n\t\tfunction compareTime( i, j ) {\r\n\r\n\t\t\treturn times[ i ] - times[ j ];\r\n\r\n\t\t}\r\n\r\n\t\tvar n = times.length;\r\n\t\tvar result = new Array( n );\r\n\t\tfor ( var i = 0; i !== n; ++ i ) result[ i ] = i;\r\n\r\n\t\tresult.sort( compareTime );\r\n\r\n\t\treturn result;\r\n\r\n\t},\r\n\r\n\t// uses the array previously returned by 'getKeyframeOrder' to sort data\r\n\tsortedArray: function( values, stride, order ) {\r\n\r\n\t\tvar nValues = values.length;\r\n\t\tvar result = new values.constructor( nValues );\r\n\r\n\t\tfor ( var i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\r\n\r\n\t\t\tvar srcOffset = order[ i ] * stride;\r\n\r\n\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\r\n\r\n\t\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t},\r\n\r\n\t// function for parsing AOS keyframe formats\r\n\tflattenJSON: function( jsonKeys, times, values, valuePropertyName ) {\r\n\r\n\t\tvar i = 1, key = jsonKeys[ 0 ];\r\n\r\n\t\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\r\n\r\n\t\t\tkey = jsonKeys[ i ++ ];\r\n\r\n\t\t}\r\n\r\n\t\tif ( key === undefined ) return; // no data\r\n\r\n\t\tvar value = key[ valuePropertyName ];\r\n\t\tif ( value === undefined ) return; // no data\r\n\r\n\t\tif ( Array.isArray( value ) ) {\r\n\r\n\t\t\tdo {\r\n\r\n\t\t\t\tvalue = key[ valuePropertyName ];\r\n\r\n\t\t\t\tif ( value !== undefined ) {\r\n\r\n\t\t\t\t\ttimes.push( key.time );\r\n\t\t\t\t\tvalues.push.apply( values, value ); // push all elements\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tkey = jsonKeys[ i ++ ];\r\n\r\n\t\t\t} while ( key !== undefined );\r\n\r\n\t\t} else if ( value.toArray !== undefined ) {\r\n\t\t\t// ...assume THREE.Math-ish\r\n\r\n\t\t\tdo {\r\n\r\n\t\t\t\tvalue = key[ valuePropertyName ];\r\n\r\n\t\t\t\tif ( value !== undefined ) {\r\n\r\n\t\t\t\t\ttimes.push( key.time );\r\n\t\t\t\t\tvalue.toArray( values, values.length );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tkey = jsonKeys[ i ++ ];\r\n\r\n\t\t\t} while ( key !== undefined );\r\n\r\n\t\t} else {\r\n\t\t\t// otherwise push as-is\r\n\r\n\t\t\tdo {\r\n\r\n\t\t\t\tvalue = key[ valuePropertyName ];\r\n\r\n\t\t\t\tif ( value !== undefined ) {\r\n\r\n\t\t\t\t\ttimes.push( key.time );\r\n\t\t\t\t\tvalues.push( value );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tkey = jsonKeys[ i ++ ];\r\n\r\n\t\t\t} while ( key !== undefined );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/animation/KeyframeTrack.js\r\n\r\n/**\r\n *\r\n * A timed sequence of keyframes for a specific property.\r\n *\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n * @author tschw\r\n */\r\n\r\nTHREE.KeyframeTrack = function ( name, times, values, interpolation ) {\r\n\r\n\tif( name === undefined ) throw new Error( \"track name is undefined\" );\r\n\r\n\tif( times === undefined || times.length === 0 ) {\r\n\r\n\t\tthrow new Error( \"no keyframes in track named \" + name );\r\n\r\n\t}\r\n\r\n\tthis.name = name;\r\n\r\n\tthis.times = THREE.AnimationUtils.convertArray( times, this.TimeBufferType );\r\n\tthis.values = THREE.AnimationUtils.convertArray( values, this.ValueBufferType );\r\n\r\n\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\r\n\r\n\tthis.validate();\r\n\tthis.optimize();\r\n\r\n};\r\n\r\nTHREE.KeyframeTrack.prototype = {\r\n\r\n\tconstructor: THREE.KeyframeTrack,\r\n\r\n\tTimeBufferType: Float32Array,\r\n\tValueBufferType: Float32Array,\r\n\r\n\tDefaultInterpolation: THREE.InterpolateLinear,\r\n\r\n\tInterpolantFactoryMethodDiscrete: function( result ) {\r\n\r\n\t\treturn new THREE.DiscreteInterpolant(\r\n\t\t\t\tthis.times, this.values, this.getValueSize(), result );\r\n\r\n\t},\r\n\r\n\tInterpolantFactoryMethodLinear: function( result ) {\r\n\r\n\t\treturn new THREE.LinearInterpolant(\r\n\t\t\t\tthis.times, this.values, this.getValueSize(), result );\r\n\r\n\t},\r\n\r\n\tInterpolantFactoryMethodSmooth: function( result ) {\r\n\r\n\t\treturn new THREE.CubicInterpolant(\r\n\t\t\t\tthis.times, this.values, this.getValueSize(), result );\r\n\r\n\t},\r\n\r\n\tsetInterpolation: function( interpolation ) {\r\n\r\n\t\tvar factoryMethod;\r\n\r\n\t\tswitch ( interpolation ) {\r\n\r\n\t\t\tcase THREE.InterpolateDiscrete:\r\n\r\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase THREE.InterpolateLinear:\r\n\r\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase THREE.InterpolateSmooth:\r\n\r\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tif ( factoryMethod === undefined ) {\r\n\r\n\t\t\tvar message = \"unsupported interpolation for \" +\r\n\t\t\t\t\tthis.ValueTypeName + \" keyframe track named \" + this.name;\r\n\r\n\t\t\tif ( this.createInterpolant === undefined ) {\r\n\r\n\t\t\t\t// fall back to default, unless the default itself is messed up\r\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\r\n\r\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconsole.warn( message );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tthis.createInterpolant = factoryMethod;\r\n\r\n\t},\r\n\r\n\tgetInterpolation: function() {\r\n\r\n\t\tswitch ( this.createInterpolant ) {\r\n\r\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\r\n\r\n\t\t\t\treturn THREE.InterpolateDiscrete;\r\n\r\n\t\t\tcase this.InterpolantFactoryMethodLinear:\r\n\r\n\t\t\t\treturn THREE.InterpolateLinear;\r\n\r\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\r\n\r\n\t\t\t\treturn THREE.InterpolateSmooth;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tgetValueSize: function() {\r\n\r\n\t\treturn this.values.length / this.times.length;\r\n\r\n\t},\r\n\r\n\t// move all keyframes either forwards or backwards in time\r\n\tshift: function( timeOffset ) {\r\n\r\n\t\tif( timeOffset !== 0.0 ) {\r\n\r\n\t\t\tvar times = this.times;\r\n\r\n\t\t\tfor( var i = 0, n = times.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\ttimes[ i ] += timeOffset;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\r\n\tscale: function( timeScale ) {\r\n\r\n\t\tif( timeScale !== 1.0 ) {\r\n\r\n\t\t\tvar times = this.times;\r\n\r\n\t\t\tfor( var i = 0, n = times.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\ttimes[ i ] *= timeScale;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\r\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\r\n\ttrim: function( startTime, endTime ) {\r\n\r\n\t\tvar times = this.times,\r\n\t\t\tnKeys = times.length,\r\n\t\t\tfrom = 0,\r\n\t\t\tto = nKeys - 1;\r\n\r\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) ++ from;\r\n\t\twhile ( to !== -1 && times[ to ] > endTime ) -- to;\r\n\r\n\t\t++ to; // inclusive -> exclusive bound\r\n\r\n\t\tif( from !== 0 || to !== nKeys ) {\r\n\r\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\r\n\t\t\tif ( from >= to ) to = Math.max( to , 1 ), from = to - 1;\r\n\r\n\t\t\tvar stride = this.getValueSize();\r\n\t\t\tthis.times = THREE.AnimationUtils.arraySlice( times, from, to );\r\n\t\t\tthis.values = THREE.AnimationUtils.\r\n\t\t\t\t\tarraySlice( this.values, from * stride, to * stride );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\r\n\tvalidate: function() {\r\n\r\n\t\tvar valid = true;\r\n\r\n\t\tvar valueSize = this.getValueSize();\r\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\r\n\r\n\t\t\tconsole.error( \"invalid value size in track\", this );\r\n\t\t\tvalid = false;\r\n\r\n\t\t}\r\n\r\n\t\tvar times = this.times,\r\n\t\t\tvalues = this.values,\r\n\r\n\t\t\tnKeys = times.length;\r\n\r\n\t\tif( nKeys === 0 ) {\r\n\r\n\t\t\tconsole.error( \"track is empty\", this );\r\n\t\t\tvalid = false;\r\n\r\n\t\t}\r\n\r\n\t\tvar prevTime = null;\r\n\r\n\t\tfor( var i = 0; i !== nKeys; i ++ ) {\r\n\r\n\t\t\tvar currTime = times[ i ];\r\n\r\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\r\n\r\n\t\t\t\tconsole.error( \"time is not a valid number\", this, i, currTime );\r\n\t\t\t\tvalid = false;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif( prevTime !== null && prevTime > currTime ) {\r\n\r\n\t\t\t\tconsole.error( \"out of order keys\", this, i, currTime, prevTime );\r\n\t\t\t\tvalid = false;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tprevTime = currTime;\r\n\r\n\t\t}\r\n\r\n\t\tif ( values !== undefined ) {\r\n\r\n\t\t\tif ( THREE.AnimationUtils.isTypedArray( values ) ) {\r\n\r\n\t\t\t\tfor ( var i = 0, n = values.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\t\tvar value = values[ i ];\r\n\r\n\t\t\t\t\tif ( isNaN( value ) ) {\r\n\r\n\t\t\t\t\t\tconsole.error( \"value is not a valid number\", this, i, value );\r\n\t\t\t\t\t\tvalid = false;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn valid;\r\n\r\n\t},\r\n\r\n\t// removes equivalent sequential keys as common in morph target sequences\r\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --\u003e (0,0,1,1,0,0)\r\n\toptimize: function() {\r\n\r\n\t\tvar times = this.times,\r\n\t\t\tvalues = this.values,\r\n\t\t\tstride = this.getValueSize(),\r\n\r\n\t\t\twriteIndex = 1;\r\n\r\n\t\tfor( var i = 1, n = times.length - 1; i <= n; ++ i ) {\r\n\r\n\t\t\tvar keep = false;\r\n\r\n\t\t\tvar time = times[ i ];\r\n\t\t\tvar timeNext = times[ i + 1 ];\r\n\r\n\t\t\t// remove adjacent keyframes scheduled at the same time\r\n\r\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== time[ 0 ] ) ) {\r\n\r\n\t\t\t\t// remove unnecessary keyframes same as their neighbors\r\n\t\t\t\tvar offset = i * stride,\r\n\t\t\t\t\toffsetP = offset - stride,\r\n\t\t\t\t\toffsetN = offset + stride;\r\n\r\n\t\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\r\n\r\n\t\t\t\t\tvar value = values[ offset + j ];\r\n\r\n\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\r\n\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\r\n\r\n\t\t\t\t\t\tkeep = true;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// in-place compaction\r\n\r\n\t\t\tif ( keep ) {\r\n\r\n\t\t\t\tif ( i !== writeIndex ) {\r\n\r\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\r\n\r\n\t\t\t\t\tvar readOffset = i * stride,\r\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\r\n\r\n\t\t\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\r\n\r\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t++ writeIndex;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( writeIndex !== times.length ) {\r\n\r\n\t\t\tthis.times = THREE.AnimationUtils.arraySlice( times, 0, writeIndex );\r\n\t\t\tthis.values = THREE.AnimationUtils.arraySlice( values, 0, writeIndex * stride );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// Static methods:\r\n\r\nObject.assign( THREE.KeyframeTrack, {\r\n\r\n\t// Serialization (in static context, because of constructor invocation\r\n\t// and automatic invocation of .toJSON):\r\n\r\n\tparse: function( json ) {\r\n\r\n\t\tif( json.type === undefined ) {\r\n\r\n\t\t\tthrow new Error( \"track type undefined, can not parse\" );\r\n\r\n\t\t}\r\n\r\n\t\tvar trackType = THREE.KeyframeTrack._getTrackTypeForValueTypeName( json.type );\r\n\r\n\t\tif ( json.times === undefined ) {\r\n\r\n\t\t\tvar times = [], values = [];\r\n\r\n\t\t\tTHREE.AnimationUtils.flattenJSON( json.keys, times, values, 'value' );\r\n\r\n\t\t\tjson.times = times;\r\n\t\t\tjson.values = values;\r\n\r\n\t\t}\r\n\r\n\t\t// derived classes can define a static parse method\r\n\t\tif ( trackType.parse !== undefined ) {\r\n\r\n\t\t\treturn trackType.parse( json );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// by default, we asssume a constructor compatible with the base\r\n\t\t\treturn new trackType(\r\n\t\t\t\t\tjson.name, json.times, json.values, json.interpolation );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\ttoJSON: function( track ) {\r\n\r\n\t\tvar trackType = track.constructor;\r\n\r\n\t\tvar json;\r\n\r\n\t\t// derived classes can define a static toJSON method\r\n\t\tif ( trackType.toJSON !== undefined ) {\r\n\r\n\t\t\tjson = trackType.toJSON( track );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// by default, we assume the data can be serialized as-is\r\n\t\t\tjson = {\r\n\r\n\t\t\t\t'name': track.name,\r\n\t\t\t\t'times': THREE.AnimationUtils.convertArray( track.times, Array ),\r\n\t\t\t\t'values': THREE.AnimationUtils.convertArray( track.values, Array )\r\n\r\n\t\t\t};\r\n\r\n\t\t\tvar interpolation = track.getInterpolation();\r\n\r\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\r\n\r\n\t\t\t\tjson.interpolation = interpolation;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tjson.type = track.ValueTypeName; // mandatory\r\n\r\n\t\treturn json;\r\n\r\n\t},\r\n\r\n\t_getTrackTypeForValueTypeName: function( typeName ) {\r\n\r\n\t\tswitch( typeName.toLowerCase() ) {\r\n\r\n\t\t\tcase \"scalar\":\r\n\t\t\tcase \"double\":\r\n\t\t\tcase \"float\":\r\n\t\t\tcase \"number\":\r\n\t\t\tcase \"integer\":\r\n\r\n\t\t\t\treturn THREE.NumberKeyframeTrack;\r\n\r\n\t\t\tcase \"vector\":\r\n\t\t\tcase \"vector2\":\r\n\t\t\tcase \"vector3\":\r\n\t\t\tcase \"vector4\":\r\n\r\n\t\t\t\treturn THREE.VectorKeyframeTrack;\r\n\r\n\t\t\tcase \"color\":\r\n\r\n\t\t\t\treturn THREE.ColorKeyframeTrack;\r\n\r\n\t\t\tcase \"quaternion\":\r\n\r\n\t\t\t\treturn THREE.QuaternionKeyframeTrack;\r\n\r\n\t\t\tcase \"bool\":\r\n\t\t\tcase \"boolean\":\r\n\r\n\t\t\t\treturn THREE.BooleanKeyframeTrack;\r\n\r\n\t\t\tcase \"string\":\r\n\r\n\t\t\t\treturn THREE.StringKeyframeTrack;\r\n\r\n\t\t}\r\n\r\n\t\tthrow new Error( \"Unsupported typeName: \" + typeName );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/animation/PropertyBinding.js\r\n\r\n/**\r\n *\r\n * A reference to a real property in the scene graph.\r\n *\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n * @author tschw\r\n */\r\n\r\nTHREE.PropertyBinding = function ( rootNode, path, parsedPath ) {\r\n\r\n\tthis.path = path;\r\n\tthis.parsedPath = parsedPath ||\r\n\t\t\tTHREE.PropertyBinding.parseTrackName( path );\r\n\r\n\tthis.node = THREE.PropertyBinding.findNode(\r\n\t\t\trootNode, this.parsedPath.nodeName ) || rootNode;\r\n\r\n\tthis.rootNode = rootNode;\r\n\r\n};\r\n\r\nTHREE.PropertyBinding.prototype = {\r\n\r\n\tconstructor: THREE.PropertyBinding,\r\n\r\n\tgetValue: function getValue_unbound( targetArray, offset ) {\r\n\r\n\t\tthis.bind();\r\n\t\tthis.getValue( targetArray, offset );\r\n\r\n\t\t// Note: This class uses a State pattern on a per-method basis:\r\n\t\t// 'bind' sets 'this.getValue' / 'setValue' and shadows the\r\n\t\t// prototype version of these methods with one that represents\r\n\t\t// the bound state. When the property is not found, the methods\r\n\t\t// become no-ops.\r\n\r\n\t},\r\n\r\n\tsetValue: function getValue_unbound( sourceArray, offset ) {\r\n\r\n\t\tthis.bind();\r\n\t\tthis.setValue( sourceArray, offset );\r\n\r\n\t},\r\n\r\n\t// create getter / setter pair for a property in the scene graph\r\n\tbind: function() {\r\n\r\n\t\tvar targetObject = this.node,\r\n\t\t\tparsedPath = this.parsedPath,\r\n\r\n\t\t\tobjectName = parsedPath.objectName,\r\n\t\t\tpropertyName = parsedPath.propertyName,\r\n\t\t\tpropertyIndex = parsedPath.propertyIndex;\r\n\r\n\t\tif ( ! targetObject ) {\r\n\r\n\t\t\ttargetObject = THREE.PropertyBinding.findNode(\r\n\t\t\t\t\tthis.rootNode, parsedPath.nodeName ) || this.rootNode;\r\n\r\n\t\t\tthis.node = targetObject;\r\n\r\n\t\t}\r\n\r\n\t\t// set fail state so we can just 'return' on error\r\n\t\tthis.getValue = this._getValue_unavailable;\r\n\t\tthis.setValue = this._setValue_unavailable;\r\n\r\n \t\t// ensure there is a value node\r\n\t\tif ( ! targetObject ) {\r\n\r\n\t\t\tconsole.error( \"  trying to update node for track: \" + this.path + \" but it wasn't found.\" );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif( objectName ) {\r\n\r\n\t\t\tvar objectIndex = parsedPath.objectIndex;\r\n\r\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\r\n\t\t\tswitch ( objectName ) {\r\n\r\n\t\t\t\tcase 'materials':\r\n\r\n\t\t\t\t\tif( ! targetObject.material ) {\r\n\r\n\t\t\t\t\t\tconsole.error( '  can not bind to material as node does not have a material', this );\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif( ! targetObject.material.materials ) {\r\n\r\n\t\t\t\t\t\tconsole.error( '  can not bind to material.materials as node.material does not have a materials array', this );\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttargetObject = targetObject.material.materials;\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'bones':\r\n\r\n\t\t\t\t\tif( ! targetObject.skeleton ) {\r\n\r\n\t\t\t\t\t\tconsole.error( '  can not bind to bones as node does not have a skeleton', this );\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\r\n\t\t\t\t\t// and convert the integer string to a true integer.\r\n\r\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\r\n\r\n\t\t\t\t\t// support resolving morphTarget names into indices.\r\n\t\t\t\t\tfor ( var i = 0; i < targetObject.length; i ++ ) {\r\n\r\n\t\t\t\t\t\tif ( targetObject[i].name === objectIndex ) {\r\n\r\n\t\t\t\t\t\t\tobjectIndex = i;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\r\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\r\n\r\n\t\t\t\t\t\tconsole.error( '  can not bind to objectName of node, undefined', this );\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif ( objectIndex !== undefined ) {\r\n\r\n\t\t\t\tif( targetObject[ objectIndex ] === undefined ) {\r\n\r\n\t\t\t\t\tconsole.error( \"  trying to bind to objectIndex of objectName, but is undefined:\", this, targetObject );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// resolve property\r\n\t\tvar nodeProperty = targetObject[ propertyName ];\r\n\r\n\t\tif ( ! nodeProperty ) {\r\n\r\n\t\t\tvar nodeName = parsedPath.nodeName;\r\n\r\n\t\t\tconsole.error( \"  trying to update property for track: \" + nodeName +\r\n\t\t\t\t\t'.' + propertyName + \" but it wasn't found.\", targetObject );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\t// determine versioning scheme\r\n\t\tvar versioning = this.Versioning.None;\r\n\r\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\r\n\r\n\t\t\tversioning = this.Versioning.NeedsUpdate;\r\n\t\t\tthis.targetObject = targetObject;\r\n\r\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\r\n\r\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\r\n\t\t\tthis.targetObject = targetObject;\r\n\r\n\t\t}\r\n\r\n\t\t// determine how the property gets bound\r\n\t\tvar bindingType = this.BindingType.Direct;\r\n\r\n\t\tif ( propertyIndex !== undefined ) {\r\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\r\n\r\n\t\t\tif ( propertyName === \"morphTargetInfluences\" ) {\r\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\r\n\r\n\t\t\t\t// support resolving morphTarget names into indices.\r\n\t\t\t\tif ( ! targetObject.geometry ) {\r\n\r\n\t\t\t\t\tconsole.error( '  can not bind to morphTargetInfluences becasuse node does not have a geometry', this );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ! targetObject.geometry.morphTargets ) {\r\n\r\n\t\t\t\t\tconsole.error( '  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets', this );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( var i = 0; i < this.node.geometry.morphTargets.length; i ++ ) {\r\n\r\n\t\t\t\t\tif ( targetObject.geometry.morphTargets[i].name === propertyIndex ) {\r\n\r\n\t\t\t\t\t\tpropertyIndex = i;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbindingType = this.BindingType.ArrayElement;\r\n\r\n\t\t\tthis.resolvedProperty = nodeProperty;\r\n\t\t\tthis.propertyIndex = propertyIndex;\r\n\r\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\r\n\t\t\t// must use copy for Object3D.Euler/Quaternion\r\n\r\n\t\t\tbindingType = this.BindingType.HasFromToArray;\r\n\r\n\t\t\tthis.resolvedProperty = nodeProperty;\r\n\r\n\t\t} else if ( nodeProperty.length !== undefined ) {\r\n\r\n\t\t\tbindingType = this.BindingType.EntireArray;\r\n\r\n\t\t\tthis.resolvedProperty = nodeProperty;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.propertyName = propertyName;\r\n\r\n\t\t}\r\n\r\n\t\t// select getter / setter\r\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\r\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\r\n\r\n\t},\r\n\r\n\tunbind: function() {\r\n\r\n\t\tthis.node = null;\r\n\r\n\t\t// back to the prototype version of getValue / setValue\r\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\r\n\t\tthis.getValue = this._getValue_unbound;\r\n\t\tthis.setValue = this._setValue_unbound;\r\n\r\n\t}\r\n\r\n};\r\n\r\nObject.assign( THREE.PropertyBinding.prototype, { // prototype, continued\r\n\r\n\t// these are used to \"bind\" a nonexistent property\r\n\t_getValue_unavailable: function() {},\r\n\t_setValue_unavailable: function() {},\r\n\r\n\t// initial state of these methods that calls 'bind'\r\n\t_getValue_unbound: THREE.PropertyBinding.prototype.getValue,\r\n\t_setValue_unbound: THREE.PropertyBinding.prototype.setValue,\r\n\r\n\tBindingType: {\r\n\t\tDirect: 0,\r\n\t\tEntireArray: 1,\r\n\t\tArrayElement: 2,\r\n\t\tHasFromToArray: 3\r\n\t},\r\n\r\n\tVersioning: {\r\n\t\tNone: 0,\r\n\t\tNeedsUpdate: 1,\r\n\t\tMatrixWorldNeedsUpdate: 2\r\n\t},\r\n\r\n\tGetterByBindingType: [\r\n\r\n\t\tfunction getValue_direct( buffer, offset ) {\r\n\r\n\t\t\tbuffer[ offset ] = this.node[ this.propertyName ];\r\n\r\n\t\t},\r\n\r\n\t\tfunction getValue_array( buffer, offset ) {\r\n\r\n\t\t\tvar source = this.resolvedProperty;\r\n\r\n\t\t\tfor ( var i = 0, n = source.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\tbuffer[ offset ++ ] = source[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tfunction getValue_arrayElement( buffer, offset ) {\r\n\r\n\t\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\r\n\r\n\t\t},\r\n\r\n\t\tfunction getValue_toArray( buffer, offset ) {\r\n\r\n\t\t\tthis.resolvedProperty.toArray( buffer, offset );\r\n\r\n\t\t}\r\n\r\n\t],\r\n\r\n\tSetterByBindingTypeAndVersioning: [\r\n\r\n\t\t[\r\n\t\t\t// Direct\r\n\r\n\t\t\tfunction setValue_direct( buffer, offset ) {\r\n\r\n\t\t\t\tthis.node[ this.propertyName ] = buffer[ offset ];\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_direct_setNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tthis.node[ this.propertyName ] = buffer[ offset ];\r\n\t\t\t\tthis.targetObject.needsUpdate = true;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tthis.node[ this.propertyName ] = buffer[ offset ];\r\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t], [\r\n\r\n\t\t\t// EntireArray\r\n\r\n\t\t\tfunction setValue_array( buffer, offset ) {\r\n\r\n\t\t\t\tvar dest = this.resolvedProperty;\r\n\r\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_array_setNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tvar dest = this.resolvedProperty;\r\n\r\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.targetObject.needsUpdate = true;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tvar dest = this.resolvedProperty;\r\n\r\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t], [\r\n\r\n\t\t\t// ArrayElement\r\n\r\n\t\t\tfunction setValue_arrayElement( buffer, offset ) {\r\n\r\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\r\n\t\t\t\tthis.targetObject.needsUpdate = true;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\r\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t], [\r\n\r\n\t\t\t// HasToFromArray\r\n\r\n\t\t\tfunction setValue_fromArray( buffer, offset ) {\r\n\r\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_fromArray_setNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\r\n\t\t\t\tthis.targetObject.needsUpdate = true;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfunction setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\r\n\r\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\r\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t]\r\n\r\n\t]\r\n\r\n} );\r\n\r\nTHREE.PropertyBinding.Composite =\r\n\t\tfunction( targetGroup, path, optionalParsedPath ) {\r\n\r\n\tvar parsedPath = optionalParsedPath ||\r\n\t\t\tTHREE.PropertyBinding.parseTrackName( path );\r\n\r\n\tthis._targetGroup = targetGroup;\r\n\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\r\n\r\n};\r\n\r\nTHREE.PropertyBinding.Composite.prototype = {\r\n\r\n\tconstructor: THREE.PropertyBinding.Composite,\r\n\r\n\tgetValue: function( array, offset ) {\r\n\r\n\t\tthis.bind(); // bind all binding\r\n\r\n\t\tvar firstValidIndex = this._targetGroup.nCachedObjects_,\r\n\t\t\tbinding = this._bindings[ firstValidIndex ];\r\n\r\n\t\t// and only call .getValue on the first\r\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\r\n\r\n\t},\r\n\r\n\tsetValue: function( array, offset ) {\r\n\r\n\t\tvar bindings = this._bindings;\r\n\r\n\t\tfor ( var i = this._targetGroup.nCachedObjects_,\r\n\t\t\t\tn = bindings.length; i !== n; ++ i ) {\r\n\r\n\t\t\tbindings[ i ].setValue( array, offset );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tbind: function() {\r\n\r\n\t\tvar bindings = this._bindings;\r\n\r\n\t\tfor ( var i = this._targetGroup.nCachedObjects_,\r\n\t\t\t\tn = bindings.length; i !== n; ++ i ) {\r\n\r\n\t\t\tbindings[ i ].bind();\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tunbind: function() {\r\n\r\n\t\tvar bindings = this._bindings;\r\n\r\n\t\tfor ( var i = this._targetGroup.nCachedObjects_,\r\n\t\t\t\tn = bindings.length; i !== n; ++ i ) {\r\n\r\n\t\t\tbindings[ i ].unbind();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.PropertyBinding.create = function( root, path, parsedPath ) {\r\n\r\n\tif ( ! ( root instanceof THREE.AnimationObjectGroup ) ) {\r\n\r\n\t\treturn new THREE.PropertyBinding( root, path, parsedPath );\r\n\r\n\t} else {\r\n\r\n\t\treturn new THREE.PropertyBinding.Composite( root, path, parsedPath );\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.PropertyBinding.parseTrackName = function( trackName ) {\r\n\r\n\t// matches strings in the form of:\r\n\t//    nodeName.property\r\n\t//    nodeName.property[accessor]\r\n\t//    nodeName.material.property[accessor]\r\n\t//    uuid.property[accessor]\r\n\t//    uuid.objectName[objectIndex].propertyName[propertyIndex]\r\n\t//    parentName/nodeName.property\r\n\t//    parentName/parentName/nodeName.property[index]\r\n\t//\t  .bone[Armature.DEF_cog].position\r\n\t// created and tested via https://regex101.com/#javascript\r\n\r\n\tvar re = /^(([\\w]+\\/)*)([\\w-\\d]+)?(\\.([\\w]+)(\\[([\\w\\d\\[\\]\\_.:\\- ]+)\\])?)?(\\.([\\w.]+)(\\[([\\w\\d\\[\\]\\_. ]+)\\])?)$/;\r\n\tvar matches = re.exec(trackName);\r\n\r\n\tif( ! matches ) {\r\n\t\tthrow new Error( \"cannot parse trackName at all: \" + trackName );\r\n\t}\r\n\r\n    if (matches.index === re.lastIndex) {\r\n        re.lastIndex++;\r\n    }\r\n\r\n\tvar results = {\r\n\t\t// directoryName: matches[1], // (tschw) currently unused\r\n\t\tnodeName: matches[3], \t// allowed to be null, specified root node.\r\n\t\tobjectName: matches[5],\r\n\t\tobjectIndex: matches[7],\r\n\t\tpropertyName: matches[9],\r\n\t\tpropertyIndex: matches[11]\t// allowed to be null, specifies that the whole property is set.\r\n\t};\r\n\r\n\tif( results.propertyName === null || results.propertyName.length === 0 ) {\r\n\t\tthrow new Error( \"can not parse propertyName from trackName: \" + trackName );\r\n\t}\r\n\r\n\treturn results;\r\n\r\n};\r\n\r\nTHREE.PropertyBinding.findNode = function( root, nodeName ) {\r\n\r\n\tif( ! nodeName || nodeName === \"\" || nodeName === \"root\" || nodeName === \".\" || nodeName === -1 || nodeName === root.name || nodeName === root.uuid ) {\r\n\r\n\t\treturn root;\r\n\r\n\t}\r\n\r\n\t// search into skeleton bones.\r\n\tif( root.skeleton ) {\r\n\r\n\t\tvar searchSkeleton = function( skeleton ) {\r\n\r\n\t\t\tfor( var i = 0; i < skeleton.bones.length; i ++ ) {\r\n\r\n\t\t\t\tvar bone = skeleton.bones[i];\r\n\r\n\t\t\t\tif( bone.name === nodeName ) {\r\n\r\n\t\t\t\t\treturn bone;\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t};\r\n\r\n\t\tvar bone = searchSkeleton( root.skeleton );\r\n\r\n\t\tif( bone ) {\r\n\r\n\t\t\treturn bone;\r\n\r\n\t\t}\r\n\t}\r\n\r\n\t// search into node subtree.\r\n\tif( root.children ) {\r\n\r\n\t\tvar searchNodeSubtree = function( children ) {\r\n\r\n\t\t\tfor( var i = 0; i < children.length; i ++ ) {\r\n\r\n\t\t\t\tvar childNode = children[i];\r\n\r\n\t\t\t\tif( childNode.name === nodeName || childNode.uuid === nodeName ) {\r\n\r\n\t\t\t\t\treturn childNode;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar result = searchNodeSubtree( childNode.children );\r\n\r\n\t\t\t\tif( result ) return result;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t};\r\n\r\n\t\tvar subTreeNode = searchNodeSubtree( root.children );\r\n\r\n\t\tif( subTreeNode ) {\r\n\r\n\t\t\treturn subTreeNode;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn null;\r\n\r\n};\r\n\r\n// File:src/animation/PropertyMixer.js\r\n\r\n/**\r\n *\r\n * Buffered scene graph property that allows weighted accumulation.\r\n *\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n * @author tschw\r\n */\r\n\r\nTHREE.PropertyMixer = function ( binding, typeName, valueSize ) {\r\n\r\n\tthis.binding = binding;\r\n\tthis.valueSize = valueSize;\r\n\r\n\tvar bufferType = Float64Array,\r\n\t\tmixFunction;\r\n\r\n\tswitch ( typeName ) {\r\n\r\n\t\tcase 'quaternion':\t\t\tmixFunction = this._slerp;\t\tbreak;\r\n\r\n\t\tcase 'string':\r\n\t\tcase 'bool':\r\n\r\n\t\t\tbufferType = Array,\t\tmixFunction = this._select;\t\tbreak;\r\n\r\n\t\tdefault:\t\t\t\t\tmixFunction = this._lerp;\r\n\r\n\t}\r\n\r\n\tthis.buffer = new bufferType( valueSize * 4 );\r\n\t// layout: [ incoming | accu0 | accu1 | orig ]\r\n\t//\r\n\t// interpolators can use .buffer as their .result\r\n\t// the data then goes to 'incoming'\r\n\t//\r\n\t// 'accu0' and 'accu1' are used frame-interleaved for\r\n\t// the cumulative result and are compared to detect\r\n\t// changes\r\n\t//\r\n\t// 'orig' stores the original state of the property\r\n\r\n\tthis._mixBufferRegion = mixFunction;\r\n\r\n\tthis.cumulativeWeight = 0;\r\n\r\n\tthis.useCount = 0;\r\n\tthis.referenceCount = 0;\r\n\r\n};\r\n\r\nTHREE.PropertyMixer.prototype = {\r\n\r\n\tconstructor: THREE.PropertyMixer,\r\n\r\n\t// accumulate data in the 'incoming' region into 'accu<i>'\r\n\taccumulate: function( accuIndex, weight ) {\r\n\r\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\r\n\t\t// the weight and shouldn't have made the call in the first place\r\n\r\n\t\tvar buffer = this.buffer,\r\n\t\t\tstride = this.valueSize,\r\n\t\t\toffset = accuIndex * stride + stride,\r\n\r\n\t\t\tcurrentWeight = this.cumulativeWeight;\r\n\r\n\t\tif ( currentWeight === 0 ) {\r\n\r\n\t\t\t// accuN := incoming * weight\r\n\r\n\t\t\tfor ( var i = 0; i !== stride; ++ i ) {\r\n\r\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcurrentWeight = weight;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// accuN := accuN + incoming * weight\r\n\r\n\t\t\tcurrentWeight += weight;\r\n\t\t\tvar mix = weight / currentWeight;\r\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\r\n\r\n\t\t}\r\n\r\n\t\tthis.cumulativeWeight = currentWeight;\r\n\r\n\t},\r\n\r\n\t// apply the state of 'accu<i>' to the binding when accus differ\r\n\tapply: function( accuIndex ) {\r\n\r\n\t\tvar stride = this.valueSize,\r\n\t\t\tbuffer = this.buffer,\r\n\t\t\toffset = accuIndex * stride + stride,\r\n\r\n\t\t\tweight = this.cumulativeWeight,\r\n\r\n\t\t\tbinding = this.binding;\r\n\r\n\t\tthis.cumulativeWeight = 0;\r\n\r\n\t\tif ( weight < 1 ) {\r\n\r\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\r\n\r\n\t\t\tvar originalValueOffset = stride * 3;\r\n\r\n\t\t\tthis._mixBufferRegion(\r\n\t\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = stride, e = stride + stride; i !== e; ++ i ) {\r\n\r\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\r\n\r\n\t\t\t\t// value has changed -> update scene graph\r\n\r\n\t\t\t\tbinding.setValue( buffer, offset );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t// remember the state of the bound property and copy it to both accus\r\n\tsaveOriginalState: function() {\r\n\r\n\t\tvar binding = this.binding;\r\n\r\n\t\tvar buffer = this.buffer,\r\n\t\t\tstride = this.valueSize,\r\n\r\n\t\t\toriginalValueOffset = stride * 3;\r\n\r\n\t\tbinding.getValue( buffer, originalValueOffset );\r\n\r\n\t\t// accu[0..1] := orig -- initially detect changes against the original\r\n\t\tfor ( var i = stride, e = originalValueOffset; i !== e; ++ i ) {\r\n\r\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\r\n\r\n\t\t}\r\n\r\n\t\tthis.cumulativeWeight = 0;\r\n\r\n\t},\r\n\r\n\t// apply the state previously taken via 'saveOriginalState' to the binding\r\n\trestoreOriginalState: function() {\r\n\r\n\t\tvar originalValueOffset = this.valueSize * 3;\r\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\r\n\r\n\t},\r\n\r\n\r\n\t// mix functions\r\n\r\n\t_select: function( buffer, dstOffset, srcOffset, t, stride ) {\r\n\r\n\t\tif ( t >= 0.5 ) {\r\n\r\n\t\t\tfor ( var i = 0; i !== stride; ++ i ) {\r\n\r\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t_slerp: function( buffer, dstOffset, srcOffset, t, stride ) {\r\n\r\n\t\tTHREE.Quaternion.slerpFlat( buffer, dstOffset,\r\n\t\t\t\tbuffer, dstOffset, buffer, srcOffset, t );\r\n\r\n\t},\r\n\r\n\t_lerp: function( buffer, dstOffset, srcOffset, t, stride ) {\r\n\r\n\t\tvar s = 1 - t;\r\n\r\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\r\n\r\n\t\t\tvar j = dstOffset + i;\r\n\r\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/animation/tracks/BooleanKeyframeTrack.js\r\n\r\n/**\r\n *\r\n * A Track of Boolean keyframe values.\r\n *\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n * @author tschw\r\n */\r\n\r\nTHREE.BooleanKeyframeTrack = function ( name, times, values ) {\r\n\r\n\tTHREE.KeyframeTrack.call( this, name, times, values );\r\n\r\n};\r\n\r\nTHREE.BooleanKeyframeTrack.prototype =\r\n\t\tObject.assign( Object.create( THREE.KeyframeTrack.prototype ), {\r\n\r\n\tconstructor: THREE.BooleanKeyframeTrack,\r\n\r\n\tValueTypeName: 'bool',\r\n\tValueBufferType: Array,\r\n\r\n\tDefaultInterpolation: THREE.InterpolateDiscrete,\r\n\r\n\tInterpolantFactoryMethodLinear: undefined,\r\n\tInterpolantFactoryMethodSmooth: undefined\r\n\r\n\t// Note: Actually this track could have a optimized / compressed\r\n\t// representation of a single value and a custom interpolant that\r\n\t// computes \"firstValue ^ isOdd( index )\".\r\n\r\n} );\r\n\r\n// File:src/animation/tracks/ColorKeyframeTrack.js\r\n\r\n/**\r\n *\r\n * A Track of keyframe values that represent color.\r\n *\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n * @author tschw\r\n */\r\n\r\nTHREE.ColorKeyframeTrack = function ( name, times, values, interpolation ) {\r\n\r\n\tTHREE.KeyframeTrack.call( this, name, times, values, interpolation );\r\n\r\n};\r\n\r\nTHREE.ColorKeyframeTrack.prototype =\r\n\t\tObject.assign( Object.create( THREE.KeyframeTrack.prototype ), {\r\n\r\n\tconstructor: THREE.ColorKeyframeTrack,\r\n\r\n\tValueTypeName: 'color'\r\n\r\n\t// ValueBufferType is inherited\r\n\r\n\t// DefaultInterpolation is inherited\r\n\r\n\r\n\t// Note: Very basic implementation and nothing special yet.\r\n\t// However, this is the place for color space parameterization.\r\n\r\n} );\r\n\r\n// File:src/animation/tracks/NumberKeyframeTrack.js\r\n\r\n/**\r\n *\r\n * A Track of numeric keyframe values.\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n * @author tschw\r\n */\r\n\r\nTHREE.NumberKeyframeTrack = function ( name, times, values, interpolation ) {\r\n\r\n\tTHREE.KeyframeTrack.call( this, name, times, values, interpolation );\r\n\r\n};\r\n\r\nTHREE.NumberKeyframeTrack.prototype =\r\n\t\tObject.assign( Object.create( THREE.KeyframeTrack.prototype ), {\r\n\r\n\tconstructor: THREE.NumberKeyframeTrack,\r\n\r\n\tValueTypeName: 'number',\r\n\r\n\t// ValueBufferType is inherited\r\n\r\n\t// DefaultInterpolation is inherited\r\n\r\n} );\r\n\r\n// File:src/animation/tracks/QuaternionKeyframeTrack.js\r\n\r\n/**\r\n *\r\n * A Track of quaternion keyframe values.\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n * @author tschw\r\n */\r\n\r\nTHREE.QuaternionKeyframeTrack = function ( name, times, values, interpolation ) {\r\n\r\n\tTHREE.KeyframeTrack.call( this, name, times, values, interpolation );\r\n\r\n};\r\n\r\nTHREE.QuaternionKeyframeTrack.prototype =\r\n\t\tObject.assign( Object.create( THREE.KeyframeTrack.prototype ), {\r\n\r\n\tconstructor: THREE.QuaternionKeyframeTrack,\r\n\r\n\tValueTypeName: 'quaternion',\r\n\r\n\t// ValueBufferType is inherited\r\n\r\n\tDefaultInterpolation: THREE.InterpolateLinear,\r\n\r\n\tInterpolantFactoryMethodLinear: function( result ) {\r\n\r\n\t\treturn new THREE.QuaternionLinearInterpolant(\r\n\t\t\t\tthis.times, this.values, this.getValueSize(), result );\r\n\r\n\t},\r\n\r\n\tInterpolantFactoryMethodSmooth: undefined // not yet implemented\r\n\r\n} );\r\n\r\n// File:src/animation/tracks/StringKeyframeTrack.js\r\n\r\n/**\r\n *\r\n * A Track that interpolates Strings\r\n *\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n * @author tschw\r\n */\r\n\r\nTHREE.StringKeyframeTrack = function ( name, times, values, interpolation ) {\r\n\r\n\tTHREE.KeyframeTrack.call( this, name, times, values, interpolation );\r\n\r\n};\r\n\r\nTHREE.StringKeyframeTrack.prototype =\r\n\t\tObject.assign( Object.create( THREE.KeyframeTrack.prototype ), {\r\n\r\n\tconstructor: THREE.StringKeyframeTrack,\r\n\r\n\tValueTypeName: 'string',\r\n\tValueBufferType: Array,\r\n\r\n\tDefaultInterpolation: THREE.InterpolateDiscrete,\r\n\r\n\tInterpolantFactoryMethodLinear: undefined,\r\n\r\n\tInterpolantFactoryMethodSmooth: undefined\r\n\r\n} );\r\n\r\n// File:src/animation/tracks/VectorKeyframeTrack.js\r\n\r\n/**\r\n *\r\n * A Track of vectored keyframe values.\r\n *\r\n *\r\n * @author Ben Houston / http://clara.io/\r\n * @author David Sarno / http://lighthaus.us/\r\n * @author tschw\r\n */\r\n\r\nTHREE.VectorKeyframeTrack = function ( name, times, values, interpolation ) {\r\n\r\n\tTHREE.KeyframeTrack.call( this, name, times, values, interpolation );\r\n\r\n};\r\n\r\nTHREE.VectorKeyframeTrack.prototype =\r\n\t\tObject.assign( Object.create( THREE.KeyframeTrack.prototype ), {\r\n\r\n\tconstructor: THREE.VectorKeyframeTrack,\r\n\r\n\tValueTypeName: 'vector'\r\n\r\n\t// ValueBufferType is inherited\r\n\r\n\t// DefaultInterpolation is inherited\r\n\r\n} );\r\n\r\n// File:src/audio/Audio.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\r\n */\r\n\r\nTHREE.Audio = function ( listener ) {\r\n\r\n\tTHREE.Object3D.call( this );\r\n\r\n\tthis.type = 'Audio';\r\n\r\n\tthis.context = listener.context;\r\n\tthis.source = this.context.createBufferSource();\r\n\tthis.source.onended = this.onEnded.bind( this );\r\n\r\n\tthis.gain = this.context.createGain();\r\n\tthis.gain.connect( listener.getInput() );\r\n\r\n\tthis.autoplay = false;\r\n\r\n\tthis.startTime = 0;\r\n\tthis.playbackRate = 1;\r\n\tthis.isPlaying = false;\r\n\tthis.hasPlaybackControl = true;\r\n\tthis.sourceType = 'empty';\r\n\r\n\tthis.filters = [];\r\n\r\n};\r\n\r\nTHREE.Audio.prototype = Object.assign( Object.create( THREE.Object3D.prototype ), {\r\n\r\n\tconstructor: THREE.Audio,\r\n\r\n\tgetOutput: function () {\r\n\r\n\t\treturn this.gain;\r\n\r\n\t},\r\n\r\n\tsetNodeSource: function ( audioNode ) {\r\n\r\n\t\tthis.hasPlaybackControl = false;\r\n\t\tthis.sourceType = 'audioNode';\r\n\t\tthis.source = audioNode;\r\n\t\tthis.connect();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetBuffer: function ( audioBuffer ) {\r\n\r\n\t\tthis.source.buffer = audioBuffer;\r\n\t\tthis.sourceType = 'buffer';\r\n\r\n\t\tif ( this.autoplay ) this.play();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tplay: function () {\r\n\r\n\t\tif ( this.isPlaying === true ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.hasPlaybackControl === false ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tvar source = this.context.createBufferSource();\r\n\r\n\t\tsource.buffer = this.source.buffer;\r\n\t\tsource.loop = this.source.loop;\r\n\t\tsource.onended = this.source.onended;\r\n\t\tsource.start( 0, this.startTime );\r\n\t\tsource.playbackRate.value = this.playbackRate;\r\n\r\n\t\tthis.isPlaying = true;\r\n\r\n\t\tthis.source = source;\r\n\r\n\t\treturn this.connect();\r\n\r\n\t},\r\n\r\n\tpause: function () {\r\n\r\n\t\tif ( this.hasPlaybackControl === false ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tthis.source.stop();\r\n\t\tthis.startTime = this.context.currentTime;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tstop: function () {\r\n\r\n\t\tif ( this.hasPlaybackControl === false ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tthis.source.stop();\r\n\t\tthis.startTime = 0;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tconnect: function () {\r\n\r\n\t\tif ( this.filters.length > 0 ) {\r\n\r\n\t\t\tthis.source.connect( this.filters[ 0 ] );\r\n\r\n\t\t\tfor ( var i = 1, l = this.filters.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.source.connect( this.getOutput() );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdisconnect: function () {\r\n\r\n\t\tif ( this.filters.length > 0 ) {\r\n\r\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\r\n\r\n\t\t\tfor ( var i = 1, l = this.filters.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.source.disconnect( this.getOutput() );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetFilters: function () {\r\n\r\n\t\treturn this.filters;\r\n\r\n\t},\r\n\r\n\tsetFilters: function ( value ) {\r\n\r\n\t\tif ( ! value ) value = [];\r\n\r\n\t\tif ( this.isPlaying === true ) {\r\n\r\n\t\t\tthis.disconnect();\r\n\t\t\tthis.filters = value;\r\n\t\t\tthis.connect();\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.filters = value;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetFilter: function () {\r\n\r\n\t\treturn this.getFilters()[ 0 ];\r\n\r\n\t},\r\n\r\n\tsetFilter: function ( filter ) {\r\n\r\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\r\n\r\n\t},\r\n\r\n\tsetPlaybackRate: function ( value ) {\r\n\r\n\t\tif ( this.hasPlaybackControl === false ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tthis.playbackRate = value;\r\n\r\n\t\tif ( this.isPlaying === true ) {\r\n\r\n\t\t\tthis.source.playbackRate.value = this.playbackRate;\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetPlaybackRate: function () {\r\n\r\n\t\treturn this.playbackRate;\r\n\r\n\t},\r\n\r\n\tonEnded: function () {\r\n\r\n\t\tthis.isPlaying = false;\r\n\r\n\t},\r\n\r\n\tgetLoop: function () {\r\n\r\n\t\tif ( this.hasPlaybackControl === false ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t\treturn this.source.loop;\r\n\r\n\t},\r\n\r\n\tsetLoop: function ( value ) {\r\n\r\n\t\tif ( this.hasPlaybackControl === false ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tthis.source.loop = value;\r\n\r\n\t},\r\n\r\n\tgetVolume: function () {\r\n\r\n\t\treturn this.gain.gain.value;\r\n\r\n\t},\r\n\r\n\r\n\tsetVolume: function ( value ) {\r\n\r\n\t\tthis.gain.gain.value = value;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/audio/AudioAnalyser.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.AudioAnalyser = function ( audio, fftSize ) {\r\n\r\n\tthis.analyser = audio.context.createAnalyser();\r\n\tthis.analyser.fftSize = fftSize !== undefined ? fftSize : 2048;\r\n\r\n\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\r\n\r\n\taudio.getOutput().connect( this.analyser );\r\n\r\n};\r\n\r\nObject.assign( THREE.AudioAnalyser.prototype, {\r\n\r\n\tgetFrequencyData: function () {\r\n\r\n\t\tthis.analyser.getByteFrequencyData( this.data );\r\n\r\n\t\treturn this.data;\r\n\r\n\t},\r\n\r\n\tgetAverageFrequency: function () {\r\n\r\n\t\tvar value = 0, data = this.getFrequencyData();\r\n\r\n\t\tfor ( var i = 0; i < data.length; i ++ ) {\r\n\r\n\t\t\tvalue += data[ i ];\r\n\r\n\t\t}\r\n\r\n\t\treturn value / data.length;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/audio/AudioContext.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nObject.defineProperty( THREE, 'AudioContext', {\r\n\r\n\tget: ( function () {\r\n\r\n\t\tvar context;\r\n\r\n\t\treturn function () {\r\n\r\n\t\t\tif ( context === undefined ) {\r\n\r\n\t\t\t\tcontext = new ( window.AudioContext || window.webkitAudioContext )();\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn context;\r\n\r\n\t\t};\r\n\r\n\t} )()\r\n\r\n} );\r\n\r\n// File:src/audio/PositionalAudio.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.PositionalAudio = function ( listener ) {\r\n\r\n\tTHREE.Audio.call( this, listener );\r\n\r\n\tthis.panner = this.context.createPanner();\r\n\tthis.panner.connect( this.gain );\r\n\r\n};\r\n\r\nTHREE.PositionalAudio.prototype = Object.assign( Object.create( THREE.Audio.prototype ), {\r\n\r\n\tconstructor: THREE.PositionalAudio,\r\n\r\n\tgetOutput: function () {\r\n\r\n\t\treturn this.panner;\r\n\r\n\t},\r\n\r\n\tgetRefDistance: function () {\r\n\r\n\t\treturn this.panner.refDistance;\r\n\r\n\t},\r\n\r\n\tsetRefDistance: function ( value ) {\r\n\r\n\t\tthis.panner.refDistance = value;\r\n\r\n\t},\r\n\r\n\tgetRolloffFactor: function () {\r\n\r\n\t\treturn this.panner.rolloffFactor;\r\n\r\n\t},\r\n\r\n\tsetRolloffFactor: function ( value ) {\r\n\r\n\t\tthis.panner.rolloffFactor = value;\r\n\r\n\t},\r\n\r\n\tgetDistanceModel: function () {\r\n\r\n\t\treturn this.panner.distanceModel;\r\n\r\n\t},\r\n\r\n\tsetDistanceModel: function ( value ) {\r\n\r\n\t\tthis.panner.distanceModel = value;\r\n\r\n\t},\r\n\r\n\tgetMaxDistance: function () {\r\n\r\n\t\treturn this.panner.maxDistance;\r\n\r\n\t},\r\n\r\n\tsetMaxDistance: function ( value ) {\r\n\r\n\t\tthis.panner.maxDistance = value;\r\n\r\n\t},\r\n\r\n\tupdateMatrixWorld: ( function () {\r\n\r\n\t\tvar position = new THREE.Vector3();\r\n\r\n\t\treturn function updateMatrixWorld( force ) {\r\n\r\n\t\t\tTHREE.Object3D.prototype.updateMatrixWorld.call( this, force );\r\n\r\n\t\t\tposition.setFromMatrixPosition( this.matrixWorld );\r\n\r\n\t\t\tthis.panner.setPosition( position.x, position.y, position.z );\r\n\r\n\t\t};\r\n\r\n\t} )()\r\n\r\n\r\n} );\r\n\r\n// File:src/audio/AudioListener.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.AudioListener = function () {\r\n\r\n\tTHREE.Object3D.call( this );\r\n\r\n\tthis.type = 'AudioListener';\r\n\r\n\tthis.context = THREE.AudioContext;\r\n\r\n\tthis.gain = this.context.createGain();\r\n\tthis.gain.connect( this.context.destination );\r\n\r\n\tthis.filter = null;\r\n\r\n};\r\n\r\nTHREE.AudioListener.prototype = Object.assign( Object.create( THREE.Object3D.prototype ), {\r\n\r\n\tconstructor: THREE.AudioListener,\r\n\r\n\tgetInput: function () {\r\n\r\n\t\treturn this.gain;\r\n\r\n\t},\r\n\r\n\tremoveFilter: function ( ) {\r\n\r\n\t\tif ( this.filter !== null ) {\r\n\r\n\t\t\tthis.gain.disconnect( this.filter );\r\n\t\t\tthis.filter.disconnect( this.context.destination );\r\n\t\t\tthis.gain.connect( this.context.destination );\r\n\t\t\tthis.filter = null;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tgetFilter: function () {\r\n\r\n\t\treturn this.filter;\r\n\r\n\t},\r\n\r\n\tsetFilter: function ( value ) {\r\n\r\n\t\tif ( this.filter !== null ) {\r\n\r\n\t\t\tthis.gain.disconnect( this.filter );\r\n\t\t\tthis.filter.disconnect( this.context.destination );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.gain.disconnect( this.context.destination );\r\n\r\n\t\t}\r\n\r\n\t\tthis.filter = value;\r\n\t\tthis.gain.connect( this.filter );\r\n\t\tthis.filter.connect( this.context.destination );\r\n\r\n\t},\r\n\r\n\tgetMasterVolume: function () {\r\n\r\n\t\treturn this.gain.gain.value;\r\n\r\n\t},\r\n\r\n\tsetMasterVolume: function ( value ) {\r\n\r\n\t\tthis.gain.gain.value = value;\r\n\r\n\t},\r\n\r\n\tupdateMatrixWorld: ( function () {\r\n\r\n\t\tvar position = new THREE.Vector3();\r\n\t\tvar quaternion = new THREE.Quaternion();\r\n\t\tvar scale = new THREE.Vector3();\r\n\r\n\t\tvar orientation = new THREE.Vector3();\r\n\r\n\t\treturn function updateMatrixWorld( force ) {\r\n\r\n\t\t\tTHREE.Object3D.prototype.updateMatrixWorld.call( this, force );\r\n\r\n\t\t\tvar listener = this.context.listener;\r\n\t\t\tvar up = this.up;\r\n\r\n\t\t\tthis.matrixWorld.decompose( position, quaternion, scale );\r\n\r\n\t\t\torientation.set( 0, 0, - 1 ).applyQuaternion( quaternion );\r\n\r\n\t\t\tlistener.setPosition( position.x, position.y, position.z );\r\n\t\t\tlistener.setOrientation( orientation.x, orientation.y, orientation.z, up.x, up.y, up.z );\r\n\r\n\t\t};\r\n\r\n\t} )()\r\n\r\n} );\r\n\r\n// File:src/cameras/Camera.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author WestLangley / http://github.com/WestLangley\r\n*/\r\n\r\nTHREE.Camera = function () {\r\n\r\n\tTHREE.Object3D.call( this );\r\n\r\n\tthis.type = 'Camera';\r\n\r\n\tthis.matrixWorldInverse = new THREE.Matrix4();\r\n\tthis.projectionMatrix = new THREE.Matrix4();\r\n\r\n};\r\n\r\nTHREE.Camera.prototype = Object.create( THREE.Object3D.prototype );\r\nTHREE.Camera.prototype.constructor = THREE.Camera;\r\n\r\nTHREE.Camera.prototype.getWorldDirection = function () {\r\n\r\n\tvar quaternion = new THREE.Quaternion();\r\n\r\n\treturn function ( optionalTarget ) {\r\n\r\n\t\tvar result = optionalTarget || new THREE.Vector3();\r\n\r\n\t\tthis.getWorldQuaternion( quaternion );\r\n\r\n\t\treturn result.set( 0, 0, - 1 ).applyQuaternion( quaternion );\r\n\r\n\t};\r\n\r\n}();\r\n\r\nTHREE.Camera.prototype.lookAt = function () {\r\n\r\n\t// This routine does not support cameras with rotated and/or translated parent(s)\r\n\r\n\tvar m1 = new THREE.Matrix4();\r\n\r\n\treturn function ( vector ) {\r\n\r\n\t\tm1.lookAt( this.position, vector, this.up );\r\n\r\n\t\tthis.quaternion.setFromRotationMatrix( m1 );\r\n\r\n\t};\r\n\r\n}();\r\n\r\nTHREE.Camera.prototype.clone = function () {\r\n\r\n\treturn new this.constructor().copy( this );\r\n\r\n};\r\n\r\nTHREE.Camera.prototype.copy = function ( source ) {\r\n\r\n\tTHREE.Object3D.prototype.copy.call( this, source );\r\n\r\n\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\r\n\tthis.projectionMatrix.copy( source.projectionMatrix );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n// File:src/cameras/CubeCamera.js\r\n\r\n/**\r\n * Camera for rendering cube maps\r\n *\t- renders scene into axis-aligned cube\r\n *\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.CubeCamera = function ( near, far, cubeResolution ) {\r\n\r\n\tTHREE.Object3D.call( this );\r\n\r\n\tthis.type = 'CubeCamera';\r\n\r\n\tvar fov = 90, aspect = 1;\r\n\r\n\tvar cameraPX = new THREE.PerspectiveCamera( fov, aspect, near, far );\r\n\tcameraPX.up.set( 0, - 1, 0 );\r\n\tcameraPX.lookAt( new THREE.Vector3( 1, 0, 0 ) );\r\n\tthis.add( cameraPX );\r\n\r\n\tvar cameraNX = new THREE.PerspectiveCamera( fov, aspect, near, far );\r\n\tcameraNX.up.set( 0, - 1, 0 );\r\n\tcameraNX.lookAt( new THREE.Vector3( - 1, 0, 0 ) );\r\n\tthis.add( cameraNX );\r\n\r\n\tvar cameraPY = new THREE.PerspectiveCamera( fov, aspect, near, far );\r\n\tcameraPY.up.set( 0, 0, 1 );\r\n\tcameraPY.lookAt( new THREE.Vector3( 0, 1, 0 ) );\r\n\tthis.add( cameraPY );\r\n\r\n\tvar cameraNY = new THREE.PerspectiveCamera( fov, aspect, near, far );\r\n\tcameraNY.up.set( 0, 0, - 1 );\r\n\tcameraNY.lookAt( new THREE.Vector3( 0, - 1, 0 ) );\r\n\tthis.add( cameraNY );\r\n\r\n\tvar cameraPZ = new THREE.PerspectiveCamera( fov, aspect, near, far );\r\n\tcameraPZ.up.set( 0, - 1, 0 );\r\n\tcameraPZ.lookAt( new THREE.Vector3( 0, 0, 1 ) );\r\n\tthis.add( cameraPZ );\r\n\r\n\tvar cameraNZ = new THREE.PerspectiveCamera( fov, aspect, near, far );\r\n\tcameraNZ.up.set( 0, - 1, 0 );\r\n\tcameraNZ.lookAt( new THREE.Vector3( 0, 0, - 1 ) );\r\n\tthis.add( cameraNZ );\r\n\r\n\tvar options = { format: THREE.RGBFormat, magFilter: THREE.LinearFilter, minFilter: THREE.LinearFilter };\r\n\r\n\tthis.renderTarget = new THREE.WebGLRenderTargetCube( cubeResolution, cubeResolution, options );\r\n\r\n\tthis.updateCubeMap = function ( renderer, scene ) {\r\n\r\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\r\n\r\n\t\tvar renderTarget = this.renderTarget;\r\n\t\tvar generateMipmaps = renderTarget.texture.generateMipmaps;\r\n\r\n\t\trenderTarget.texture.generateMipmaps = false;\r\n\r\n\t\trenderTarget.activeCubeFace = 0;\r\n\t\trenderer.render( scene, cameraPX, renderTarget );\r\n\r\n\t\trenderTarget.activeCubeFace = 1;\r\n\t\trenderer.render( scene, cameraNX, renderTarget );\r\n\r\n\t\trenderTarget.activeCubeFace = 2;\r\n\t\trenderer.render( scene, cameraPY, renderTarget );\r\n\r\n\t\trenderTarget.activeCubeFace = 3;\r\n\t\trenderer.render( scene, cameraNY, renderTarget );\r\n\r\n\t\trenderTarget.activeCubeFace = 4;\r\n\t\trenderer.render( scene, cameraPZ, renderTarget );\r\n\r\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\r\n\r\n\t\trenderTarget.activeCubeFace = 5;\r\n\t\trenderer.render( scene, cameraNZ, renderTarget );\r\n\r\n\t\trenderer.setRenderTarget( null );\r\n\r\n\t};\r\n\r\n};\r\n\r\nTHREE.CubeCamera.prototype = Object.create( THREE.Object3D.prototype );\r\nTHREE.CubeCamera.prototype.constructor = THREE.CubeCamera;\r\n\r\n// File:src/cameras/OrthographicCamera.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.OrthographicCamera = function ( left, right, top, bottom, near, far ) {\r\n\r\n\tTHREE.Camera.call( this );\r\n\r\n\tthis.type = 'OrthographicCamera';\r\n\r\n\tthis.zoom = 1;\r\n\r\n\tthis.left = left;\r\n\tthis.right = right;\r\n\tthis.top = top;\r\n\tthis.bottom = bottom;\r\n\r\n\tthis.near = ( near !== undefined ) ? near : 0.1;\r\n\tthis.far = ( far !== undefined ) ? far : 2000;\r\n\r\n\tthis.updateProjectionMatrix();\r\n\r\n};\r\n\r\nTHREE.OrthographicCamera.prototype = Object.assign( Object.create( THREE.Camera.prototype ), {\r\n\r\n\tconstructor: THREE.OrthographicCamera,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tTHREE.Camera.prototype.copy.call( this, source );\r\n\r\n\t\tthis.left = source.left;\r\n\t\tthis.right = source.right;\r\n\t\tthis.top = source.top;\r\n\t\tthis.bottom = source.bottom;\r\n\t\tthis.near = source.near;\r\n\t\tthis.far = source.far;\r\n\r\n\t\tthis.zoom = source.zoom;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tupdateProjectionMatrix: function () {\r\n\r\n\t\tvar dx = ( this.right - this.left ) / ( 2 * this.zoom );\r\n\t\tvar dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\r\n\t\tvar cx = ( this.right + this.left ) / 2;\r\n\t\tvar cy = ( this.top + this.bottom ) / 2;\r\n\r\n\t\tthis.projectionMatrix.makeOrthographic( cx - dx, cx + dx, cy + dy, cy - dy, this.near, this.far );\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tvar data = THREE.Object3D.prototype.toJSON.call( this, meta );\r\n\r\n\t\tdata.object.zoom = this.zoom;\r\n\t\tdata.object.left = this.left;\r\n\t\tdata.object.right = this.right;\r\n\t\tdata.object.top = this.top;\r\n\t\tdata.object.bottom = this.bottom;\r\n\t\tdata.object.near = this.near;\r\n\t\tdata.object.far = this.far;\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/cameras/PerspectiveCamera.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author greggman / http://games.greggman.com/\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n * @author tschw\r\n */\r\n\r\nTHREE.PerspectiveCamera = function( fov, aspect, near, far ) {\r\n\r\n\tTHREE.Camera.call( this );\r\n\r\n\tthis.type = 'PerspectiveCamera';\r\n\r\n\tthis.fov = fov !== undefined ? fov : 50;\r\n\tthis.zoom = 1;\r\n\r\n\tthis.near = near !== undefined ? near : 0.1;\r\n\tthis.far = far !== undefined ? far : 2000;\r\n\tthis.focus = 10;\r\n\r\n\tthis.aspect = aspect !== undefined ? aspect : 1;\r\n\tthis.view = null;\r\n\r\n\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\r\n\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\r\n\r\n\tthis.updateProjectionMatrix();\r\n\r\n};\r\n\r\nTHREE.PerspectiveCamera.prototype = Object.assign( Object.create( THREE.Camera.prototype ), {\r\n\r\n\tconstructor: THREE.PerspectiveCamera,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tTHREE.Camera.prototype.copy.call( this, source );\r\n\r\n\t\tthis.fov = source.fov;\r\n\t\tthis.zoom = source.zoom;\r\n\r\n\t\tthis.near = source.near;\r\n\t\tthis.far = source.far;\r\n\t\tthis.focus = source.focus;\r\n\r\n\t\tthis.aspect = source.aspect;\r\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\r\n\r\n\t\tthis.filmGauge = source.filmGauge;\r\n\t\tthis.filmOffset = source.filmOffset;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\r\n\t *\r\n\t * The default film gauge is 35, so that the focal length can be specified for\r\n\t * a 35mm (full frame) camera.\r\n\t *\r\n\t * Values for focal length and film gauge must have the same unit.\r\n\t */\r\n\tsetFocalLength: function ( focalLength ) {\r\n\r\n\t\t// see http://www.bobatkins.com/photography/technical/field_of_view.html\r\n\t\tvar vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\r\n\r\n\t\tthis.fov = THREE.Math.RAD2DEG * 2 * Math.atan( vExtentSlope );\r\n\t\tthis.updateProjectionMatrix();\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Calculates the focal length from the current .fov and .filmGauge.\r\n\t */\r\n\tgetFocalLength: function () {\r\n\r\n\t\tvar vExtentSlope = Math.tan( THREE.Math.DEG2RAD * 0.5 * this.fov );\r\n\r\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\r\n\r\n\t},\r\n\r\n\tgetEffectiveFOV: function () {\r\n\r\n\t\treturn THREE.Math.RAD2DEG * 2 * Math.atan(\r\n\t\t\t\tMath.tan( THREE.Math.DEG2RAD * 0.5 * this.fov ) / this.zoom );\r\n\r\n\t},\r\n\r\n\tgetFilmWidth: function () {\r\n\r\n\t\t// film not completely covered in portrait format (aspect < 1)\r\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\r\n\r\n\t},\r\n\r\n\tgetFilmHeight: function () {\r\n\r\n\t\t// film not completely covered in landscape format (aspect > 1)\r\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\r\n\t * multi-monitor/multi-machine setups.\r\n\t *\r\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\r\n\t * the monitors are in grid like this\r\n\t *\r\n\t *   +---+---+---+\r\n\t *   | A | B | C |\r\n\t *   +---+---+---+\r\n\t *   | D | E | F |\r\n\t *   +---+---+---+\r\n\t *\r\n\t * then for each monitor you would call it like this\r\n\t *\r\n\t *   var w = 1920;\r\n\t *   var h = 1080;\r\n\t *   var fullWidth = w * 3;\r\n\t *   var fullHeight = h * 2;\r\n\t *\r\n\t *   --A--\r\n\t *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\r\n\t *   --B--\r\n\t *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\r\n\t *   --C--\r\n\t *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\r\n\t *   --D--\r\n\t *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\r\n\t *   --E--\r\n\t *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\r\n\t *   --F--\r\n\t *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\r\n\t *\r\n\t *   Note there is no reason monitors have to be the same size or in a grid.\r\n\t */\r\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\r\n\r\n\t\tthis.aspect = fullWidth / fullHeight;\r\n\r\n\t\tthis.view = {\r\n\t\t\tfullWidth: fullWidth,\r\n\t\t\tfullHeight: fullHeight,\r\n\t\t\toffsetX: x,\r\n\t\t\toffsetY: y,\r\n\t\t\twidth: width,\r\n\t\t\theight: height\r\n\t\t};\r\n\r\n\t\tthis.updateProjectionMatrix();\r\n\r\n\t},\r\n\r\n\tclearViewOffset: function() {\r\n\r\n\t\tthis.view = null;\r\n\t\tthis.updateProjectionMatrix();\r\n\r\n\t},\r\n\r\n\tupdateProjectionMatrix: function () {\r\n\r\n\t\tvar near = this.near,\r\n\t\t\ttop = near * Math.tan(\r\n\t\t\t\t\tTHREE.Math.DEG2RAD * 0.5 * this.fov ) / this.zoom,\r\n\t\t\theight = 2 * top,\r\n\t\t\twidth = this.aspect * height,\r\n\t\t\tleft = - 0.5 * width,\r\n\t\t\tview = this.view;\r\n\r\n\t\tif ( view !== null ) {\r\n\r\n\t\t\tvar fullWidth = view.fullWidth,\r\n\t\t\t\tfullHeight = view.fullHeight;\r\n\r\n\t\t\tleft += view.offsetX * width / fullWidth;\r\n\t\t\ttop -= view.offsetY * height / fullHeight;\r\n\t\t\twidth *= view.width / fullWidth;\r\n\t\t\theight *= view.height / fullHeight;\r\n\r\n\t\t}\r\n\r\n\t\tvar skew = this.filmOffset;\r\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\r\n\r\n\t\tthis.projectionMatrix.makeFrustum(\r\n\t\t\t\tleft, left + width, top - height, top, near, this.far );\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tvar data = THREE.Object3D.prototype.toJSON.call( this, meta );\r\n\r\n\t\tdata.object.fov = this.fov;\r\n\t\tdata.object.zoom = this.zoom;\r\n\r\n\t\tdata.object.near = this.near;\r\n\t\tdata.object.far = this.far;\r\n\t\tdata.object.focus = this.focus;\r\n\r\n\t\tdata.object.aspect = this.aspect;\r\n\r\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\r\n\r\n\t\tdata.object.filmGauge = this.filmGauge;\r\n\t\tdata.object.filmOffset = this.filmOffset;\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/cameras/StereoCamera.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.StereoCamera = function () {\r\n\r\n\tthis.type = 'StereoCamera';\r\n\r\n\tthis.aspect = 1;\r\n\r\n\tthis.cameraL = new THREE.PerspectiveCamera();\r\n\tthis.cameraL.layers.enable( 1 );\r\n\tthis.cameraL.matrixAutoUpdate = false;\r\n\r\n\tthis.cameraR = new THREE.PerspectiveCamera();\r\n\tthis.cameraR.layers.enable( 2 );\r\n\tthis.cameraR.matrixAutoUpdate = false;\r\n\r\n};\r\n\r\nObject.assign( THREE.StereoCamera.prototype, {\r\n\r\n\tupdate: ( function () {\r\n\r\n\t\tvar focus, fov, aspect, near, far;\r\n\r\n\t\tvar eyeRight = new THREE.Matrix4();\r\n\t\tvar eyeLeft = new THREE.Matrix4();\r\n\r\n\t\treturn function update ( camera ) {\r\n\r\n\t\t\tvar needsUpdate = focus !== camera.focus || fov !== camera.fov ||\r\n\t\t\t\t\t\t\t\t\t\t\t\taspect !== camera.aspect * this.aspect || near !== camera.near ||\r\n\t\t\t\t\t\t\t\t\t\t\t\tfar !== camera.far;\r\n\r\n\t\t\tif ( needsUpdate ) {\r\n\r\n\t\t\t\tfocus = camera.focus;\r\n\t\t\t\tfov = camera.fov;\r\n\t\t\t\taspect = camera.aspect * this.aspect;\r\n\t\t\t\tnear = camera.near;\r\n\t\t\t\tfar = camera.far;\r\n\r\n\t\t\t\t// Off-axis stereoscopic effect based on\r\n\t\t\t\t// http://paulbourke.net/stereographics/stereorender/\r\n\r\n\t\t\t\tvar projectionMatrix = camera.projectionMatrix.clone();\r\n\t\t\t\tvar eyeSep = 0.064 / 2;\r\n\t\t\t\tvar eyeSepOnProjection = eyeSep * near / focus;\r\n\t\t\t\tvar ymax = near * Math.tan( THREE.Math.DEG2RAD * fov * 0.5 );\r\n\t\t\t\tvar xmin, xmax;\r\n\r\n\t\t\t\t// translate xOffset\r\n\r\n\t\t\t\teyeLeft.elements[ 12 ] = - eyeSep;\r\n\t\t\t\teyeRight.elements[ 12 ] = eyeSep;\r\n\r\n\t\t\t\t// for left eye\r\n\r\n\t\t\t\txmin = - ymax * aspect + eyeSepOnProjection;\r\n\t\t\t\txmax = ymax * aspect + eyeSepOnProjection;\r\n\r\n\t\t\t\tprojectionMatrix.elements[ 0 ] = 2 * near / ( xmax - xmin );\r\n\t\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\r\n\r\n\t\t\t\tthis.cameraL.projectionMatrix.copy( projectionMatrix );\r\n\r\n\t\t\t\t// for right eye\r\n\r\n\t\t\t\txmin = - ymax * aspect - eyeSepOnProjection;\r\n\t\t\t\txmax = ymax * aspect - eyeSepOnProjection;\r\n\r\n\t\t\t\tprojectionMatrix.elements[ 0 ] = 2 * near / ( xmax - xmin );\r\n\t\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\r\n\r\n\t\t\t\tthis.cameraR.projectionMatrix.copy( projectionMatrix );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( eyeLeft );\r\n\t\t\tthis.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( eyeRight );\r\n\r\n\t\t};\r\n\r\n\t} )()\r\n\r\n} );\r\n\r\n// File:src/lights/Light.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.Light = function ( color, intensity ) {\r\n\r\n\tTHREE.Object3D.call( this );\r\n\r\n\tthis.type = 'Light';\r\n\r\n\tthis.color = new THREE.Color( color );\r\n\tthis.intensity = intensity !== undefined ? intensity : 1;\r\n\r\n\tthis.receiveShadow = undefined;\r\n\r\n};\r\n\r\nTHREE.Light.prototype = Object.assign( Object.create( THREE.Object3D.prototype ), {\r\n\r\n\tconstructor: THREE.Light,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tTHREE.Object3D.prototype.copy.call( this, source );\r\n\r\n\t\tthis.color.copy( source.color );\r\n\t\tthis.intensity = source.intensity;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tvar data = THREE.Object3D.prototype.toJSON.call( this, meta );\r\n\r\n\t\tdata.object.color = this.color.getHex();\r\n\t\tdata.object.intensity = this.intensity;\r\n\r\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\r\n\r\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\r\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\r\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\r\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/lights/LightShadow.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.LightShadow = function ( camera ) {\r\n\r\n\tthis.camera = camera;\r\n\r\n\tthis.bias = 0;\r\n\tthis.radius = 1;\r\n\r\n\tthis.mapSize = new THREE.Vector2( 512, 512 );\r\n\r\n\tthis.map = null;\r\n\tthis.matrix = new THREE.Matrix4();\r\n\r\n};\r\n\r\nObject.assign( THREE.LightShadow.prototype, {\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.camera = source.camera.clone();\r\n\r\n\t\tthis.bias = source.bias;\r\n\t\tthis.radius = source.radius;\r\n\r\n\t\tthis.mapSize.copy( source.mapSize );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/lights/AmbientLight.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.AmbientLight = function ( color, intensity ) {\r\n\r\n\tTHREE.Light.call( this, color, intensity );\r\n\r\n\tthis.type = 'AmbientLight';\r\n\r\n\tthis.castShadow = undefined;\r\n\r\n};\r\n\r\nTHREE.AmbientLight.prototype = Object.assign( Object.create( THREE.Light.prototype ), {\r\n\r\n\tconstructor: THREE.AmbientLight\r\n\r\n} );\r\n\r\n// File:src/lights/DirectionalLight.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.DirectionalLight = function ( color, intensity ) {\r\n\r\n\tTHREE.Light.call( this, color, intensity );\r\n\r\n\tthis.type = 'DirectionalLight';\r\n\r\n\tthis.position.set( 0, 1, 0 );\r\n\tthis.updateMatrix();\r\n\r\n\tthis.target = new THREE.Object3D();\r\n\r\n\tthis.shadow = new THREE.DirectionalLightShadow();\r\n\r\n};\r\n\r\nTHREE.DirectionalLight.prototype = Object.assign( Object.create( THREE.Light.prototype ), {\r\n\r\n\tconstructor: THREE.DirectionalLight,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tTHREE.Light.prototype.copy.call( this, source );\r\n\r\n\t\tthis.target = source.target.clone();\r\n\r\n\t\tthis.shadow = source.shadow.clone();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/lights/DirectionalLightShadow.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.DirectionalLightShadow = function ( light ) {\r\n\r\n\tTHREE.LightShadow.call( this, new THREE.OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\r\n\r\n};\r\n\r\nTHREE.DirectionalLightShadow.prototype = Object.assign( Object.create( THREE.LightShadow.prototype ), {\r\n\r\n\tconstructor: THREE.DirectionalLightShadow\r\n\r\n} );\r\n\r\n// File:src/lights/HemisphereLight.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.HemisphereLight = function ( skyColor, groundColor, intensity ) {\r\n\r\n\tTHREE.Light.call( this, skyColor, intensity );\r\n\r\n\tthis.type = 'HemisphereLight';\r\n\r\n\tthis.castShadow = undefined;\r\n\r\n\tthis.position.set( 0, 1, 0 );\r\n\tthis.updateMatrix();\r\n\r\n\tthis.groundColor = new THREE.Color( groundColor );\r\n\r\n};\r\n\r\nTHREE.HemisphereLight.prototype = Object.assign( Object.create( THREE.Light.prototype ), {\r\n\r\n\tconstructor: THREE.HemisphereLight,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tTHREE.Light.prototype.copy.call( this, source );\r\n\r\n\t\tthis.groundColor.copy( source.groundColor );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/lights/PointLight.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\n\r\nTHREE.PointLight = function ( color, intensity, distance, decay ) {\r\n\r\n\tTHREE.Light.call( this, color, intensity );\r\n\r\n\tthis.type = 'PointLight';\r\n\r\n\tObject.defineProperty( this, 'power', {\r\n\t\tget: function () {\r\n\t\t\t// intensity = power per solid angle.\r\n\t\t\t// ref: equation (15) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\r\n\t\t\treturn this.intensity * 4 * Math.PI;\r\n\r\n\t\t},\r\n\t\tset: function ( power ) {\r\n\t\t\t// intensity = power per solid angle.\r\n\t\t\t// ref: equation (15) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\r\n\t\t\tthis.intensity = power / ( 4 * Math.PI );\r\n\t\t}\r\n\t} );\r\n\r\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\r\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\r\n\r\n\tthis.shadow = new THREE.LightShadow( new THREE.PerspectiveCamera( 90, 1, 0.5, 500 ) );\r\n\r\n};\r\n\r\nTHREE.PointLight.prototype = Object.assign( Object.create( THREE.Light.prototype ), {\r\n\r\n\tconstructor: THREE.PointLight,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tTHREE.Light.prototype.copy.call( this, source );\r\n\r\n\t\tthis.distance = source.distance;\r\n\t\tthis.decay = source.decay;\r\n\r\n\t\tthis.shadow = source.shadow.clone();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/lights/SpotLight.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.SpotLight = function ( color, intensity, distance, angle, penumbra, decay ) {\r\n\r\n\tTHREE.Light.call( this, color, intensity );\r\n\r\n\tthis.type = 'SpotLight';\r\n\r\n\tthis.position.set( 0, 1, 0 );\r\n\tthis.updateMatrix();\r\n\r\n\tthis.target = new THREE.Object3D();\r\n\r\n\tObject.defineProperty( this, 'power', {\r\n\t\tget: function () {\r\n\t\t\t// intensity = power per solid angle.\r\n\t\t\t// ref: equation (17) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\r\n\t\t\treturn this.intensity * Math.PI;\r\n\t\t},\r\n\t\tset: function ( power ) {\r\n\t\t\t// intensity = power per solid angle.\r\n\t\t\t// ref: equation (17) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\r\n\t\t\tthis.intensity = power / Math.PI;\r\n\t\t}\r\n\t} );\r\n\r\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\r\n\tthis.angle = ( angle !== undefined ) ? angle : Math.PI / 3;\r\n\tthis.penumbra = ( penumbra !== undefined ) ? penumbra : 0;\r\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\r\n\r\n\tthis.shadow = new THREE.SpotLightShadow();\r\n\r\n};\r\n\r\nTHREE.SpotLight.prototype = Object.assign( Object.create( THREE.Light.prototype ), {\r\n\r\n\tconstructor: THREE.SpotLight,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tTHREE.Light.prototype.copy.call( this, source );\r\n\r\n\t\tthis.distance = source.distance;\r\n\t\tthis.angle = source.angle;\r\n\t\tthis.penumbra = source.penumbra;\r\n\t\tthis.decay = source.decay;\r\n\r\n\t\tthis.target = source.target.clone();\r\n\r\n\t\tthis.shadow = source.shadow.clone();\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/lights/SpotLightShadow.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.SpotLightShadow = function () {\r\n\r\n\tTHREE.LightShadow.call( this, new THREE.PerspectiveCamera( 50, 1, 0.5, 500 ) );\r\n\r\n};\r\n\r\nTHREE.SpotLightShadow.prototype = Object.assign( Object.create( THREE.LightShadow.prototype ), {\r\n\r\n\tconstructor: THREE.SpotLightShadow,\r\n\r\n\tupdate: function ( light ) {\r\n\r\n\t\tvar fov = THREE.Math.RAD2DEG * 2 * light.angle;\r\n\t\tvar aspect = this.mapSize.width / this.mapSize.height;\r\n\t\tvar far = light.distance || 500;\r\n\r\n\t\tvar camera = this.camera;\r\n\r\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\r\n\r\n\t\t\tcamera.fov = fov;\r\n\t\t\tcamera.aspect = aspect;\r\n\t\t\tcamera.far = far;\r\n\t\t\tcamera.updateProjectionMatrix();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/loaders/AudioLoader.js\r\n\r\n/**\r\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\r\n */\r\n\r\nTHREE.AudioLoader = function ( manager ) {\r\n\r\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\r\n\r\n};\r\n\r\nTHREE.AudioLoader.prototype = {\r\n\r\n\tconstructor: THREE.AudioLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar loader = new THREE.XHRLoader( this.manager );\r\n\t\tloader.setResponseType( 'arraybuffer' );\r\n\t\tloader.load( url, function ( buffer ) {\r\n\r\n\t\t\tvar context = THREE.AudioContext;\r\n\r\n\t\t\tcontext.decodeAudioData( buffer, function ( audioBuffer ) {\r\n\r\n\t\t\t\tonLoad( audioBuffer );\r\n\r\n\t\t\t} );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/loaders/Cache.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.Cache = {\r\n\r\n\tenabled: false,\r\n\r\n\tfiles: {},\r\n\r\n\tadd: function ( key, file ) {\r\n\r\n\t\tif ( this.enabled === false ) return;\r\n\r\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\r\n\r\n\t\tthis.files[ key ] = file;\r\n\r\n\t},\r\n\r\n\tget: function ( key ) {\r\n\r\n\t\tif ( this.enabled === false ) return;\r\n\r\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\r\n\r\n\t\treturn this.files[ key ];\r\n\r\n\t},\r\n\r\n\tremove: function ( key ) {\r\n\r\n\t\tdelete this.files[ key ];\r\n\r\n\t},\r\n\r\n\tclear: function () {\r\n\r\n\t\tthis.files = {};\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/loaders/Loader.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.Loader = function () {\r\n\r\n\tthis.onLoadStart = function () {};\r\n\tthis.onLoadProgress = function () {};\r\n\tthis.onLoadComplete = function () {};\r\n\r\n};\r\n\r\nTHREE.Loader.prototype = {\r\n\r\n\tconstructor: THREE.Loader,\r\n\r\n\tcrossOrigin: undefined,\r\n\r\n\textractUrlBase: function ( url ) {\r\n\r\n\t\tvar parts = url.split( '/' );\r\n\r\n\t\tif ( parts.length === 1 ) return './';\r\n\r\n\t\tparts.pop();\r\n\r\n\t\treturn parts.join( '/' ) + '/';\r\n\r\n\t},\r\n\r\n\tinitMaterials: function ( materials, texturePath, crossOrigin ) {\r\n\r\n\t\tvar array = [];\r\n\r\n\t\tfor ( var i = 0; i < materials.length; ++ i ) {\r\n\r\n\t\t\tarray[ i ] = this.createMaterial( materials[ i ], texturePath, crossOrigin );\r\n\r\n\t\t}\r\n\r\n\t\treturn array;\r\n\r\n\t},\r\n\r\n\tcreateMaterial: ( function () {\r\n\r\n\t\tvar color, textureLoader, materialLoader;\r\n\r\n\t\treturn function ( m, texturePath, crossOrigin ) {\r\n\r\n\t\t\tif ( color === undefined ) color = new THREE.Color();\r\n\t\t\tif ( textureLoader === undefined ) textureLoader = new THREE.TextureLoader();\r\n\t\t\tif ( materialLoader === undefined ) materialLoader = new THREE.MaterialLoader();\r\n\r\n\t\t\t// convert from old material format\r\n\r\n\t\t\tvar textures = {};\r\n\r\n\t\t\tfunction loadTexture( path, repeat, offset, wrap, anisotropy ) {\r\n\r\n\t\t\t\tvar fullPath = texturePath + path;\r\n\t\t\t\tvar loader = THREE.Loader.Handlers.get( fullPath );\r\n\r\n\t\t\t\tvar texture;\r\n\r\n\t\t\t\tif ( loader !== null ) {\r\n\r\n\t\t\t\t\ttexture = loader.load( fullPath );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\ttextureLoader.setCrossOrigin( crossOrigin );\r\n\t\t\t\t\ttexture = textureLoader.load( fullPath );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( repeat !== undefined ) {\r\n\r\n\t\t\t\t\ttexture.repeat.fromArray( repeat );\r\n\r\n\t\t\t\t\tif ( repeat[ 0 ] !== 1 ) texture.wrapS = THREE.RepeatWrapping;\r\n\t\t\t\t\tif ( repeat[ 1 ] !== 1 ) texture.wrapT = THREE.RepeatWrapping;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( offset !== undefined ) {\r\n\r\n\t\t\t\t\ttexture.offset.fromArray( offset );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( wrap !== undefined ) {\r\n\r\n\t\t\t\t\tif ( wrap[ 0 ] === 'repeat' ) texture.wrapS = THREE.RepeatWrapping;\r\n\t\t\t\t\tif ( wrap[ 0 ] === 'mirror' ) texture.wrapS = THREE.MirroredRepeatWrapping;\r\n\r\n\t\t\t\t\tif ( wrap[ 1 ] === 'repeat' ) texture.wrapT = THREE.RepeatWrapping;\r\n\t\t\t\t\tif ( wrap[ 1 ] === 'mirror' ) texture.wrapT = THREE.MirroredRepeatWrapping;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( anisotropy !== undefined ) {\r\n\r\n\t\t\t\t\ttexture.anisotropy = anisotropy;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar uuid = THREE.Math.generateUUID();\r\n\r\n\t\t\t\ttextures[ uuid ] = texture;\r\n\r\n\t\t\t\treturn uuid;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//\r\n\r\n\t\t\tvar json = {\r\n\t\t\t\tuuid: THREE.Math.generateUUID(),\r\n\t\t\t\ttype: 'MeshLambertMaterial'\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var name in m ) {\r\n\r\n\t\t\t\tvar value = m[ name ];\r\n\r\n\t\t\t\tswitch ( name ) {\r\n\t\t\t\t\tcase 'DbgColor':\r\n\t\t\t\t\tcase 'DbgIndex':\r\n\t\t\t\t\tcase 'opticalDensity':\r\n\t\t\t\t\tcase 'illumination':\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'DbgName':\r\n\t\t\t\t\t\tjson.name = value;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'blending':\r\n\t\t\t\t\t\tjson.blending = THREE[ value ];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'colorAmbient':\r\n\t\t\t\t\tcase 'mapAmbient':\r\n\t\t\t\t\t\tconsole.warn( 'THREE.Loader.createMaterial:', name, 'is no longer supported.' );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'colorDiffuse':\r\n\t\t\t\t\t\tjson.color = color.fromArray( value ).getHex();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'colorSpecular':\r\n\t\t\t\t\t\tjson.specular = color.fromArray( value ).getHex();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'colorEmissive':\r\n\t\t\t\t\t\tjson.emissive = color.fromArray( value ).getHex();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'specularCoef':\r\n\t\t\t\t\t\tjson.shininess = value;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'shading':\r\n\t\t\t\t\t\tif ( value.toLowerCase() === 'basic' ) json.type = 'MeshBasicMaterial';\r\n\t\t\t\t\t\tif ( value.toLowerCase() === 'phong' ) json.type = 'MeshPhongMaterial';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'mapDiffuse':\r\n\t\t\t\t\t\tjson.map = loadTexture( value, m.mapDiffuseRepeat, m.mapDiffuseOffset, m.mapDiffuseWrap, m.mapDiffuseAnisotropy );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'mapDiffuseRepeat':\r\n\t\t\t\t\tcase 'mapDiffuseOffset':\r\n\t\t\t\t\tcase 'mapDiffuseWrap':\r\n\t\t\t\t\tcase 'mapDiffuseAnisotropy':\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'mapLight':\r\n\t\t\t\t\t\tjson.lightMap = loadTexture( value, m.mapLightRepeat, m.mapLightOffset, m.mapLightWrap, m.mapLightAnisotropy );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'mapLightRepeat':\r\n\t\t\t\t\tcase 'mapLightOffset':\r\n\t\t\t\t\tcase 'mapLightWrap':\r\n\t\t\t\t\tcase 'mapLightAnisotropy':\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'mapAO':\r\n\t\t\t\t\t\tjson.aoMap = loadTexture( value, m.mapAORepeat, m.mapAOOffset, m.mapAOWrap, m.mapAOAnisotropy );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'mapAORepeat':\r\n\t\t\t\t\tcase 'mapAOOffset':\r\n\t\t\t\t\tcase 'mapAOWrap':\r\n\t\t\t\t\tcase 'mapAOAnisotropy':\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'mapBump':\r\n\t\t\t\t\t\tjson.bumpMap = loadTexture( value, m.mapBumpRepeat, m.mapBumpOffset, m.mapBumpWrap, m.mapBumpAnisotropy );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'mapBumpScale':\r\n\t\t\t\t\t\tjson.bumpScale = value;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'mapBumpRepeat':\r\n\t\t\t\t\tcase 'mapBumpOffset':\r\n\t\t\t\t\tcase 'mapBumpWrap':\r\n\t\t\t\t\tcase 'mapBumpAnisotropy':\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'mapNormal':\r\n\t\t\t\t\t\tjson.normalMap = loadTexture( value, m.mapNormalRepeat, m.mapNormalOffset, m.mapNormalWrap, m.mapNormalAnisotropy );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'mapNormalFactor':\r\n\t\t\t\t\t\tjson.normalScale = [ value, value ];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'mapNormalRepeat':\r\n\t\t\t\t\tcase 'mapNormalOffset':\r\n\t\t\t\t\tcase 'mapNormalWrap':\r\n\t\t\t\t\tcase 'mapNormalAnisotropy':\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'mapSpecular':\r\n\t\t\t\t\t\tjson.specularMap = loadTexture( value, m.mapSpecularRepeat, m.mapSpecularOffset, m.mapSpecularWrap, m.mapSpecularAnisotropy );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'mapSpecularRepeat':\r\n\t\t\t\t\tcase 'mapSpecularOffset':\r\n\t\t\t\t\tcase 'mapSpecularWrap':\r\n\t\t\t\t\tcase 'mapSpecularAnisotropy':\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'mapAlpha':\r\n\t\t\t\t\t\tjson.alphaMap = loadTexture( value, m.mapAlphaRepeat, m.mapAlphaOffset, m.mapAlphaWrap, m.mapAlphaAnisotropy );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'mapAlphaRepeat':\r\n\t\t\t\t\tcase 'mapAlphaOffset':\r\n\t\t\t\t\tcase 'mapAlphaWrap':\r\n\t\t\t\t\tcase 'mapAlphaAnisotropy':\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'flipSided':\r\n\t\t\t\t\t\tjson.side = THREE.BackSide;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'doubleSided':\r\n\t\t\t\t\t\tjson.side = THREE.DoubleSide;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'transparency':\r\n\t\t\t\t\t\tconsole.warn( 'THREE.Loader.createMaterial: transparency has been renamed to opacity' );\r\n\t\t\t\t\t\tjson.opacity = value;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'depthTest':\r\n\t\t\t\t\tcase 'depthWrite':\r\n\t\t\t\t\tcase 'colorWrite':\r\n\t\t\t\t\tcase 'opacity':\r\n\t\t\t\t\tcase 'reflectivity':\r\n\t\t\t\t\tcase 'transparent':\r\n\t\t\t\t\tcase 'visible':\r\n\t\t\t\t\tcase 'wireframe':\r\n\t\t\t\t\t\tjson[ name ] = value;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'vertexColors':\r\n\t\t\t\t\t\tif ( value === true ) json.vertexColors = THREE.VertexColors;\r\n\t\t\t\t\t\tif ( value === 'face' ) json.vertexColors = THREE.FaceColors;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.error( 'THREE.Loader.createMaterial: Unsupported', name, value );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( json.type === 'MeshBasicMaterial' ) delete json.emissive;\r\n\t\t\tif ( json.type !== 'MeshPhongMaterial' ) delete json.specular;\r\n\r\n\t\t\tif ( json.opacity < 1 ) json.transparent = true;\r\n\r\n\t\t\tmaterialLoader.setTextures( textures );\r\n\r\n\t\t\treturn materialLoader.parse( json );\r\n\r\n\t\t};\r\n\r\n\t} )()\r\n\r\n};\r\n\r\nTHREE.Loader.Handlers = {\r\n\r\n\thandlers: [],\r\n\r\n\tadd: function ( regex, loader ) {\r\n\r\n\t\tthis.handlers.push( regex, loader );\r\n\r\n\t},\r\n\r\n\tget: function ( file ) {\r\n\r\n\t\tvar handlers = this.handlers;\r\n\r\n\t\tfor ( var i = 0, l = handlers.length; i < l; i += 2 ) {\r\n\r\n\t\t\tvar regex = handlers[ i ];\r\n\t\t\tvar loader  = handlers[ i + 1 ];\r\n\r\n\t\t\tif ( regex.test( file ) ) {\r\n\r\n\t\t\t\treturn loader;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/loaders/XHRLoader.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.XHRLoader = function ( manager ) {\r\n\r\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\r\n\r\n};\r\n\r\nTHREE.XHRLoader.prototype = {\r\n\r\n\tconstructor: THREE.XHRLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tif ( this.path !== undefined ) url = this.path + url;\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar cached = THREE.Cache.get( url );\r\n\r\n\t\tif ( cached !== undefined ) {\r\n\r\n\t\t\tif ( onLoad ) {\r\n\r\n\t\t\t\tsetTimeout( function () {\r\n\r\n\t\t\t\t\tonLoad( cached );\r\n\r\n\t\t\t\t}, 0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn cached;\r\n\r\n\t\t}\r\n\r\n\t\tvar request = new XMLHttpRequest();\r\n\t\trequest.overrideMimeType( 'text/plain' );\r\n\t\trequest.open( 'GET', url, true );\r\n\r\n\t\trequest.addEventListener( 'load', function ( event ) {\r\n\r\n\t\t\tvar response = event.target.response;\r\n\r\n\t\t\tTHREE.Cache.add( url, response );\r\n\r\n\t\t\tif ( this.status === 200 ) {\r\n\r\n\t\t\t\tif ( onLoad ) onLoad( response );\r\n\r\n\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t} else if ( this.status === 0 ) {\r\n\r\n\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\r\n\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\r\n\r\n\t\t\t\tconsole.warn( 'THREE.XHRLoader: HTTP Status 0 received.' );\r\n\r\n\t\t\t\tif ( onLoad ) onLoad( response );\r\n\r\n\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( onError ) onError( event );\r\n\r\n\t\t\t\tscope.manager.itemError( url );\r\n\r\n\t\t\t}\r\n\r\n\t\t}, false );\r\n\r\n\t\tif ( onProgress !== undefined ) {\r\n\r\n\t\t\trequest.addEventListener( 'progress', function ( event ) {\r\n\r\n\t\t\t\tonProgress( event );\r\n\r\n\t\t\t}, false );\r\n\r\n\t\t}\r\n\r\n\t\trequest.addEventListener( 'error', function ( event ) {\r\n\r\n\t\t\tif ( onError ) onError( event );\r\n\r\n\t\t\tscope.manager.itemError( url );\r\n\r\n\t\t}, false );\r\n\r\n\t\tif ( this.responseType !== undefined ) request.responseType = this.responseType;\r\n\t\tif ( this.withCredentials !== undefined ) request.withCredentials = this.withCredentials;\r\n\r\n\t\trequest.send( null );\r\n\r\n\t\tscope.manager.itemStart( url );\r\n\r\n\t\treturn request;\r\n\r\n\t},\r\n\r\n\tsetPath: function ( value ) {\r\n\r\n\t\tthis.path = value;\r\n\r\n\t},\r\n\r\n\tsetResponseType: function ( value ) {\r\n\r\n\t\tthis.responseType = value;\r\n\r\n\t},\r\n\r\n\tsetWithCredentials: function ( value ) {\r\n\r\n\t\tthis.withCredentials = value;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/loaders/FontLoader.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.FontLoader = function ( manager ) {\r\n\r\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\r\n\r\n};\r\n\r\nTHREE.FontLoader.prototype = {\r\n\r\n\tconstructor: THREE.FontLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar loader = new THREE.XHRLoader( this.manager );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\tvar json;\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tjson = JSON.parse( text );\r\n\r\n\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.' );\r\n\t\t\t\tjson = JSON.parse( text.substring( 65, text.length - 2 ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar font = scope.parse( json );\r\n\r\n\t\t\tif ( onLoad ) onLoad( font );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t},\r\n\r\n\tparse: function ( json ) {\r\n\r\n\t\treturn new THREE.Font( json );\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/loaders/ImageLoader.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.ImageLoader = function ( manager ) {\r\n\r\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\r\n\r\n};\r\n\r\nTHREE.ImageLoader.prototype = {\r\n\r\n\tconstructor: THREE.ImageLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tif ( this.path !== undefined ) url = this.path + url;\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar cached = THREE.Cache.get( url );\r\n\r\n\t\tif ( cached !== undefined ) {\r\n\r\n\t\t\tscope.manager.itemStart( url );\r\n\r\n\t\t\tif ( onLoad ) {\r\n\r\n\t\t\t\tsetTimeout( function () {\r\n\r\n\t\t\t\t\tonLoad( cached );\r\n\r\n\t\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t\t}, 0 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn cached;\r\n\r\n\t\t}\r\n\r\n\t\tvar image = document.createElement( 'img' );\r\n\r\n\t\timage.addEventListener( 'load', function ( event ) {\r\n\r\n\t\t\tTHREE.Cache.add( url, this );\r\n\r\n\t\t\tif ( onLoad ) onLoad( this );\r\n\r\n\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t}, false );\r\n\r\n\t\tif ( onProgress !== undefined ) {\r\n\r\n\t\t\timage.addEventListener( 'progress', function ( event ) {\r\n\r\n\t\t\t\tonProgress( event );\r\n\r\n\t\t\t}, false );\r\n\r\n\t\t}\r\n\r\n\t\timage.addEventListener( 'error', function ( event ) {\r\n\r\n\t\t\tif ( onError ) onError( event );\r\n\r\n\t\t\tscope.manager.itemError( url );\r\n\r\n\t\t}, false );\r\n\r\n\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\r\n\r\n\t\tscope.manager.itemStart( url );\r\n\r\n\t\timage.src = url;\r\n\r\n\t\treturn image;\r\n\r\n\t},\r\n\r\n\tsetCrossOrigin: function ( value ) {\r\n\r\n\t\tthis.crossOrigin = value;\r\n\r\n\t},\r\n\r\n\tsetPath: function ( value ) {\r\n\r\n\t\tthis.path = value;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/loaders/JSONLoader.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.JSONLoader = function ( manager ) {\r\n\r\n\tif ( typeof manager === 'boolean' ) {\r\n\r\n\t\tconsole.warn( 'THREE.JSONLoader: showStatus parameter has been removed from constructor.' );\r\n\t\tmanager = undefined;\r\n\r\n\t}\r\n\r\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\r\n\r\n\tthis.withCredentials = false;\r\n\r\n};\r\n\r\nTHREE.JSONLoader.prototype = {\r\n\r\n\tconstructor: THREE.JSONLoader,\r\n\r\n\t// Deprecated\r\n\r\n\tget statusDomElement () {\r\n\r\n\t\tif ( this._statusDomElement === undefined ) {\r\n\r\n\t\t\tthis._statusDomElement = document.createElement( 'div' );\r\n\r\n\t\t}\r\n\r\n\t\tconsole.warn( 'THREE.JSONLoader: .statusDomElement has been removed.' );\r\n\t\treturn this._statusDomElement;\r\n\r\n\t},\r\n\r\n\tload: function( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar texturePath = this.texturePath && ( typeof this.texturePath === \"string\" ) ? this.texturePath : THREE.Loader.prototype.extractUrlBase( url );\r\n\r\n\t\tvar loader = new THREE.XHRLoader( this.manager );\r\n\t\tloader.setWithCredentials( this.withCredentials );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\tvar json = JSON.parse( text );\r\n\t\t\tvar metadata = json.metadata;\r\n\r\n\t\t\tif ( metadata !== undefined ) {\r\n\r\n\t\t\t\tvar type = metadata.type;\r\n\r\n\t\t\t\tif ( type !== undefined ) {\r\n\r\n\t\t\t\t\tif ( type.toLowerCase() === 'object' ) {\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.JSONLoader: ' + url + ' should be loaded with THREE.ObjectLoader instead.' );\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( type.toLowerCase() === 'scene' ) {\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.JSONLoader: ' + url + ' should be loaded with THREE.SceneLoader instead.' );\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar object = scope.parse( json, texturePath );\r\n\t\t\tonLoad( object.geometry, object.materials );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t},\r\n\r\n\tsetTexturePath: function ( value ) {\r\n\r\n\t\tthis.texturePath = value;\r\n\r\n\t},\r\n\r\n\tparse: function ( json, texturePath ) {\r\n\r\n\t\tvar geometry = new THREE.Geometry(),\r\n\t\tscale = ( json.scale !== undefined ) ? 1.0 / json.scale : 1.0;\r\n\r\n\t\tparseModel( scale );\r\n\r\n\t\tparseSkin();\r\n\t\tparseMorphing( scale );\r\n\t\tparseAnimations();\r\n\r\n\t\tgeometry.computeFaceNormals();\r\n\t\tgeometry.computeBoundingSphere();\r\n\r\n\t\tfunction parseModel( scale ) {\r\n\r\n\t\t\tfunction isBitSet( value, position ) {\r\n\r\n\t\t\t\treturn value & ( 1 << position );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar i, j, fi,\r\n\r\n\t\t\toffset, zLength,\r\n\r\n\t\tcolorIndex, normalIndex, uvIndex, materialIndex,\r\n\r\n\t\t\ttype,\r\n\t\t\tisQuad,\r\n\t\t\thasMaterial,\r\n\t\t\thasFaceVertexUv,\r\n\t\t\thasFaceNormal, hasFaceVertexNormal,\r\n\t\t\thasFaceColor, hasFaceVertexColor,\r\n\r\n\t\tvertex, face, faceA, faceB, hex, normal,\r\n\r\n\t\t\tuvLayer, uv, u, v,\r\n\r\n\t\t\tfaces = json.faces,\r\n\t\t\tvertices = json.vertices,\r\n\t\t\tnormals = json.normals,\r\n\t\t\tcolors = json.colors,\r\n\r\n\t\t\tnUvLayers = 0;\r\n\r\n\t\t\tif ( json.uvs !== undefined ) {\r\n\r\n\t\t\t\t// disregard empty arrays\r\n\r\n\t\t\t\tfor ( i = 0; i < json.uvs.length; i ++ ) {\r\n\r\n\t\t\t\t\tif ( json.uvs[ i ].length ) nUvLayers ++;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( i = 0; i < nUvLayers; i ++ ) {\r\n\r\n\t\t\t\t\tgeometry.faceVertexUvs[ i ] = [];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\toffset = 0;\r\n\t\t\tzLength = vertices.length;\r\n\r\n\t\t\twhile ( offset < zLength ) {\r\n\r\n\t\t\t\tvertex = new THREE.Vector3();\r\n\r\n\t\t\t\tvertex.x = vertices[ offset ++ ] * scale;\r\n\t\t\t\tvertex.y = vertices[ offset ++ ] * scale;\r\n\t\t\t\tvertex.z = vertices[ offset ++ ] * scale;\r\n\r\n\t\t\t\tgeometry.vertices.push( vertex );\r\n\r\n\t\t\t}\r\n\r\n\t\t\toffset = 0;\r\n\t\t\tzLength = faces.length;\r\n\r\n\t\t\twhile ( offset < zLength ) {\r\n\r\n\t\t\t\ttype = faces[ offset ++ ];\r\n\r\n\r\n\t\t\t\tisQuad              = isBitSet( type, 0 );\r\n\t\t\t\thasMaterial         = isBitSet( type, 1 );\r\n\t\t\t\thasFaceVertexUv     = isBitSet( type, 3 );\r\n\t\t\t\thasFaceNormal       = isBitSet( type, 4 );\r\n\t\t\t\thasFaceVertexNormal = isBitSet( type, 5 );\r\n\t\t\t\thasFaceColor\t     = isBitSet( type, 6 );\r\n\t\t\t\thasFaceVertexColor  = isBitSet( type, 7 );\r\n\r\n\t\t\t\t// console.log(\"type\", type, \"bits\", isQuad, hasMaterial, hasFaceVertexUv, hasFaceNormal, hasFaceVertexNormal, hasFaceColor, hasFaceVertexColor);\r\n\r\n\t\t\t\tif ( isQuad ) {\r\n\r\n\t\t\t\t\tfaceA = new THREE.Face3();\r\n\t\t\t\t\tfaceA.a = faces[ offset ];\r\n\t\t\t\t\tfaceA.b = faces[ offset + 1 ];\r\n\t\t\t\t\tfaceA.c = faces[ offset + 3 ];\r\n\r\n\t\t\t\t\tfaceB = new THREE.Face3();\r\n\t\t\t\t\tfaceB.a = faces[ offset + 1 ];\r\n\t\t\t\t\tfaceB.b = faces[ offset + 2 ];\r\n\t\t\t\t\tfaceB.c = faces[ offset + 3 ];\r\n\r\n\t\t\t\t\toffset += 4;\r\n\r\n\t\t\t\t\tif ( hasMaterial ) {\r\n\r\n\t\t\t\t\t\tmaterialIndex = faces[ offset ++ ];\r\n\t\t\t\t\t\tfaceA.materialIndex = materialIndex;\r\n\t\t\t\t\t\tfaceB.materialIndex = materialIndex;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// to get face <=> uv index correspondence\r\n\r\n\t\t\t\t\tfi = geometry.faces.length;\r\n\r\n\t\t\t\t\tif ( hasFaceVertexUv ) {\r\n\r\n\t\t\t\t\t\tfor ( i = 0; i < nUvLayers; i ++ ) {\r\n\r\n\t\t\t\t\t\t\tuvLayer = json.uvs[ i ];\r\n\r\n\t\t\t\t\t\t\tgeometry.faceVertexUvs[ i ][ fi ] = [];\r\n\t\t\t\t\t\t\tgeometry.faceVertexUvs[ i ][ fi + 1 ] = [];\r\n\r\n\t\t\t\t\t\t\tfor ( j = 0; j < 4; j ++ ) {\r\n\r\n\t\t\t\t\t\t\t\tuvIndex = faces[ offset ++ ];\r\n\r\n\t\t\t\t\t\t\t\tu = uvLayer[ uvIndex * 2 ];\r\n\t\t\t\t\t\t\t\tv = uvLayer[ uvIndex * 2 + 1 ];\r\n\r\n\t\t\t\t\t\t\t\tuv = new THREE.Vector2( u, v );\r\n\r\n\t\t\t\t\t\t\t\tif ( j !== 2 ) geometry.faceVertexUvs[ i ][ fi ].push( uv );\r\n\t\t\t\t\t\t\t\tif ( j !== 0 ) geometry.faceVertexUvs[ i ][ fi + 1 ].push( uv );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( hasFaceNormal ) {\r\n\r\n\t\t\t\t\t\tnormalIndex = faces[ offset ++ ] * 3;\r\n\r\n\t\t\t\t\t\tfaceA.normal.set(\r\n\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\r\n\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\r\n\t\t\t\t\t\t\tnormals[ normalIndex ]\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tfaceB.normal.copy( faceA.normal );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( hasFaceVertexNormal ) {\r\n\r\n\t\t\t\t\t\tfor ( i = 0; i < 4; i ++ ) {\r\n\r\n\t\t\t\t\t\t\tnormalIndex = faces[ offset ++ ] * 3;\r\n\r\n\t\t\t\t\t\t\tnormal = new THREE.Vector3(\r\n\t\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\r\n\t\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\r\n\t\t\t\t\t\t\t\tnormals[ normalIndex ]\r\n\t\t\t\t\t\t\t);\r\n\r\n\r\n\t\t\t\t\t\t\tif ( i !== 2 ) faceA.vertexNormals.push( normal );\r\n\t\t\t\t\t\t\tif ( i !== 0 ) faceB.vertexNormals.push( normal );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tif ( hasFaceColor ) {\r\n\r\n\t\t\t\t\t\tcolorIndex = faces[ offset ++ ];\r\n\t\t\t\t\t\thex = colors[ colorIndex ];\r\n\r\n\t\t\t\t\t\tfaceA.color.setHex( hex );\r\n\t\t\t\t\t\tfaceB.color.setHex( hex );\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tif ( hasFaceVertexColor ) {\r\n\r\n\t\t\t\t\t\tfor ( i = 0; i < 4; i ++ ) {\r\n\r\n\t\t\t\t\t\t\tcolorIndex = faces[ offset ++ ];\r\n\t\t\t\t\t\t\thex = colors[ colorIndex ];\r\n\r\n\t\t\t\t\t\t\tif ( i !== 2 ) faceA.vertexColors.push( new THREE.Color( hex ) );\r\n\t\t\t\t\t\t\tif ( i !== 0 ) faceB.vertexColors.push( new THREE.Color( hex ) );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tgeometry.faces.push( faceA );\r\n\t\t\t\t\tgeometry.faces.push( faceB );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tface = new THREE.Face3();\r\n\t\t\t\t\tface.a = faces[ offset ++ ];\r\n\t\t\t\t\tface.b = faces[ offset ++ ];\r\n\t\t\t\t\tface.c = faces[ offset ++ ];\r\n\r\n\t\t\t\t\tif ( hasMaterial ) {\r\n\r\n\t\t\t\t\t\tmaterialIndex = faces[ offset ++ ];\r\n\t\t\t\t\t\tface.materialIndex = materialIndex;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// to get face <=> uv index correspondence\r\n\r\n\t\t\t\t\tfi = geometry.faces.length;\r\n\r\n\t\t\t\t\tif ( hasFaceVertexUv ) {\r\n\r\n\t\t\t\t\t\tfor ( i = 0; i < nUvLayers; i ++ ) {\r\n\r\n\t\t\t\t\t\t\tuvLayer = json.uvs[ i ];\r\n\r\n\t\t\t\t\t\t\tgeometry.faceVertexUvs[ i ][ fi ] = [];\r\n\r\n\t\t\t\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\r\n\r\n\t\t\t\t\t\t\t\tuvIndex = faces[ offset ++ ];\r\n\r\n\t\t\t\t\t\t\t\tu = uvLayer[ uvIndex * 2 ];\r\n\t\t\t\t\t\t\t\tv = uvLayer[ uvIndex * 2 + 1 ];\r\n\r\n\t\t\t\t\t\t\t\tuv = new THREE.Vector2( u, v );\r\n\r\n\t\t\t\t\t\t\t\tgeometry.faceVertexUvs[ i ][ fi ].push( uv );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( hasFaceNormal ) {\r\n\r\n\t\t\t\t\t\tnormalIndex = faces[ offset ++ ] * 3;\r\n\r\n\t\t\t\t\t\tface.normal.set(\r\n\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\r\n\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\r\n\t\t\t\t\t\t\tnormals[ normalIndex ]\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( hasFaceVertexNormal ) {\r\n\r\n\t\t\t\t\t\tfor ( i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\t\t\t\t\tnormalIndex = faces[ offset ++ ] * 3;\r\n\r\n\t\t\t\t\t\t\tnormal = new THREE.Vector3(\r\n\t\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\r\n\t\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\r\n\t\t\t\t\t\t\t\tnormals[ normalIndex ]\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\tface.vertexNormals.push( normal );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tif ( hasFaceColor ) {\r\n\r\n\t\t\t\t\t\tcolorIndex = faces[ offset ++ ];\r\n\t\t\t\t\t\tface.color.setHex( colors[ colorIndex ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tif ( hasFaceVertexColor ) {\r\n\r\n\t\t\t\t\t\tfor ( i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\t\t\t\t\tcolorIndex = faces[ offset ++ ];\r\n\t\t\t\t\t\t\tface.vertexColors.push( new THREE.Color( colors[ colorIndex ] ) );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tgeometry.faces.push( face );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseSkin() {\r\n\r\n\t\t\tvar influencesPerVertex = ( json.influencesPerVertex !== undefined ) ? json.influencesPerVertex : 2;\r\n\r\n\t\t\tif ( json.skinWeights ) {\r\n\r\n\t\t\t\tfor ( var i = 0, l = json.skinWeights.length; i < l; i += influencesPerVertex ) {\r\n\r\n\t\t\t\t\tvar x =                               json.skinWeights[ i ];\r\n\t\t\t\t\tvar y = ( influencesPerVertex > 1 ) ? json.skinWeights[ i + 1 ] : 0;\r\n\t\t\t\t\tvar z = ( influencesPerVertex > 2 ) ? json.skinWeights[ i + 2 ] : 0;\r\n\t\t\t\t\tvar w = ( influencesPerVertex > 3 ) ? json.skinWeights[ i + 3 ] : 0;\r\n\r\n\t\t\t\t\tgeometry.skinWeights.push( new THREE.Vector4( x, y, z, w ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( json.skinIndices ) {\r\n\r\n\t\t\t\tfor ( var i = 0, l = json.skinIndices.length; i < l; i += influencesPerVertex ) {\r\n\r\n\t\t\t\t\tvar a =                               json.skinIndices[ i ];\r\n\t\t\t\t\tvar b = ( influencesPerVertex > 1 ) ? json.skinIndices[ i + 1 ] : 0;\r\n\t\t\t\t\tvar c = ( influencesPerVertex > 2 ) ? json.skinIndices[ i + 2 ] : 0;\r\n\t\t\t\t\tvar d = ( influencesPerVertex > 3 ) ? json.skinIndices[ i + 3 ] : 0;\r\n\r\n\t\t\t\t\tgeometry.skinIndices.push( new THREE.Vector4( a, b, c, d ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry.bones = json.bones;\r\n\r\n\t\t\tif ( geometry.bones && geometry.bones.length > 0 && ( geometry.skinWeights.length !== geometry.skinIndices.length || geometry.skinIndices.length !== geometry.vertices.length ) ) {\r\n\r\n\t\t\t\tconsole.warn( 'When skinning, number of vertices (' + geometry.vertices.length + '), skinIndices (' +\r\n\t\t\t\t\tgeometry.skinIndices.length + '), and skinWeights (' + geometry.skinWeights.length + ') should match.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseMorphing( scale ) {\r\n\r\n\t\t\tif ( json.morphTargets !== undefined ) {\r\n\r\n\t\t\t\tfor ( var i = 0, l = json.morphTargets.length; i < l; i ++ ) {\r\n\r\n\t\t\t\t\tgeometry.morphTargets[ i ] = {};\r\n\t\t\t\t\tgeometry.morphTargets[ i ].name = json.morphTargets[ i ].name;\r\n\t\t\t\t\tgeometry.morphTargets[ i ].vertices = [];\r\n\r\n\t\t\t\t\tvar dstVertices = geometry.morphTargets[ i ].vertices;\r\n\t\t\t\t\tvar srcVertices = json.morphTargets[ i ].vertices;\r\n\r\n\t\t\t\t\tfor ( var v = 0, vl = srcVertices.length; v < vl; v += 3 ) {\r\n\r\n\t\t\t\t\t\tvar vertex = new THREE.Vector3();\r\n\t\t\t\t\t\tvertex.x = srcVertices[ v ] * scale;\r\n\t\t\t\t\t\tvertex.y = srcVertices[ v + 1 ] * scale;\r\n\t\t\t\t\t\tvertex.z = srcVertices[ v + 2 ] * scale;\r\n\r\n\t\t\t\t\t\tdstVertices.push( vertex );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( json.morphColors !== undefined && json.morphColors.length > 0 ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.JSONLoader: \"morphColors\" no longer supported. Using them as face colors.' );\r\n\r\n\t\t\t\tvar faces = geometry.faces;\r\n\t\t\t\tvar morphColors = json.morphColors[ 0 ].colors;\r\n\r\n\t\t\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\r\n\r\n\t\t\t\t\tfaces[ i ].color.fromArray( morphColors, i * 3 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseAnimations() {\r\n\r\n\t\t\tvar outputAnimations = [];\r\n\r\n\t\t\t// parse old style Bone/Hierarchy animations\r\n\t\t\tvar animations = [];\r\n\r\n\t\t\tif ( json.animation !== undefined ) {\r\n\r\n\t\t\t\tanimations.push( json.animation );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( json.animations !== undefined ) {\r\n\r\n\t\t\t\tif ( json.animations.length ) {\r\n\r\n\t\t\t\t\tanimations = animations.concat( json.animations );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tanimations.push( json.animations );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var i = 0; i < animations.length; i ++ ) {\r\n\r\n\t\t\t\tvar clip = THREE.AnimationClip.parseAnimation( animations[ i ], geometry.bones );\r\n\t\t\t\tif ( clip ) outputAnimations.push( clip );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// parse implicit morph animations\r\n\t\t\tif ( geometry.morphTargets ) {\r\n\r\n\t\t\t\t// TODO: Figure out what an appropraite FPS is for morph target animations -- defaulting to 10, but really it is completely arbitrary.\r\n\t\t\t\tvar morphAnimationClips = THREE.AnimationClip.CreateClipsFromMorphTargetSequences( geometry.morphTargets, 10 );\r\n\t\t\t\toutputAnimations = outputAnimations.concat( morphAnimationClips );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( outputAnimations.length > 0 ) geometry.animations = outputAnimations;\r\n\r\n\t\t}\r\n\r\n\t\tif ( json.materials === undefined || json.materials.length === 0 ) {\r\n\r\n\t\t\treturn { geometry: geometry };\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar materials = THREE.Loader.prototype.initMaterials( json.materials, texturePath, this.crossOrigin );\r\n\r\n\t\t\treturn { geometry: geometry, materials: materials };\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/loaders/LoadingManager.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.LoadingManager = function ( onLoad, onProgress, onError ) {\r\n\r\n\tvar scope = this;\r\n\r\n\tvar isLoading = false, itemsLoaded = 0, itemsTotal = 0;\r\n\r\n\tthis.onStart = undefined;\r\n\tthis.onLoad = onLoad;\r\n\tthis.onProgress = onProgress;\r\n\tthis.onError = onError;\r\n\r\n\tthis.itemStart = function ( url ) {\r\n\r\n\t\titemsTotal ++;\r\n\r\n\t\tif ( isLoading === false ) {\r\n\r\n\t\t\tif ( scope.onStart !== undefined ) {\r\n\r\n\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tisLoading = true;\r\n\r\n\t};\r\n\r\n\tthis.itemEnd = function ( url ) {\r\n\r\n\t\titemsLoaded ++;\r\n\r\n\t\tif ( scope.onProgress !== undefined ) {\r\n\r\n\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\r\n\r\n\t\t}\r\n\r\n\t\tif ( itemsLoaded === itemsTotal ) {\r\n\r\n\t\t\tisLoading = false;\r\n\r\n\t\t\tif ( scope.onLoad !== undefined ) {\r\n\r\n\t\t\t\tscope.onLoad();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.itemError = function ( url ) {\r\n\r\n\t\tif ( scope.onError !== undefined ) {\r\n\r\n\t\t\tscope.onError( url );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n};\r\n\r\nTHREE.DefaultLoadingManager = new THREE.LoadingManager();\r\n\r\n// File:src/loaders/BufferGeometryLoader.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.BufferGeometryLoader = function ( manager ) {\r\n\r\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\r\n\r\n};\r\n\r\nTHREE.BufferGeometryLoader.prototype = {\r\n\r\n\tconstructor: THREE.BufferGeometryLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar loader = new THREE.XHRLoader( scope.manager );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t},\r\n\r\n\tparse: function ( json ) {\r\n\r\n\t\tvar geometry = new THREE.BufferGeometry();\r\n\r\n\t\tvar index = json.data.index;\r\n\r\n\t\tvar TYPED_ARRAYS = {\r\n\t\t\t'Int8Array': Int8Array,\r\n\t\t\t'Uint8Array': Uint8Array,\r\n\t\t\t'Uint8ClampedArray': Uint8ClampedArray,\r\n\t\t\t'Int16Array': Int16Array,\r\n\t\t\t'Uint16Array': Uint16Array,\r\n\t\t\t'Int32Array': Int32Array,\r\n\t\t\t'Uint32Array': Uint32Array,\r\n\t\t\t'Float32Array': Float32Array,\r\n\t\t\t'Float64Array': Float64Array\r\n\t\t};\r\n\r\n\t\tif ( index !== undefined ) {\r\n\r\n\t\t\tvar typedArray = new TYPED_ARRAYS[ index.type ]( index.array );\r\n\t\t\tgeometry.setIndex( new THREE.BufferAttribute( typedArray, 1 ) );\r\n\r\n\t\t}\r\n\r\n\t\tvar attributes = json.data.attributes;\r\n\r\n\t\tfor ( var key in attributes ) {\r\n\r\n\t\t\tvar attribute = attributes[ key ];\r\n\t\t\tvar typedArray = new TYPED_ARRAYS[ attribute.type ]( attribute.array );\r\n\r\n\t\t\tgeometry.addAttribute( key, new THREE.BufferAttribute( typedArray, attribute.itemSize, attribute.normalized ) );\r\n\r\n\t\t}\r\n\r\n\t\tvar groups = json.data.groups || json.data.drawcalls || json.data.offsets;\r\n\r\n\t\tif ( groups !== undefined ) {\r\n\r\n\t\t\tfor ( var i = 0, n = groups.length; i !== n; ++ i ) {\r\n\r\n\t\t\t\tvar group = groups[ i ];\r\n\r\n\t\t\t\tgeometry.addGroup( group.start, group.count, group.materialIndex );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar boundingSphere = json.data.boundingSphere;\r\n\r\n\t\tif ( boundingSphere !== undefined ) {\r\n\r\n\t\t\tvar center = new THREE.Vector3();\r\n\r\n\t\t\tif ( boundingSphere.center !== undefined ) {\r\n\r\n\t\t\t\tcenter.fromArray( boundingSphere.center );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry.boundingSphere = new THREE.Sphere( center, boundingSphere.radius );\r\n\r\n\t\t}\r\n\r\n\t\treturn geometry;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/loaders/MaterialLoader.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.MaterialLoader = function ( manager ) {\r\n\r\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\r\n\tthis.textures = {};\r\n\r\n};\r\n\r\nTHREE.MaterialLoader.prototype = {\r\n\r\n\tconstructor: THREE.MaterialLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar loader = new THREE.XHRLoader( scope.manager );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t},\r\n\r\n\tsetTextures: function ( value ) {\r\n\r\n\t\tthis.textures = value;\r\n\r\n\t},\r\n\r\n\tgetTexture: function ( name ) {\r\n\r\n\t\tvar textures = this.textures;\r\n\r\n\t\tif ( textures[ name ] === undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\r\n\r\n\t\t}\r\n\r\n\t\treturn textures[ name ];\r\n\r\n\t},\r\n\r\n\tparse: function ( json ) {\r\n\r\n\t\tvar material = new THREE[ json.type ];\r\n\r\n\t\tif ( json.uuid !== undefined ) material.uuid = json.uuid;\r\n\t\tif ( json.name !== undefined ) material.name = json.name;\r\n\t\tif ( json.color !== undefined ) material.color.setHex( json.color );\r\n\t\tif ( json.roughness !== undefined ) material.roughness = json.roughness;\r\n\t\tif ( json.metalness !== undefined ) material.metalness = json.metalness;\r\n\t\tif ( json.emissive !== undefined ) material.emissive.setHex( json.emissive );\r\n\t\tif ( json.specular !== undefined ) material.specular.setHex( json.specular );\r\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\r\n\t\tif ( json.uniforms !== undefined ) material.uniforms = json.uniforms;\r\n\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\r\n\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\r\n\t\tif ( json.vertexColors !== undefined ) material.vertexColors = json.vertexColors;\r\n\t\tif ( json.shading !== undefined ) material.shading = json.shading;\r\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\r\n\t\tif ( json.side !== undefined ) material.side = json.side;\r\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\r\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\r\n\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\r\n\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\r\n\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\r\n\t\tif ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\r\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\r\n\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\r\n\r\n\t\t// for PointsMaterial\r\n\t\tif ( json.size !== undefined ) material.size = json.size;\r\n\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\r\n\r\n\t\t// maps\r\n\r\n\t\tif ( json.map !== undefined ) material.map = this.getTexture( json.map );\r\n\r\n\t\tif ( json.alphaMap !== undefined ) {\r\n\r\n\t\t\tmaterial.alphaMap = this.getTexture( json.alphaMap );\r\n\t\t\tmaterial.transparent = true;\r\n\r\n\t\t}\r\n\r\n\t\tif ( json.bumpMap !== undefined ) material.bumpMap = this.getTexture( json.bumpMap );\r\n\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\r\n\r\n\t\tif ( json.normalMap !== undefined ) material.normalMap = this.getTexture( json.normalMap );\r\n\t\tif ( json.normalScale !== undefined ) {\r\n\r\n\t\t\tvar normalScale = json.normalScale;\r\n\r\n\t\t\tif ( Array.isArray( normalScale ) === false ) {\r\n\r\n\t\t\t\t// Blender exporter used to export a scalar. See #7459\r\n\r\n\t\t\t\tnormalScale = [ normalScale, normalScale ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterial.normalScale = new THREE.Vector2().fromArray( normalScale );\r\n\r\n\t\t}\r\n\r\n\t\tif ( json.displacementMap !== undefined ) material.displacementMap = this.getTexture( json.displacementMap );\r\n\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\r\n\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\r\n\r\n\t\tif ( json.roughnessMap !== undefined ) material.roughnessMap = this.getTexture( json.roughnessMap );\r\n\t\tif ( json.metalnessMap !== undefined ) material.metalnessMap = this.getTexture( json.metalnessMap );\r\n\r\n\t\tif ( json.emissiveMap !== undefined ) material.emissiveMap = this.getTexture( json.emissiveMap );\r\n\t\tif ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\r\n\r\n\t\tif ( json.specularMap !== undefined ) material.specularMap = this.getTexture( json.specularMap );\r\n\r\n\t\tif ( json.envMap !== undefined ) {\r\n\r\n\t\t\tmaterial.envMap = this.getTexture( json.envMap );\r\n\t\t\tmaterial.combine = THREE.MultiplyOperation;\r\n\r\n\t\t}\r\n\r\n\t\tif ( json.reflectivity ) material.reflectivity = json.reflectivity;\r\n\r\n\t\tif ( json.lightMap !== undefined ) material.lightMap = this.getTexture( json.lightMap );\r\n\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\r\n\r\n\t\tif ( json.aoMap !== undefined ) material.aoMap = this.getTexture( json.aoMap );\r\n\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\r\n\r\n\t\t// MultiMaterial\r\n\r\n\t\tif ( json.materials !== undefined ) {\r\n\r\n\t\t\tfor ( var i = 0, l = json.materials.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tmaterial.materials.push( this.parse( json.materials[ i ] ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn material;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/loaders/ObjectLoader.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.ObjectLoader = function ( manager ) {\r\n\r\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\r\n\tthis.texturePath = '';\r\n\r\n};\r\n\r\nTHREE.ObjectLoader.prototype = {\r\n\r\n\tconstructor: THREE.ObjectLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tif ( this.texturePath === '' ) {\r\n\r\n\t\t\tthis.texturePath = url.substring( 0, url.lastIndexOf( '/' ) + 1 );\r\n\r\n\t\t}\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar loader = new THREE.XHRLoader( scope.manager );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\tscope.parse( JSON.parse( text ), onLoad );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t},\r\n\r\n\tsetTexturePath: function ( value ) {\r\n\r\n\t\tthis.texturePath = value;\r\n\r\n\t},\r\n\r\n\tsetCrossOrigin: function ( value ) {\r\n\r\n\t\tthis.crossOrigin = value;\r\n\r\n\t},\r\n\r\n\tparse: function ( json, onLoad ) {\r\n\r\n\t\tvar geometries = this.parseGeometries( json.geometries );\r\n\r\n\t\tvar images = this.parseImages( json.images, function () {\r\n\r\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\r\n\r\n\t\t} );\r\n\r\n\t\tvar textures  = this.parseTextures( json.textures, images );\r\n\t\tvar materials = this.parseMaterials( json.materials, textures );\r\n\r\n\t\tvar object = this.parseObject( json.object, geometries, materials );\r\n\r\n\t\tif ( json.animations ) {\r\n\r\n\t\t\tobject.animations = this.parseAnimations( json.animations );\r\n\r\n\t\t}\r\n\r\n\t\tif ( json.images === undefined || json.images.length === 0 ) {\r\n\r\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\r\n\r\n\t\t}\r\n\r\n\t\treturn object;\r\n\r\n\t},\r\n\r\n\tparseGeometries: function ( json ) {\r\n\r\n\t\tvar geometries = {};\r\n\r\n\t\tif ( json !== undefined ) {\r\n\r\n\t\t\tvar geometryLoader = new THREE.JSONLoader();\r\n\t\t\tvar bufferGeometryLoader = new THREE.BufferGeometryLoader();\r\n\r\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar geometry;\r\n\t\t\t\tvar data = json[ i ];\r\n\r\n\t\t\t\tswitch ( data.type ) {\r\n\r\n\t\t\t\t\tcase 'PlaneGeometry':\r\n\t\t\t\t\tcase 'PlaneBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new THREE[ data.type ](\r\n\t\t\t\t\t\t\tdata.width,\r\n\t\t\t\t\t\t\tdata.height,\r\n\t\t\t\t\t\t\tdata.widthSegments,\r\n\t\t\t\t\t\t\tdata.heightSegments\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'BoxGeometry':\r\n\t\t\t\t\tcase 'BoxBufferGeometry':\r\n\t\t\t\t\tcase 'CubeGeometry': // backwards compatible\r\n\r\n\t\t\t\t\t\tgeometry = new THREE[ data.type ](\r\n\t\t\t\t\t\t\tdata.width,\r\n\t\t\t\t\t\t\tdata.height,\r\n\t\t\t\t\t\t\tdata.depth,\r\n\t\t\t\t\t\t\tdata.widthSegments,\r\n\t\t\t\t\t\t\tdata.heightSegments,\r\n\t\t\t\t\t\t\tdata.depthSegments\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'CircleGeometry':\r\n\t\t\t\t\tcase 'CircleBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new THREE[ data.type ](\r\n\t\t\t\t\t\t\tdata.radius,\r\n\t\t\t\t\t\t\tdata.segments,\r\n\t\t\t\t\t\t\tdata.thetaStart,\r\n\t\t\t\t\t\t\tdata.thetaLength\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'CylinderGeometry':\r\n\t\t\t\t\tcase 'CylinderBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new THREE[ data.type ](\r\n\t\t\t\t\t\t\tdata.radiusTop,\r\n\t\t\t\t\t\t\tdata.radiusBottom,\r\n\t\t\t\t\t\t\tdata.height,\r\n\t\t\t\t\t\t\tdata.radialSegments,\r\n\t\t\t\t\t\t\tdata.heightSegments,\r\n\t\t\t\t\t\t\tdata.openEnded,\r\n\t\t\t\t\t\t\tdata.thetaStart,\r\n\t\t\t\t\t\t\tdata.thetaLength\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'ConeGeometry':\r\n\t\t\t\t\tcase 'ConeBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new THREE [ data.type ](\r\n\t\t\t\t\t\t\tdata.radius,\r\n\t\t\t\t\t\t\tdata.height,\r\n\t\t\t\t\t\t\tdata.radialSegments,\r\n\t\t\t\t\t\t\tdata.heightSegments,\r\n\t\t\t\t\t\t\tdata.openEnded,\r\n\t\t\t\t\t\t\tdata.thetaStart,\r\n\t\t\t\t\t\t\tdata.thetaLength\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'SphereGeometry':\r\n\t\t\t\t\tcase 'SphereBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new THREE[ data.type ](\r\n\t\t\t\t\t\t\tdata.radius,\r\n\t\t\t\t\t\t\tdata.widthSegments,\r\n\t\t\t\t\t\t\tdata.heightSegments,\r\n\t\t\t\t\t\t\tdata.phiStart,\r\n\t\t\t\t\t\t\tdata.phiLength,\r\n\t\t\t\t\t\t\tdata.thetaStart,\r\n\t\t\t\t\t\t\tdata.thetaLength\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'DodecahedronGeometry':\r\n\t\t\t\t\tcase 'IcosahedronGeometry':\r\n\t\t\t\t\tcase 'OctahedronGeometry':\r\n\t\t\t\t\tcase 'TetrahedronGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new THREE[ data.type ](\r\n\t\t\t\t\t\t\tdata.radius,\r\n\t\t\t\t\t\t\tdata.detail\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'RingGeometry':\r\n\t\t\t\t\tcase 'RingBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new THREE[ data.type ](\r\n\t\t\t\t\t\t\tdata.innerRadius,\r\n\t\t\t\t\t\t\tdata.outerRadius,\r\n\t\t\t\t\t\t\tdata.thetaSegments,\r\n\t\t\t\t\t\t\tdata.phiSegments,\r\n\t\t\t\t\t\t\tdata.thetaStart,\r\n\t\t\t\t\t\t\tdata.thetaLength\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'TorusGeometry':\r\n\t\t\t\t\tcase 'TorusBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new THREE[ data.type ](\r\n\t\t\t\t\t\t\tdata.radius,\r\n\t\t\t\t\t\t\tdata.tube,\r\n\t\t\t\t\t\t\tdata.radialSegments,\r\n\t\t\t\t\t\t\tdata.tubularSegments,\r\n\t\t\t\t\t\t\tdata.arc\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'TorusKnotGeometry':\r\n\t\t\t\t\tcase 'TorusKnotBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new THREE[ data.type ](\r\n\t\t\t\t\t\t\tdata.radius,\r\n\t\t\t\t\t\t\tdata.tube,\r\n\t\t\t\t\t\t\tdata.tubularSegments,\r\n\t\t\t\t\t\t\tdata.radialSegments,\r\n\t\t\t\t\t\t\tdata.p,\r\n\t\t\t\t\t\t\tdata.q\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'LatheGeometry':\r\n\t\t\t\t\tcase 'LatheBufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = new THREE[ data.type ](\r\n\t\t\t\t\t\t\tdata.points,\r\n\t\t\t\t\t\t\tdata.segments,\r\n\t\t\t\t\t\t\tdata.phiStart,\r\n\t\t\t\t\t\t\tdata.phiLength\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'BufferGeometry':\r\n\r\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'Geometry':\r\n\r\n\t\t\t\t\t\tgeometry = geometryLoader.parse( data.data, this.texturePath ).geometry;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"' );\r\n\r\n\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgeometry.uuid = data.uuid;\r\n\r\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\r\n\r\n\t\t\t\tgeometries[ data.uuid ] = geometry;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn geometries;\r\n\r\n\t},\r\n\r\n\tparseMaterials: function ( json, textures ) {\r\n\r\n\t\tvar materials = {};\r\n\r\n\t\tif ( json !== undefined ) {\r\n\r\n\t\t\tvar loader = new THREE.MaterialLoader();\r\n\t\t\tloader.setTextures( textures );\r\n\r\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar material = loader.parse( json[ i ] );\r\n\t\t\t\tmaterials[ material.uuid ] = material;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn materials;\r\n\r\n\t},\r\n\r\n\tparseAnimations: function ( json ) {\r\n\r\n\t\tvar animations = [];\r\n\r\n\t\tfor ( var i = 0; i < json.length; i ++ ) {\r\n\r\n\t\t\tvar clip = THREE.AnimationClip.parse( json[ i ] );\r\n\r\n\t\t\tanimations.push( clip );\r\n\r\n\t\t}\r\n\r\n\t\treturn animations;\r\n\r\n\t},\r\n\r\n\tparseImages: function ( json, onLoad ) {\r\n\r\n\t\tvar scope = this;\r\n\t\tvar images = {};\r\n\r\n\t\tfunction loadImage( url ) {\r\n\r\n\t\t\tscope.manager.itemStart( url );\r\n\r\n\t\t\treturn loader.load( url, function () {\r\n\r\n\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\tif ( json !== undefined && json.length > 0 ) {\r\n\r\n\t\t\tvar manager = new THREE.LoadingManager( onLoad );\r\n\r\n\t\t\tvar loader = new THREE.ImageLoader( manager );\r\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\r\n\r\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar image = json[ i ];\r\n\t\t\t\tvar path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( image.url ) ? image.url : scope.texturePath + image.url;\r\n\r\n\t\t\t\timages[ image.uuid ] = loadImage( path );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn images;\r\n\r\n\t},\r\n\r\n\tparseTextures: function ( json, images ) {\r\n\r\n\t\tfunction parseConstant( value ) {\r\n\r\n\t\t\tif ( typeof( value ) === 'number' ) return value;\r\n\r\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\r\n\r\n\t\t\treturn THREE[ value ];\r\n\r\n\t\t}\r\n\r\n\t\tvar textures = {};\r\n\r\n\t\tif ( json !== undefined ) {\r\n\r\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar data = json[ i ];\r\n\r\n\t\t\t\tif ( data.image === undefined ) {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( images[ data.image ] === undefined ) {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar texture = new THREE.Texture( images[ data.image ] );\r\n\t\t\t\ttexture.needsUpdate = true;\r\n\r\n\t\t\t\ttexture.uuid = data.uuid;\r\n\r\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\r\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping );\r\n\t\t\t\tif ( data.offset !== undefined ) texture.offset = new THREE.Vector2( data.offset[ 0 ], data.offset[ 1 ] );\r\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat = new THREE.Vector2( data.repeat[ 0 ], data.repeat[ 1 ] );\r\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter );\r\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter );\r\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\r\n\t\t\t\tif ( Array.isArray( data.wrap ) ) {\r\n\r\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ] );\r\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttextures[ data.uuid ] = texture;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn textures;\r\n\r\n\t},\r\n\r\n\tparseObject: function () {\r\n\r\n\t\tvar matrix = new THREE.Matrix4();\r\n\r\n\t\treturn function ( data, geometries, materials ) {\r\n\r\n\t\t\tvar object;\r\n\r\n\t\t\tfunction getGeometry( name ) {\r\n\r\n\t\t\t\tif ( geometries[ name ] === undefined ) {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn geometries[ name ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction getMaterial( name ) {\r\n\r\n\t\t\t\tif ( name === undefined ) return undefined;\r\n\r\n\t\t\t\tif ( materials[ name ] === undefined ) {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn materials[ name ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tswitch ( data.type ) {\r\n\r\n\t\t\t\tcase 'Scene':\r\n\r\n\t\t\t\t\tobject = new THREE.Scene();\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'PerspectiveCamera':\r\n\r\n\t\t\t\t\tobject = new THREE.PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\r\n\r\n\t\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\r\n\t\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\r\n\t\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\r\n\t\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\r\n\t\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'OrthographicCamera':\r\n\r\n\t\t\t\t\tobject = new THREE.OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'AmbientLight':\r\n\r\n\t\t\t\t\tobject = new THREE.AmbientLight( data.color, data.intensity );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'DirectionalLight':\r\n\r\n\t\t\t\t\tobject = new THREE.DirectionalLight( data.color, data.intensity );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'PointLight':\r\n\r\n\t\t\t\t\tobject = new THREE.PointLight( data.color, data.intensity, data.distance, data.decay );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'SpotLight':\r\n\r\n\t\t\t\t\tobject = new THREE.SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'HemisphereLight':\r\n\r\n\t\t\t\t\tobject = new THREE.HemisphereLight( data.color, data.groundColor, data.intensity );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'Mesh':\r\n\r\n\t\t\t\t\tvar geometry = getGeometry( data.geometry );\r\n\t\t\t\t\tvar material = getMaterial( data.material );\r\n\r\n\t\t\t\t\tif ( geometry.bones && geometry.bones.length > 0 ) {\r\n\r\n\t\t\t\t\t\tobject = new THREE.SkinnedMesh( geometry, material );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tobject = new THREE.Mesh( geometry, material );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'LOD':\r\n\r\n\t\t\t\t\tobject = new THREE.LOD();\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'Line':\r\n\r\n\t\t\t\t\tobject = new THREE.Line( getGeometry( data.geometry ), getMaterial( data.material ), data.mode );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'PointCloud':\r\n\t\t\t\tcase 'Points':\r\n\r\n\t\t\t\t\tobject = new THREE.Points( getGeometry( data.geometry ), getMaterial( data.material ) );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'Sprite':\r\n\r\n\t\t\t\t\tobject = new THREE.Sprite( getMaterial( data.material ) );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'Group':\r\n\r\n\t\t\t\t\tobject = new THREE.Group();\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\r\n\t\t\t\t\tobject = new THREE.Object3D();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tobject.uuid = data.uuid;\r\n\r\n\t\t\tif ( data.name !== undefined ) object.name = data.name;\r\n\t\t\tif ( data.matrix !== undefined ) {\r\n\r\n\t\t\t\tmatrix.fromArray( data.matrix );\r\n\t\t\t\tmatrix.decompose( object.position, object.quaternion, object.scale );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\r\n\t\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\r\n\t\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\r\n\t\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\r\n\r\n\t\t\tif ( data.visible !== undefined ) object.visible = data.visible;\r\n\t\t\tif ( data.userData !== undefined ) object.userData = data.userData;\r\n\r\n\t\t\tif ( data.children !== undefined ) {\r\n\r\n\t\t\t\tfor ( var child in data.children ) {\r\n\r\n\t\t\t\t\tobject.add( this.parseObject( data.children[ child ], geometries, materials ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( data.type === 'LOD' ) {\r\n\r\n\t\t\t\tvar levels = data.levels;\r\n\r\n\t\t\t\tfor ( var l = 0; l < levels.length; l ++ ) {\r\n\r\n\t\t\t\t\tvar level = levels[ l ];\r\n\t\t\t\t\tvar child = object.getObjectByProperty( 'uuid', level.object );\r\n\r\n\t\t\t\t\tif ( child !== undefined ) {\r\n\r\n\t\t\t\t\t\tobject.addLevel( child, level.distance );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn object;\r\n\r\n\t\t};\r\n\r\n\t}()\r\n\r\n};\r\n\r\n// File:src/loaders/TextureLoader.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.TextureLoader = function ( manager ) {\r\n\r\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\r\n\r\n};\r\n\r\nTHREE.TextureLoader.prototype = {\r\n\r\n\tconstructor: THREE.TextureLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar texture = new THREE.Texture();\r\n\r\n\t\tvar loader = new THREE.ImageLoader( this.manager );\r\n\t\tloader.setCrossOrigin( this.crossOrigin );\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.load( url, function ( image ) {\r\n\r\n\t\t\ttexture.image = image;\r\n\t\t\ttexture.needsUpdate = true;\r\n\r\n\t\t\tif ( onLoad !== undefined ) {\r\n\r\n\t\t\t\tonLoad( texture );\r\n\r\n\t\t\t}\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t\treturn texture;\r\n\r\n\t},\r\n\r\n\tsetCrossOrigin: function ( value ) {\r\n\r\n\t\tthis.crossOrigin = value;\r\n\r\n\t},\r\n\r\n\tsetPath: function ( value ) {\r\n\r\n\t\tthis.path = value;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/loaders/CubeTextureLoader.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.CubeTextureLoader = function ( manager ) {\r\n\r\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\r\n\r\n};\r\n\r\nTHREE.CubeTextureLoader.prototype = {\r\n\r\n\tconstructor: THREE.CubeTextureLoader,\r\n\r\n\tload: function ( urls, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar texture = new THREE.CubeTexture();\r\n\r\n\t\tvar loader = new THREE.ImageLoader( this.manager );\r\n\t\tloader.setCrossOrigin( this.crossOrigin );\r\n\t\tloader.setPath( this.path );\r\n\r\n\t\tvar loaded = 0;\r\n\r\n\t\tfunction loadTexture( i ) {\r\n\r\n\t\t\tloader.load( urls[ i ], function ( image ) {\r\n\r\n\t\t\t\ttexture.images[ i ] = image;\r\n\r\n\t\t\t\tloaded ++;\r\n\r\n\t\t\t\tif ( loaded === 6 ) {\r\n\r\n\t\t\t\t\ttexture.needsUpdate = true;\r\n\r\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, undefined, onError );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0; i < urls.length; ++ i ) {\r\n\r\n\t\t\tloadTexture( i );\r\n\r\n\t\t}\r\n\r\n\t\treturn texture;\r\n\r\n\t},\r\n\r\n\tsetCrossOrigin: function ( value ) {\r\n\r\n\t\tthis.crossOrigin = value;\r\n\r\n\t},\r\n\r\n\tsetPath: function ( value ) {\r\n\r\n\t\tthis.path = value;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/loaders/BinaryTextureLoader.js\r\n\r\n/**\r\n * @author Nikos M. / https://github.com/foo123/\r\n *\r\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\r\n */\r\n\r\nTHREE.DataTextureLoader = THREE.BinaryTextureLoader = function ( manager ) {\r\n\r\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\r\n\r\n\t// override in sub classes\r\n\tthis._parser = null;\r\n\r\n};\r\n\r\nTHREE.BinaryTextureLoader.prototype = {\r\n\r\n\tconstructor: THREE.BinaryTextureLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar texture = new THREE.DataTexture();\r\n\r\n\t\tvar loader = new THREE.XHRLoader( this.manager );\r\n\t\tloader.setResponseType( 'arraybuffer' );\r\n\r\n\t\tloader.load( url, function ( buffer ) {\r\n\r\n\t\t\tvar texData = scope._parser( buffer );\r\n\r\n\t\t\tif ( ! texData ) return;\r\n\r\n\t\t\tif ( undefined !== texData.image ) {\r\n\r\n\t\t\t\ttexture.image = texData.image;\r\n\r\n\t\t\t} else if ( undefined !== texData.data ) {\r\n\r\n\t\t\t\ttexture.image.width = texData.width;\r\n\t\t\t\ttexture.image.height = texData.height;\r\n\t\t\t\ttexture.image.data = texData.data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttexture.wrapS = undefined !== texData.wrapS ? texData.wrapS : THREE.ClampToEdgeWrapping;\r\n\t\t\ttexture.wrapT = undefined !== texData.wrapT ? texData.wrapT : THREE.ClampToEdgeWrapping;\r\n\r\n\t\t\ttexture.magFilter = undefined !== texData.magFilter ? texData.magFilter : THREE.LinearFilter;\r\n\t\t\ttexture.minFilter = undefined !== texData.minFilter ? texData.minFilter : THREE.LinearMipMapLinearFilter;\r\n\r\n\t\t\ttexture.anisotropy = undefined !== texData.anisotropy ? texData.anisotropy : 1;\r\n\r\n\t\t\tif ( undefined !== texData.format ) {\r\n\r\n\t\t\t\ttexture.format = texData.format;\r\n\r\n\t\t\t}\r\n\t\t\tif ( undefined !== texData.type ) {\r\n\r\n\t\t\t\ttexture.type = texData.type;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( undefined !== texData.mipmaps ) {\r\n\r\n\t\t\t\ttexture.mipmaps = texData.mipmaps;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( 1 === texData.mipmapCount ) {\r\n\r\n\t\t\t\ttexture.minFilter = THREE.LinearFilter;\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttexture.needsUpdate = true;\r\n\r\n\t\t\tif ( onLoad ) onLoad( texture, texData );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\r\n\t\treturn texture;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/loaders/CompressedTextureLoader.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n *\r\n * Abstract Base class to block based textures loader (dds, pvr, ...)\r\n */\r\n\r\nTHREE.CompressedTextureLoader = function ( manager ) {\r\n\r\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\r\n\r\n\t// override in sub classes\r\n\tthis._parser = null;\r\n\r\n};\r\n\r\n\r\nTHREE.CompressedTextureLoader.prototype = {\r\n\r\n\tconstructor: THREE.CompressedTextureLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar images = [];\r\n\r\n\t\tvar texture = new THREE.CompressedTexture();\r\n\t\ttexture.image = images;\r\n\r\n\t\tvar loader = new THREE.XHRLoader( this.manager );\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.setResponseType( 'arraybuffer' );\r\n\r\n\t\tfunction loadTexture( i ) {\r\n\r\n\t\t\tloader.load( url[ i ], function ( buffer ) {\r\n\r\n\t\t\t\tvar texDatas = scope._parser( buffer, true );\r\n\r\n\t\t\t\timages[ i ] = {\r\n\t\t\t\t\twidth: texDatas.width,\r\n\t\t\t\t\theight: texDatas.height,\r\n\t\t\t\t\tformat: texDatas.format,\r\n\t\t\t\t\tmipmaps: texDatas.mipmaps\r\n\t\t\t\t};\r\n\r\n\t\t\t\tloaded += 1;\r\n\r\n\t\t\t\tif ( loaded === 6 ) {\r\n\r\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 )\r\n\t\t\t\t\t\ttexture.minFilter = THREE.LinearFilter;\r\n\r\n\t\t\t\t\ttexture.format = texDatas.format;\r\n\t\t\t\t\ttexture.needsUpdate = true;\r\n\r\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, onProgress, onError );\r\n\r\n\t\t}\r\n\r\n\t\tif ( Array.isArray( url ) ) {\r\n\r\n\t\t\tvar loaded = 0;\r\n\r\n\t\t\tfor ( var i = 0, il = url.length; i < il; ++ i ) {\r\n\r\n\t\t\t\tloadTexture( i );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// compressed cubemap texture stored in a single DDS file\r\n\r\n\t\t\tloader.load( url, function ( buffer ) {\r\n\r\n\t\t\t\tvar texDatas = scope._parser( buffer, true );\r\n\r\n\t\t\t\tif ( texDatas.isCubemap ) {\r\n\r\n\t\t\t\t\tvar faces = texDatas.mipmaps.length / texDatas.mipmapCount;\r\n\r\n\t\t\t\t\tfor ( var f = 0; f < faces; f ++ ) {\r\n\r\n\t\t\t\t\t\timages[ f ] = { mipmaps : [] };\r\n\r\n\t\t\t\t\t\tfor ( var i = 0; i < texDatas.mipmapCount; i ++ ) {\r\n\r\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\r\n\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\r\n\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\r\n\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\ttexture.image.width = texDatas.width;\r\n\t\t\t\t\ttexture.image.height = texDatas.height;\r\n\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\r\n\r\n\t\t\t\t\ttexture.minFilter = THREE.LinearFilter;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttexture.format = texDatas.format;\r\n\t\t\t\ttexture.needsUpdate = true;\r\n\r\n\t\t\t\tif ( onLoad ) onLoad( texture );\r\n\r\n\t\t\t}, onProgress, onError );\r\n\r\n\t\t}\r\n\r\n\t\treturn texture;\r\n\r\n\t},\r\n\r\n\tsetPath: function ( value ) {\r\n\r\n\t\tthis.path = value;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/materials/Material.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.Material = function () {\r\n\r\n\tObject.defineProperty( this, 'id', { value: THREE.MaterialIdCount ++ } );\r\n\r\n\tthis.uuid = THREE.Math.generateUUID();\r\n\r\n\tthis.name = '';\r\n\tthis.type = 'Material';\r\n\r\n\tthis.fog = true;\r\n\tthis.lights = true;\r\n\r\n\tthis.blending = THREE.NormalBlending;\r\n\tthis.side = THREE.FrontSide;\r\n\tthis.shading = THREE.SmoothShading; // THREE.FlatShading, THREE.SmoothShading\r\n\tthis.vertexColors = THREE.NoColors; // THREE.NoColors, THREE.VertexColors, THREE.FaceColors\r\n\r\n\tthis.opacity = 1;\r\n\tthis.transparent = false;\r\n\r\n\tthis.blendSrc = THREE.SrcAlphaFactor;\r\n\tthis.blendDst = THREE.OneMinusSrcAlphaFactor;\r\n\tthis.blendEquation = THREE.AddEquation;\r\n\tthis.blendSrcAlpha = null;\r\n\tthis.blendDstAlpha = null;\r\n\tthis.blendEquationAlpha = null;\r\n\r\n\tthis.depthFunc = THREE.LessEqualDepth;\r\n\tthis.depthTest = true;\r\n\tthis.depthWrite = true;\r\n\r\n\tthis.clippingPlanes = null;\r\n\tthis.clipShadows = false;\r\n\r\n\tthis.colorWrite = true;\r\n\r\n\tthis.precision = null; // override the renderer's default precision for this material\r\n\r\n\tthis.polygonOffset = false;\r\n\tthis.polygonOffsetFactor = 0;\r\n\tthis.polygonOffsetUnits = 0;\r\n\r\n\tthis.alphaTest = 0;\r\n\tthis.premultipliedAlpha = false;\r\n\r\n\tthis.overdraw = 0; // Overdrawn pixels (typically between 0 and 1) for fixing antialiasing gaps in CanvasRenderer\r\n\r\n\tthis.visible = true;\r\n\r\n\tthis._needsUpdate = true;\r\n\r\n};\r\n\r\nTHREE.Material.prototype = {\r\n\r\n\tconstructor: THREE.Material,\r\n\r\n\tget needsUpdate() {\r\n\r\n\t\treturn this._needsUpdate;\r\n\r\n\t},\r\n\r\n\tset needsUpdate( value ) {\r\n\r\n\t\tif ( value === true ) this.update();\r\n\t\tthis._needsUpdate = value;\r\n\r\n\t},\r\n\r\n\tsetValues: function ( values ) {\r\n\r\n\t\tif ( values === undefined ) return;\r\n\r\n\t\tfor ( var key in values ) {\r\n\r\n\t\t\tvar newValue = values[ key ];\r\n\r\n\t\t\tif ( newValue === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( \"THREE.Material: '\" + key + \"' parameter is undefined.\" );\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar currentValue = this[ key ];\r\n\r\n\t\t\tif ( currentValue === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( \"THREE.\" + this.type + \": '\" + key + \"' is not a property of this material.\" );\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( currentValue instanceof THREE.Color ) {\r\n\r\n\t\t\t\tcurrentValue.set( newValue );\r\n\r\n\t\t\t} else if ( currentValue instanceof THREE.Vector3 && newValue instanceof THREE.Vector3 ) {\r\n\r\n\t\t\t\tcurrentValue.copy( newValue );\r\n\r\n\t\t\t} else if ( key === 'overdraw' ) {\r\n\r\n\t\t\t\t// ensure overdraw is backwards-compatible with legacy boolean type\r\n\t\t\t\tthis[ key ] = Number( newValue );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis[ key ] = newValue;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tvar isRoot = meta === undefined;\r\n\r\n\t\tif ( isRoot ) {\r\n\r\n\t\t\tmeta = {\r\n\t\t\t\ttextures: {},\r\n\t\t\t\timages: {}\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tvar data = {\r\n\t\t\tmetadata: {\r\n\t\t\t\tversion: 4.4,\r\n\t\t\t\ttype: 'Material',\r\n\t\t\t\tgenerator: 'Material.toJSON'\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// standard Material serialization\r\n\t\tdata.uuid = this.uuid;\r\n\t\tdata.type = this.type;\r\n\r\n\t\tif ( this.name !== '' ) data.name = this.name;\r\n\r\n\t\tif ( this.color instanceof THREE.Color ) data.color = this.color.getHex();\r\n\r\n\t\tif ( this.roughness !== 0.5 ) data.roughness = this.roughness;\r\n\t\tif ( this.metalness !== 0.5 ) data.metalness = this.metalness;\r\n\r\n\t\tif ( this.emissive instanceof THREE.Color ) data.emissive = this.emissive.getHex();\r\n\t\tif ( this.specular instanceof THREE.Color ) data.specular = this.specular.getHex();\r\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\r\n\r\n\t\tif ( this.map instanceof THREE.Texture ) data.map = this.map.toJSON( meta ).uuid;\r\n\t\tif ( this.alphaMap instanceof THREE.Texture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\r\n\t\tif ( this.lightMap instanceof THREE.Texture ) data.lightMap = this.lightMap.toJSON( meta ).uuid;\r\n\t\tif ( this.bumpMap instanceof THREE.Texture ) {\r\n\r\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\r\n\t\t\tdata.bumpScale = this.bumpScale;\r\n\r\n\t\t}\r\n\t\tif ( this.normalMap instanceof THREE.Texture ) {\r\n\r\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\r\n\t\t\tdata.normalScale = this.normalScale.toArray();\r\n\r\n\t\t}\r\n\t\tif ( this.displacementMap instanceof THREE.Texture ) {\r\n\r\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\r\n\t\t\tdata.displacementScale = this.displacementScale;\r\n\t\t\tdata.displacementBias = this.displacementBias;\r\n\r\n\t\t}\r\n\t\tif ( this.roughnessMap instanceof THREE.Texture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\r\n\t\tif ( this.metalnessMap instanceof THREE.Texture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.emissiveMap instanceof THREE.Texture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\r\n\t\tif ( this.specularMap instanceof THREE.Texture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.envMap instanceof THREE.Texture ) {\r\n\r\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\r\n\t\t\tdata.reflectivity = this.reflectivity; // Scale behind envMap\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.size !== undefined ) data.size = this.size;\r\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\r\n\r\n\t\tif ( this.blending !== THREE.NormalBlending ) data.blending = this.blending;\r\n\t\tif ( this.shading !== THREE.SmoothShading ) data.shading = this.shading;\r\n\t\tif ( this.side !== THREE.FrontSide ) data.side = this.side;\r\n\t\tif ( this.vertexColors !== THREE.NoColors ) data.vertexColors = this.vertexColors;\r\n\r\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\r\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\r\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\r\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\r\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\r\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\r\n\r\n\t\t// TODO: Copied from Object3D.toJSON\r\n\r\n\t\tfunction extractFromCache ( cache ) {\r\n\r\n\t\t\tvar values = [];\r\n\r\n\t\t\tfor ( var key in cache ) {\r\n\r\n\t\t\t\tvar data = cache[ key ];\r\n\t\t\t\tdelete data.metadata;\r\n\t\t\t\tvalues.push( data );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn values;\r\n\r\n\t\t}\r\n\r\n\t\tif ( isRoot ) {\r\n\r\n\t\t\tvar textures = extractFromCache( meta.textures );\r\n\t\t\tvar images = extractFromCache( meta.images );\r\n\r\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\r\n\t\t\tif ( images.length > 0 ) data.images = images;\r\n\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.name = source.name;\r\n\r\n\t\tthis.fog = source.fog;\r\n\t\tthis.lights = source.lights;\r\n\r\n\t\tthis.blending = source.blending;\r\n\t\tthis.side = source.side;\r\n\t\tthis.vertexColors = source.vertexColors;\r\n\r\n\t\tthis.opacity = source.opacity;\r\n\t\tthis.transparent = source.transparent;\r\n\r\n\t\tthis.blendSrc = source.blendSrc;\r\n\t\tthis.blendDst = source.blendDst;\r\n\t\tthis.blendEquation = source.blendEquation;\r\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\r\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\r\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\r\n\r\n\t\tthis.depthFunc = source.depthFunc;\r\n\t\tthis.depthTest = source.depthTest;\r\n\t\tthis.depthWrite = source.depthWrite;\r\n\r\n\t\tthis.colorWrite = source.colorWrite;\r\n\r\n\t\tthis.precision = source.precision;\r\n\r\n\t\tthis.polygonOffset = source.polygonOffset;\r\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\r\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\r\n\r\n\t\tthis.alphaTest = source.alphaTest;\r\n\r\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\r\n\r\n\t\tthis.overdraw = source.overdraw;\r\n\r\n\t\tthis.visible = source.visible;\r\n\t\tthis.clipShadows = source.clipShadows;\r\n\r\n\t\tvar srcPlanes = source.clippingPlanes,\r\n\t\t\tdstPlanes = null;\r\n\r\n\t\tif ( srcPlanes !== null ) {\r\n\r\n\t\t\tvar n = srcPlanes.length;\r\n\t\t\tdstPlanes = new Array( n );\r\n\r\n\t\t\tfor ( var i = 0; i !== n; ++ i )\r\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\r\n\r\n\t\t}\r\n\r\n\t\tthis.clippingPlanes = dstPlanes;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tupdate: function () {\r\n\r\n\t\tthis.dispatchEvent( { type: 'update' } );\r\n\r\n\t},\r\n\r\n\tdispose: function () {\r\n\r\n\t\tthis.dispatchEvent( { type: 'dispose' } );\r\n\r\n\t}\r\n\r\n};\r\n\r\nObject.assign( THREE.Material.prototype, THREE.EventDispatcher.prototype );\r\n\r\nTHREE.MaterialIdCount = 0;\r\n\r\n// File:src/materials/LineBasicMaterial.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n *\r\n * parameters = {\r\n *  color: <hex>,\r\n *  opacity: <float>,\r\n *\r\n *  linewidth: <float>,\r\n *  linecap: \"round\",\r\n *  linejoin: \"round\"\r\n * }\r\n */\r\n\r\nTHREE.LineBasicMaterial = function ( parameters ) {\r\n\r\n\tTHREE.Material.call( this );\r\n\r\n\tthis.type = 'LineBasicMaterial';\r\n\r\n\tthis.color = new THREE.Color( 0xffffff );\r\n\r\n\tthis.linewidth = 1;\r\n\tthis.linecap = 'round';\r\n\tthis.linejoin = 'round';\r\n\r\n\tthis.lights = false;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n};\r\n\r\nTHREE.LineBasicMaterial.prototype = Object.create( THREE.Material.prototype );\r\nTHREE.LineBasicMaterial.prototype.constructor = THREE.LineBasicMaterial;\r\n\r\nTHREE.LineBasicMaterial.prototype.copy = function ( source ) {\r\n\r\n\tTHREE.Material.prototype.copy.call( this, source );\r\n\r\n\tthis.color.copy( source.color );\r\n\r\n\tthis.linewidth = source.linewidth;\r\n\tthis.linecap = source.linecap;\r\n\tthis.linejoin = source.linejoin;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n// File:src/materials/LineDashedMaterial.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n *\r\n * parameters = {\r\n *  color: <hex>,\r\n *  opacity: <float>,\r\n *\r\n *  linewidth: <float>,\r\n *\r\n *  scale: <float>,\r\n *  dashSize: <float>,\r\n *  gapSize: <float>\r\n * }\r\n */\r\n\r\nTHREE.LineDashedMaterial = function ( parameters ) {\r\n\r\n\tTHREE.Material.call( this );\r\n\r\n\tthis.type = 'LineDashedMaterial';\r\n\r\n\tthis.color = new THREE.Color( 0xffffff );\r\n\r\n\tthis.linewidth = 1;\r\n\r\n\tthis.scale = 1;\r\n\tthis.dashSize = 3;\r\n\tthis.gapSize = 1;\r\n\r\n\tthis.lights = false;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n};\r\n\r\nTHREE.LineDashedMaterial.prototype = Object.create( THREE.Material.prototype );\r\nTHREE.LineDashedMaterial.prototype.constructor = THREE.LineDashedMaterial;\r\n\r\nTHREE.LineDashedMaterial.prototype.copy = function ( source ) {\r\n\r\n\tTHREE.Material.prototype.copy.call( this, source );\r\n\r\n\tthis.color.copy( source.color );\r\n\r\n\tthis.linewidth = source.linewidth;\r\n\r\n\tthis.scale = source.scale;\r\n\tthis.dashSize = source.dashSize;\r\n\tthis.gapSize = source.gapSize;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n// File:src/materials/MeshBasicMaterial.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n *\r\n * parameters = {\r\n *  color: <hex>,\r\n *  opacity: <float>,\r\n *  map: new THREE.Texture( <Image> ),\r\n *\r\n *  aoMap: new THREE.Texture( <Image> ),\r\n *  aoMapIntensity: <float>\r\n *\r\n *  specularMap: new THREE.Texture( <Image> ),\r\n *\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *\r\n *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\r\n *  combine: THREE.Multiply,\r\n *  reflectivity: <float>,\r\n *  refractionRatio: <float>,\r\n *\r\n *  shading: THREE.SmoothShading,\r\n *  depthTest: <bool>,\r\n *  depthWrite: <bool>,\r\n *\r\n *  wireframe: <boolean>,\r\n *  wireframeLinewidth: <float>,\r\n *\r\n *  skinning: <bool>,\r\n *  morphTargets: <bool>\r\n * }\r\n */\r\n\r\nTHREE.MeshBasicMaterial = function ( parameters ) {\r\n\r\n\tTHREE.Material.call( this );\r\n\r\n\tthis.type = 'MeshBasicMaterial';\r\n\r\n\tthis.color = new THREE.Color( 0xffffff ); // emissive\r\n\r\n\tthis.map = null;\r\n\r\n\tthis.aoMap = null;\r\n\tthis.aoMapIntensity = 1.0;\r\n\r\n\tthis.specularMap = null;\r\n\r\n\tthis.alphaMap = null;\r\n\r\n\tthis.envMap = null;\r\n\tthis.combine = THREE.MultiplyOperation;\r\n\tthis.reflectivity = 1;\r\n\tthis.refractionRatio = 0.98;\r\n\r\n\tthis.wireframe = false;\r\n\tthis.wireframeLinewidth = 1;\r\n\tthis.wireframeLinecap = 'round';\r\n\tthis.wireframeLinejoin = 'round';\r\n\r\n\tthis.skinning = false;\r\n\tthis.morphTargets = false;\r\n\r\n\tthis.lights = false;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n};\r\n\r\nTHREE.MeshBasicMaterial.prototype = Object.create( THREE.Material.prototype );\r\nTHREE.MeshBasicMaterial.prototype.constructor = THREE.MeshBasicMaterial;\r\n\r\nTHREE.MeshBasicMaterial.prototype.copy = function ( source ) {\r\n\r\n\tTHREE.Material.prototype.copy.call( this, source );\r\n\r\n\tthis.color.copy( source.color );\r\n\r\n\tthis.map = source.map;\r\n\r\n\tthis.aoMap = source.aoMap;\r\n\tthis.aoMapIntensity = source.aoMapIntensity;\r\n\r\n\tthis.specularMap = source.specularMap;\r\n\r\n\tthis.alphaMap = source.alphaMap;\r\n\r\n\tthis.envMap = source.envMap;\r\n\tthis.combine = source.combine;\r\n\tthis.reflectivity = source.reflectivity;\r\n\tthis.refractionRatio = source.refractionRatio;\r\n\r\n\tthis.wireframe = source.wireframe;\r\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\r\n\tthis.wireframeLinecap = source.wireframeLinecap;\r\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\r\n\r\n\tthis.skinning = source.skinning;\r\n\tthis.morphTargets = source.morphTargets;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n// File:src/materials/MeshDepthMaterial.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author bhouston / https://clara.io\r\n * @author WestLangley / http://github.com/WestLangley\r\n *\r\n * parameters = {\r\n *\r\n *  opacity: <float>,\r\n *\r\n *  map: new THREE.Texture( <Image> ),\r\n *\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *\r\n *  displacementMap: new THREE.Texture( <Image> ),\r\n *  displacementScale: <float>,\r\n *  displacementBias: <float>,\r\n *\r\n *  wireframe: <boolean>,\r\n *  wireframeLinewidth: <float>\r\n * }\r\n */\r\n\r\nTHREE.MeshDepthMaterial = function ( parameters ) {\r\n\r\n\tTHREE.Material.call( this );\r\n\r\n\tthis.type = 'MeshDepthMaterial';\r\n\r\n\tthis.depthPacking = THREE.BasicDepthPacking;\r\n\r\n\tthis.skinning = false;\r\n\tthis.morphTargets = false;\r\n\r\n\tthis.map = null;\r\n\r\n\tthis.alphaMap = null;\r\n\r\n\tthis.displacementMap = null;\r\n\tthis.displacementScale = 1;\r\n\tthis.displacementBias = 0;\r\n\r\n\tthis.wireframe = false;\r\n\tthis.wireframeLinewidth = 1;\r\n\r\n\tthis.fog = false;\r\n\tthis.lights = false;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n};\r\n\r\nTHREE.MeshDepthMaterial.prototype = Object.create( THREE.Material.prototype );\r\nTHREE.MeshDepthMaterial.prototype.constructor = THREE.MeshDepthMaterial;\r\n\r\nTHREE.MeshDepthMaterial.prototype.copy = function ( source ) {\r\n\r\n\tTHREE.Material.prototype.copy.call( this, source );\r\n\r\n\tthis.depthPacking = source.depthPacking;\r\n\r\n\tthis.skinning = source.skinning;\r\n\tthis.morphTargets = source.morphTargets;\r\n\r\n\tthis.map = source.map;\r\n\r\n\tthis.alphaMap = source.alphaMap;\r\n\r\n\tthis.displacementMap = source.displacementMap;\r\n\tthis.displacementScale = source.displacementScale;\r\n\tthis.displacementBias = source.displacementBias;\r\n\r\n\tthis.wireframe = source.wireframe;\r\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n// File:src/materials/MeshLambertMaterial.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n *\r\n * parameters = {\r\n *  color: <hex>,\r\n *  opacity: <float>,\r\n *\r\n *  map: new THREE.Texture( <Image> ),\r\n *\r\n *  lightMap: new THREE.Texture( <Image> ),\r\n *  lightMapIntensity: <float>\r\n *\r\n *  aoMap: new THREE.Texture( <Image> ),\r\n *  aoMapIntensity: <float>\r\n *\r\n *  emissive: <hex>,\r\n *  emissiveIntensity: <float>\r\n *  emissiveMap: new THREE.Texture( <Image> ),\r\n *\r\n *  specularMap: new THREE.Texture( <Image> ),\r\n *\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *\r\n *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\r\n *  combine: THREE.Multiply,\r\n *  reflectivity: <float>,\r\n *  refractionRatio: <float>,\r\n *\r\n *  wireframe: <boolean>,\r\n *  wireframeLinewidth: <float>,\r\n *\r\n *  skinning: <bool>,\r\n *  morphTargets: <bool>,\r\n *  morphNormals: <bool>\r\n * }\r\n */\r\n\r\nTHREE.MeshLambertMaterial = function ( parameters ) {\r\n\r\n\tTHREE.Material.call( this );\r\n\r\n\tthis.type = 'MeshLambertMaterial';\r\n\r\n\tthis.color = new THREE.Color( 0xffffff ); // diffuse\r\n\r\n\tthis.map = null;\r\n\r\n\tthis.lightMap = null;\r\n\tthis.lightMapIntensity = 1.0;\r\n\r\n\tthis.aoMap = null;\r\n\tthis.aoMapIntensity = 1.0;\r\n\r\n\tthis.emissive = new THREE.Color( 0x000000 );\r\n\tthis.emissiveIntensity = 1.0;\r\n\tthis.emissiveMap = null;\r\n\r\n\tthis.specularMap = null;\r\n\r\n\tthis.alphaMap = null;\r\n\r\n\tthis.envMap = null;\r\n\tthis.combine = THREE.MultiplyOperation;\r\n\tthis.reflectivity = 1;\r\n\tthis.refractionRatio = 0.98;\r\n\r\n\tthis.wireframe = false;\r\n\tthis.wireframeLinewidth = 1;\r\n\tthis.wireframeLinecap = 'round';\r\n\tthis.wireframeLinejoin = 'round';\r\n\r\n\tthis.skinning = false;\r\n\tthis.morphTargets = false;\r\n\tthis.morphNormals = false;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n};\r\n\r\nTHREE.MeshLambertMaterial.prototype = Object.create( THREE.Material.prototype );\r\nTHREE.MeshLambertMaterial.prototype.constructor = THREE.MeshLambertMaterial;\r\n\r\nTHREE.MeshLambertMaterial.prototype.copy = function ( source ) {\r\n\r\n\tTHREE.Material.prototype.copy.call( this, source );\r\n\r\n\tthis.color.copy( source.color );\r\n\r\n\tthis.map = source.map;\r\n\r\n\tthis.lightMap = source.lightMap;\r\n\tthis.lightMapIntensity = source.lightMapIntensity;\r\n\r\n\tthis.aoMap = source.aoMap;\r\n\tthis.aoMapIntensity = source.aoMapIntensity;\r\n\r\n\tthis.emissive.copy( source.emissive );\r\n\tthis.emissiveMap = source.emissiveMap;\r\n\tthis.emissiveIntensity = source.emissiveIntensity;\r\n\r\n\tthis.specularMap = source.specularMap;\r\n\r\n\tthis.alphaMap = source.alphaMap;\r\n\r\n\tthis.envMap = source.envMap;\r\n\tthis.combine = source.combine;\r\n\tthis.reflectivity = source.reflectivity;\r\n\tthis.refractionRatio = source.refractionRatio;\r\n\r\n\tthis.wireframe = source.wireframe;\r\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\r\n\tthis.wireframeLinecap = source.wireframeLinecap;\r\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\r\n\r\n\tthis.skinning = source.skinning;\r\n\tthis.morphTargets = source.morphTargets;\r\n\tthis.morphNormals = source.morphNormals;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n// File:src/materials/MeshNormalMaterial.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n *\r\n * parameters = {\r\n *  opacity: <float>,\r\n *\r\n *  wireframe: <boolean>,\r\n *  wireframeLinewidth: <float>\r\n * }\r\n */\r\n\r\nTHREE.MeshNormalMaterial = function ( parameters ) {\r\n\r\n\tTHREE.Material.call( this, parameters );\r\n\r\n\tthis.type = 'MeshNormalMaterial';\r\n\r\n\tthis.wireframe = false;\r\n\tthis.wireframeLinewidth = 1;\r\n\r\n\tthis.fog = false;\r\n\tthis.lights = false;\r\n\tthis.morphTargets = false;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n};\r\n\r\nTHREE.MeshNormalMaterial.prototype = Object.create( THREE.Material.prototype );\r\nTHREE.MeshNormalMaterial.prototype.constructor = THREE.MeshNormalMaterial;\r\n\r\nTHREE.MeshNormalMaterial.prototype.copy = function ( source ) {\r\n\r\n\tTHREE.Material.prototype.copy.call( this, source );\r\n\r\n\tthis.wireframe = source.wireframe;\r\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n// File:src/materials/MeshPhongMaterial.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n *\r\n * parameters = {\r\n *  color: <hex>,\r\n *  specular: <hex>,\r\n *  shininess: <float>,\r\n *  opacity: <float>,\r\n *\r\n *  map: new THREE.Texture( <Image> ),\r\n *\r\n *  lightMap: new THREE.Texture( <Image> ),\r\n *  lightMapIntensity: <float>\r\n *\r\n *  aoMap: new THREE.Texture( <Image> ),\r\n *  aoMapIntensity: <float>\r\n *\r\n *  emissive: <hex>,\r\n *  emissiveIntensity: <float>\r\n *  emissiveMap: new THREE.Texture( <Image> ),\r\n *\r\n *  bumpMap: new THREE.Texture( <Image> ),\r\n *  bumpScale: <float>,\r\n *\r\n *  normalMap: new THREE.Texture( <Image> ),\r\n *  normalScale: <Vector2>,\r\n *\r\n *  displacementMap: new THREE.Texture( <Image> ),\r\n *  displacementScale: <float>,\r\n *  displacementBias: <float>,\r\n *\r\n *  specularMap: new THREE.Texture( <Image> ),\r\n *\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *\r\n *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\r\n *  combine: THREE.Multiply,\r\n *  reflectivity: <float>,\r\n *  refractionRatio: <float>,\r\n *\r\n *  wireframe: <boolean>,\r\n *  wireframeLinewidth: <float>,\r\n *\r\n *  skinning: <bool>,\r\n *  morphTargets: <bool>,\r\n *  morphNormals: <bool>\r\n * }\r\n */\r\n\r\nTHREE.MeshPhongMaterial = function ( parameters ) {\r\n\r\n\tTHREE.Material.call( this );\r\n\r\n\tthis.type = 'MeshPhongMaterial';\r\n\r\n\tthis.color = new THREE.Color( 0xffffff ); // diffuse\r\n\tthis.specular = new THREE.Color( 0x111111 );\r\n\tthis.shininess = 30;\r\n\r\n\tthis.map = null;\r\n\r\n\tthis.lightMap = null;\r\n\tthis.lightMapIntensity = 1.0;\r\n\r\n\tthis.aoMap = null;\r\n\tthis.aoMapIntensity = 1.0;\r\n\r\n\tthis.emissive = new THREE.Color( 0x000000 );\r\n\tthis.emissiveIntensity = 1.0;\r\n\tthis.emissiveMap = null;\r\n\r\n\tthis.bumpMap = null;\r\n\tthis.bumpScale = 1;\r\n\r\n\tthis.normalMap = null;\r\n\tthis.normalScale = new THREE.Vector2( 1, 1 );\r\n\r\n\tthis.displacementMap = null;\r\n\tthis.displacementScale = 1;\r\n\tthis.displacementBias = 0;\r\n\r\n\tthis.specularMap = null;\r\n\r\n\tthis.alphaMap = null;\r\n\r\n\tthis.envMap = null;\r\n\tthis.combine = THREE.MultiplyOperation;\r\n\tthis.reflectivity = 1;\r\n\tthis.refractionRatio = 0.98;\r\n\r\n\tthis.wireframe = false;\r\n\tthis.wireframeLinewidth = 1;\r\n\tthis.wireframeLinecap = 'round';\r\n\tthis.wireframeLinejoin = 'round';\r\n\r\n\tthis.skinning = false;\r\n\tthis.morphTargets = false;\r\n\tthis.morphNormals = false;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n};\r\n\r\nTHREE.MeshPhongMaterial.prototype = Object.create( THREE.Material.prototype );\r\nTHREE.MeshPhongMaterial.prototype.constructor = THREE.MeshPhongMaterial;\r\n\r\nTHREE.MeshPhongMaterial.prototype.copy = function ( source ) {\r\n\r\n\tTHREE.Material.prototype.copy.call( this, source );\r\n\r\n\tthis.color.copy( source.color );\r\n\tthis.specular.copy( source.specular );\r\n\tthis.shininess = source.shininess;\r\n\r\n\tthis.map = source.map;\r\n\r\n\tthis.lightMap = source.lightMap;\r\n\tthis.lightMapIntensity = source.lightMapIntensity;\r\n\r\n\tthis.aoMap = source.aoMap;\r\n\tthis.aoMapIntensity = source.aoMapIntensity;\r\n\r\n\tthis.emissive.copy( source.emissive );\r\n\tthis.emissiveMap = source.emissiveMap;\r\n\tthis.emissiveIntensity = source.emissiveIntensity;\r\n\r\n\tthis.bumpMap = source.bumpMap;\r\n\tthis.bumpScale = source.bumpScale;\r\n\r\n\tthis.normalMap = source.normalMap;\r\n\tthis.normalScale.copy( source.normalScale );\r\n\r\n\tthis.displacementMap = source.displacementMap;\r\n\tthis.displacementScale = source.displacementScale;\r\n\tthis.displacementBias = source.displacementBias;\r\n\r\n\tthis.specularMap = source.specularMap;\r\n\r\n\tthis.alphaMap = source.alphaMap;\r\n\r\n\tthis.envMap = source.envMap;\r\n\tthis.combine = source.combine;\r\n\tthis.reflectivity = source.reflectivity;\r\n\tthis.refractionRatio = source.refractionRatio;\r\n\r\n\tthis.wireframe = source.wireframe;\r\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\r\n\tthis.wireframeLinecap = source.wireframeLinecap;\r\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\r\n\r\n\tthis.skinning = source.skinning;\r\n\tthis.morphTargets = source.morphTargets;\r\n\tthis.morphNormals = source.morphNormals;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n// File:src/materials/MeshStandardMaterial.js\r\n\r\n/**\r\n * @author WestLangley / http://github.com/WestLangley\r\n *\r\n * parameters = {\r\n *  color: <hex>,\r\n *  roughness: <float>,\r\n *  metalness: <float>,\r\n *  opacity: <float>,\r\n *\r\n *  map: new THREE.Texture( <Image> ),\r\n *\r\n *  lightMap: new THREE.Texture( <Image> ),\r\n *  lightMapIntensity: <float>\r\n *\r\n *  aoMap: new THREE.Texture( <Image> ),\r\n *  aoMapIntensity: <float>\r\n *\r\n *  emissive: <hex>,\r\n *  emissiveIntensity: <float>\r\n *  emissiveMap: new THREE.Texture( <Image> ),\r\n *\r\n *  bumpMap: new THREE.Texture( <Image> ),\r\n *  bumpScale: <float>,\r\n *\r\n *  normalMap: new THREE.Texture( <Image> ),\r\n *  normalScale: <Vector2>,\r\n *\r\n *  displacementMap: new THREE.Texture( <Image> ),\r\n *  displacementScale: <float>,\r\n *  displacementBias: <float>,\r\n *\r\n *  roughnessMap: new THREE.Texture( <Image> ),\r\n *\r\n *  metalnessMap: new THREE.Texture( <Image> ),\r\n *\r\n *  alphaMap: new THREE.Texture( <Image> ),\r\n *\r\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\r\n *  envMapIntensity: <float>\r\n *\r\n *  refractionRatio: <float>,\r\n *\r\n *  wireframe: <boolean>,\r\n *  wireframeLinewidth: <float>,\r\n *\r\n *  skinning: <bool>,\r\n *  morphTargets: <bool>,\r\n *  morphNormals: <bool>\r\n * }\r\n */\r\n\r\nTHREE.MeshStandardMaterial = function ( parameters ) {\r\n\r\n\tTHREE.Material.call( this );\r\n\r\n\tthis.defines = { 'STANDARD': '' };\r\n\r\n\tthis.type = 'MeshStandardMaterial';\r\n\r\n\tthis.color = new THREE.Color( 0xffffff ); // diffuse\r\n\tthis.roughness = 0.5;\r\n\tthis.metalness = 0.5;\r\n\r\n\tthis.map = null;\r\n\r\n\tthis.lightMap = null;\r\n\tthis.lightMapIntensity = 1.0;\r\n\r\n\tthis.aoMap = null;\r\n\tthis.aoMapIntensity = 1.0;\r\n\r\n\tthis.emissive = new THREE.Color( 0x000000 );\r\n\tthis.emissiveIntensity = 1.0;\r\n\tthis.emissiveMap = null;\r\n\r\n\tthis.bumpMap = null;\r\n\tthis.bumpScale = 1;\r\n\r\n\tthis.normalMap = null;\r\n\tthis.normalScale = new THREE.Vector2( 1, 1 );\r\n\r\n\tthis.displacementMap = null;\r\n\tthis.displacementScale = 1;\r\n\tthis.displacementBias = 0;\r\n\r\n\tthis.roughnessMap = null;\r\n\r\n\tthis.metalnessMap = null;\r\n\r\n\tthis.alphaMap = null;\r\n\r\n\tthis.envMap = null;\r\n\tthis.envMapIntensity = 1.0;\r\n\r\n\tthis.refractionRatio = 0.98;\r\n\r\n\tthis.wireframe = false;\r\n\tthis.wireframeLinewidth = 1;\r\n\tthis.wireframeLinecap = 'round';\r\n\tthis.wireframeLinejoin = 'round';\r\n\r\n\tthis.skinning = false;\r\n\tthis.morphTargets = false;\r\n\tthis.morphNormals = false;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n};\r\n\r\nTHREE.MeshStandardMaterial.prototype = Object.create( THREE.Material.prototype );\r\nTHREE.MeshStandardMaterial.prototype.constructor = THREE.MeshStandardMaterial;\r\n\r\nTHREE.MeshStandardMaterial.prototype.copy = function ( source ) {\r\n\r\n\tTHREE.Material.prototype.copy.call( this, source );\r\n\r\n\tthis.defines = { 'STANDARD': '' };\r\n\r\n\tthis.color.copy( source.color );\r\n\tthis.roughness = source.roughness;\r\n\tthis.metalness = source.metalness;\r\n\r\n\tthis.map = source.map;\r\n\r\n\tthis.lightMap = source.lightMap;\r\n\tthis.lightMapIntensity = source.lightMapIntensity;\r\n\r\n\tthis.aoMap = source.aoMap;\r\n\tthis.aoMapIntensity = source.aoMapIntensity;\r\n\r\n\tthis.emissive.copy( source.emissive );\r\n\tthis.emissiveMap = source.emissiveMap;\r\n\tthis.emissiveIntensity = source.emissiveIntensity;\r\n\r\n\tthis.bumpMap = source.bumpMap;\r\n\tthis.bumpScale = source.bumpScale;\r\n\r\n\tthis.normalMap = source.normalMap;\r\n\tthis.normalScale.copy( source.normalScale );\r\n\r\n\tthis.displacementMap = source.displacementMap;\r\n\tthis.displacementScale = source.displacementScale;\r\n\tthis.displacementBias = source.displacementBias;\r\n\r\n\tthis.roughnessMap = source.roughnessMap;\r\n\r\n\tthis.metalnessMap = source.metalnessMap;\r\n\r\n\tthis.alphaMap = source.alphaMap;\r\n\r\n\tthis.envMap = source.envMap;\r\n\tthis.envMapIntensity = source.envMapIntensity;\r\n\r\n\tthis.refractionRatio = source.refractionRatio;\r\n\r\n\tthis.wireframe = source.wireframe;\r\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\r\n\tthis.wireframeLinecap = source.wireframeLinecap;\r\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\r\n\r\n\tthis.skinning = source.skinning;\r\n\tthis.morphTargets = source.morphTargets;\r\n\tthis.morphNormals = source.morphNormals;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n// File:src/materials/MeshPhysicalMaterial.js\r\n\r\n/**\r\n * @author WestLangley / http://github.com/WestLangley\r\n *\r\n * parameters = {\r\n *  reflectivity: <float>\r\n * }\r\n */\r\n\r\nTHREE.MeshPhysicalMaterial = function ( parameters ) {\r\n\r\n\tTHREE.MeshStandardMaterial.call( this );\r\n\r\n\tthis.defines = { 'PHYSICAL': '' };\r\n\r\n\tthis.type = 'MeshPhysicalMaterial';\r\n\r\n\tthis.reflectivity = 0.5; // maps to F0 = 0.04\r\n\r\n\tthis.setValues( parameters );\r\n\r\n};\r\n\r\nTHREE.MeshPhysicalMaterial.prototype = Object.create( THREE.MeshStandardMaterial.prototype );\r\nTHREE.MeshPhysicalMaterial.prototype.constructor = THREE.MeshPhysicalMaterial;\r\n\r\nTHREE.MeshPhysicalMaterial.prototype.copy = function ( source ) {\r\n\r\n\tTHREE.MeshStandardMaterial.prototype.copy.call( this, source );\r\n\r\n\tthis.defines = { 'PHYSICAL': '' };\r\n\r\n\tthis.reflectivity = source.reflectivity;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n// File:src/materials/MultiMaterial.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.MultiMaterial = function ( materials ) {\r\n\r\n\tthis.uuid = THREE.Math.generateUUID();\r\n\r\n\tthis.type = 'MultiMaterial';\r\n\r\n\tthis.materials = materials instanceof Array ? materials : [];\r\n\r\n\tthis.visible = true;\r\n\r\n};\r\n\r\nTHREE.MultiMaterial.prototype = {\r\n\r\n\tconstructor: THREE.MultiMaterial,\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tvar output = {\r\n\t\t\tmetadata: {\r\n\t\t\t\tversion: 4.2,\r\n\t\t\t\ttype: 'material',\r\n\t\t\t\tgenerator: 'MaterialExporter'\r\n\t\t\t},\r\n\t\t\tuuid: this.uuid,\r\n\t\t\ttype: this.type,\r\n\t\t\tmaterials: []\r\n\t\t};\r\n\r\n\t\tvar materials = this.materials;\r\n\r\n\t\tfor ( var i = 0, l = materials.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar material = materials[ i ].toJSON( meta );\r\n\t\t\tdelete material.metadata;\r\n\r\n\t\t\toutput.materials.push( material );\r\n\r\n\t\t}\r\n\r\n\t\toutput.visible = this.visible;\r\n\r\n\t\treturn output;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\tvar material = new this.constructor();\r\n\r\n\t\tfor ( var i = 0; i < this.materials.length; i ++ ) {\r\n\r\n\t\t\tmaterial.materials.push( this.materials[ i ].clone() );\r\n\r\n\t\t}\r\n\r\n\t\tmaterial.visible = this.visible;\r\n\r\n\t\treturn material;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/materials/PointsMaterial.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n *\r\n * parameters = {\r\n *  color: <hex>,\r\n *  opacity: <float>,\r\n *  map: new THREE.Texture( <Image> ),\r\n *\r\n *  size: <float>,\r\n *  sizeAttenuation: <bool>\r\n * }\r\n */\r\n\r\nTHREE.PointsMaterial = function ( parameters ) {\r\n\r\n\tTHREE.Material.call( this );\r\n\r\n\tthis.type = 'PointsMaterial';\r\n\r\n\tthis.color = new THREE.Color( 0xffffff );\r\n\r\n\tthis.map = null;\r\n\r\n\tthis.size = 1;\r\n\tthis.sizeAttenuation = true;\r\n\r\n\tthis.lights = false;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n};\r\n\r\nTHREE.PointsMaterial.prototype = Object.create( THREE.Material.prototype );\r\nTHREE.PointsMaterial.prototype.constructor = THREE.PointsMaterial;\r\n\r\nTHREE.PointsMaterial.prototype.copy = function ( source ) {\r\n\r\n\tTHREE.Material.prototype.copy.call( this, source );\r\n\r\n\tthis.color.copy( source.color );\r\n\r\n\tthis.map = source.map;\r\n\r\n\tthis.size = source.size;\r\n\tthis.sizeAttenuation = source.sizeAttenuation;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n// File:src/materials/ShaderMaterial.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n *\r\n * parameters = {\r\n *  defines: { \"label\" : \"value\" },\r\n *  uniforms: { \"parameter1\": { type: \"1f\", value: 1.0 }, \"parameter2\": { type: \"1i\" value2: 2 } },\r\n *\r\n *  fragmentShader: <string>,\r\n *  vertexShader: <string>,\r\n *\r\n *  wireframe: <boolean>,\r\n *  wireframeLinewidth: <float>,\r\n *\r\n *  lights: <bool>,\r\n *\r\n *  skinning: <bool>,\r\n *  morphTargets: <bool>,\r\n *  morphNormals: <bool>\r\n * }\r\n */\r\n\r\nTHREE.ShaderMaterial = function ( parameters ) {\r\n\r\n\tTHREE.Material.call( this );\r\n\r\n\tthis.type = 'ShaderMaterial';\r\n\r\n\tthis.defines = {};\r\n\tthis.uniforms = {};\r\n\r\n\tthis.vertexShader = 'void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}';\r\n\tthis.fragmentShader = 'void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}';\r\n\r\n\tthis.linewidth = 1;\r\n\r\n\tthis.wireframe = false;\r\n\tthis.wireframeLinewidth = 1;\r\n\r\n\tthis.fog = false; // set to use scene fog\r\n\tthis.lights = false; // set to use scene lights\r\n\tthis.clipping = false; // set to use user-defined clipping planes\r\n\r\n\tthis.skinning = false; // set to use skinning attribute streams\r\n\tthis.morphTargets = false; // set to use morph targets\r\n\tthis.morphNormals = false; // set to use morph normals\r\n\r\n\tthis.extensions = {\r\n\t\tderivatives: false, // set to use derivatives\r\n\t\tfragDepth: false, // set to use fragment depth values\r\n\t\tdrawBuffers: false, // set to use draw buffers\r\n\t\tshaderTextureLOD: false // set to use shader texture LOD\r\n\t};\r\n\r\n\t// When rendered geometry doesn't include these attributes but the material does,\r\n\t// use these default values in WebGL. This avoids errors when buffer data is missing.\r\n\tthis.defaultAttributeValues = {\r\n\t\t'color': [ 1, 1, 1 ],\r\n\t\t'uv': [ 0, 0 ],\r\n\t\t'uv2': [ 0, 0 ]\r\n\t};\r\n\r\n\tthis.index0AttributeName = undefined;\r\n\r\n\tif ( parameters !== undefined ) {\r\n\r\n\t\tif ( parameters.attributes !== undefined ) {\r\n\r\n\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\r\n\r\n\t\t}\r\n\r\n\t\tthis.setValues( parameters );\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.ShaderMaterial.prototype = Object.create( THREE.Material.prototype );\r\nTHREE.ShaderMaterial.prototype.constructor = THREE.ShaderMaterial;\r\n\r\nTHREE.ShaderMaterial.prototype.copy = function ( source ) {\r\n\r\n\tTHREE.Material.prototype.copy.call( this, source );\r\n\r\n\tthis.fragmentShader = source.fragmentShader;\r\n\tthis.vertexShader = source.vertexShader;\r\n\r\n\tthis.uniforms = THREE.UniformsUtils.clone( source.uniforms );\r\n\r\n\tthis.defines = source.defines;\r\n\r\n\tthis.wireframe = source.wireframe;\r\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\r\n\r\n\tthis.lights = source.lights;\r\n\tthis.clipping = source.clipping;\r\n\r\n\tthis.skinning = source.skinning;\r\n\r\n\tthis.morphTargets = source.morphTargets;\r\n\tthis.morphNormals = source.morphNormals;\r\n\r\n\tthis.extensions = source.extensions;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nTHREE.ShaderMaterial.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = THREE.Material.prototype.toJSON.call( this, meta );\r\n\r\n\tdata.uniforms = this.uniforms;\r\n\tdata.vertexShader = this.vertexShader;\r\n\tdata.fragmentShader = this.fragmentShader;\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\n// File:src/materials/RawShaderMaterial.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.RawShaderMaterial = function ( parameters ) {\r\n\r\n\tTHREE.ShaderMaterial.call( this, parameters );\r\n\r\n\tthis.type = 'RawShaderMaterial';\r\n\r\n};\r\n\r\nTHREE.RawShaderMaterial.prototype = Object.create( THREE.ShaderMaterial.prototype );\r\nTHREE.RawShaderMaterial.prototype.constructor = THREE.RawShaderMaterial;\r\n\r\n// File:src/materials/SpriteMaterial.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n *\r\n * parameters = {\r\n *  color: <hex>,\r\n *  opacity: <float>,\r\n *  map: new THREE.Texture( <Image> ),\r\n *\r\n *\tuvOffset: new THREE.Vector2(),\r\n *\tuvScale: new THREE.Vector2()\r\n * }\r\n */\r\n\r\nTHREE.SpriteMaterial = function ( parameters ) {\r\n\r\n\tTHREE.Material.call( this );\r\n\r\n\tthis.type = 'SpriteMaterial';\r\n\r\n\tthis.color = new THREE.Color( 0xffffff );\r\n\tthis.map = null;\r\n\r\n\tthis.rotation = 0;\r\n\r\n\tthis.fog = false;\r\n\tthis.lights = false;\r\n\r\n\tthis.setValues( parameters );\r\n\r\n};\r\n\r\nTHREE.SpriteMaterial.prototype = Object.create( THREE.Material.prototype );\r\nTHREE.SpriteMaterial.prototype.constructor = THREE.SpriteMaterial;\r\n\r\nTHREE.SpriteMaterial.prototype.copy = function ( source ) {\r\n\r\n\tTHREE.Material.prototype.copy.call( this, source );\r\n\r\n\tthis.color.copy( source.color );\r\n\tthis.map = source.map;\r\n\r\n\tthis.rotation = source.rotation;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n// File:src/materials/ShadowMaterial.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.ShadowMaterial = function () {\r\n\r\n\tTHREE.ShaderMaterial.call( this, {\r\n\t\tuniforms: THREE.UniformsUtils.merge( [\r\n\t\t\tTHREE.UniformsLib[ \"lights\" ],\r\n\t\t\t{\r\n\t\t\t\topacity: { value: 1.0 }\r\n\t\t\t}\r\n\t\t] ),\r\n\t\tvertexShader: THREE.ShaderChunk[ 'shadow_vert' ],\r\n\t\tfragmentShader: THREE.ShaderChunk[ 'shadow_frag' ]\r\n\t} );\r\n\r\n\tthis.lights = true;\r\n\tthis.transparent = true;\r\n\r\n\tObject.defineProperties( this, {\r\n\t\topacity: {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function () {\r\n\t\t\t\treturn this.uniforms.opacity.value;\r\n\t\t\t},\r\n\t\t\tset: function ( value ) {\r\n\t\t\t\tthis.uniforms.opacity.value = value;\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n\r\n};\r\n\r\nTHREE.ShadowMaterial.prototype = Object.create( THREE.ShaderMaterial.prototype );\r\nTHREE.ShadowMaterial.prototype.constructor = THREE.ShadowMaterial;\r\n\r\n// File:src/textures/Texture.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author szimek / https://github.com/szimek/\r\n */\r\n\r\nTHREE.Texture = function ( image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\r\n\r\n\tObject.defineProperty( this, 'id', { value: THREE.TextureIdCount ++ } );\r\n\r\n\tthis.uuid = THREE.Math.generateUUID();\r\n\r\n\tthis.name = '';\r\n\tthis.sourceFile = '';\r\n\r\n\tthis.image = image !== undefined ? image : THREE.Texture.DEFAULT_IMAGE;\r\n\tthis.mipmaps = [];\r\n\r\n\tthis.mapping = mapping !== undefined ? mapping : THREE.Texture.DEFAULT_MAPPING;\r\n\r\n\tthis.wrapS = wrapS !== undefined ? wrapS : THREE.ClampToEdgeWrapping;\r\n\tthis.wrapT = wrapT !== undefined ? wrapT : THREE.ClampToEdgeWrapping;\r\n\r\n\tthis.magFilter = magFilter !== undefined ? magFilter : THREE.LinearFilter;\r\n\tthis.minFilter = minFilter !== undefined ? minFilter : THREE.LinearMipMapLinearFilter;\r\n\r\n\tthis.anisotropy = anisotropy !== undefined ? anisotropy : 1;\r\n\r\n\tthis.format = format !== undefined ? format : THREE.RGBAFormat;\r\n\tthis.type = type !== undefined ? type : THREE.UnsignedByteType;\r\n\r\n\tthis.offset = new THREE.Vector2( 0, 0 );\r\n\tthis.repeat = new THREE.Vector2( 1, 1 );\r\n\r\n\tthis.generateMipmaps = true;\r\n\tthis.premultiplyAlpha = false;\r\n\tthis.flipY = true;\r\n\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\r\n\r\n\r\n\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\r\n\t//\r\n\t// Also changing the encoding after already used by a Material will not automatically make the Material\r\n\t// update.  You need to explicitly call Material.needsUpdate to trigger it to recompile.\r\n\tthis.encoding = encoding !== undefined ? encoding :  THREE.LinearEncoding;\r\n\r\n\tthis.version = 0;\r\n\tthis.onUpdate = null;\r\n\r\n};\r\n\r\nTHREE.Texture.DEFAULT_IMAGE = undefined;\r\nTHREE.Texture.DEFAULT_MAPPING = THREE.UVMapping;\r\n\r\nTHREE.Texture.prototype = {\r\n\r\n\tconstructor: THREE.Texture,\r\n\r\n\tset needsUpdate( value ) {\r\n\r\n\t\tif ( value === true ) this.version ++;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.image = source.image;\r\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\r\n\r\n\t\tthis.mapping = source.mapping;\r\n\r\n\t\tthis.wrapS = source.wrapS;\r\n\t\tthis.wrapT = source.wrapT;\r\n\r\n\t\tthis.magFilter = source.magFilter;\r\n\t\tthis.minFilter = source.minFilter;\r\n\r\n\t\tthis.anisotropy = source.anisotropy;\r\n\r\n\t\tthis.format = source.format;\r\n\t\tthis.type = source.type;\r\n\r\n\t\tthis.offset.copy( source.offset );\r\n\t\tthis.repeat.copy( source.repeat );\r\n\r\n\t\tthis.generateMipmaps = source.generateMipmaps;\r\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\r\n\t\tthis.flipY = source.flipY;\r\n\t\tthis.unpackAlignment = source.unpackAlignment;\r\n\t\tthis.encoding = source.encoding;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tif ( meta.textures[ this.uuid ] !== undefined ) {\r\n\r\n\t\t\treturn meta.textures[ this.uuid ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction getDataURL( image ) {\r\n\r\n\t\t\tvar canvas;\r\n\r\n\t\t\tif ( image.toDataURL !== undefined ) {\r\n\r\n\t\t\t\tcanvas = image;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tcanvas = document.createElement( 'canvas' );\r\n\t\t\t\tcanvas.width = image.width;\r\n\t\t\t\tcanvas.height = image.height;\r\n\r\n\t\t\t\tcanvas.getContext( '2d' ).drawImage( image, 0, 0, image.width, image.height );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\r\n\r\n\t\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn canvas.toDataURL( 'image/png' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar output = {\r\n\t\t\tmetadata: {\r\n\t\t\t\tversion: 4.4,\r\n\t\t\t\ttype: 'Texture',\r\n\t\t\t\tgenerator: 'Texture.toJSON'\r\n\t\t\t},\r\n\r\n\t\t\tuuid: this.uuid,\r\n\t\t\tname: this.name,\r\n\r\n\t\t\tmapping: this.mapping,\r\n\r\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\r\n\t\t\toffset: [ this.offset.x, this.offset.y ],\r\n\t\t\twrap: [ this.wrapS, this.wrapT ],\r\n\r\n\t\t\tminFilter: this.minFilter,\r\n\t\t\tmagFilter: this.magFilter,\r\n\t\t\tanisotropy: this.anisotropy\r\n\t\t};\r\n\r\n\t\tif ( this.image !== undefined ) {\r\n\r\n\t\t\t// TODO: Move to THREE.Image\r\n\r\n\t\t\tvar image = this.image;\r\n\r\n\t\t\tif ( image.uuid === undefined ) {\r\n\r\n\t\t\t\timage.uuid = THREE.Math.generateUUID(); // UGH\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( meta.images[ image.uuid ] === undefined ) {\r\n\r\n\t\t\t\tmeta.images[ image.uuid ] = {\r\n\t\t\t\t\tuuid: image.uuid,\r\n\t\t\t\t\turl: getDataURL( image )\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t\toutput.image = image.uuid;\r\n\r\n\t\t}\r\n\r\n\t\tmeta.textures[ this.uuid ] = output;\r\n\r\n\t\treturn output;\r\n\r\n\t},\r\n\r\n\tdispose: function () {\r\n\r\n\t\tthis.dispatchEvent( { type: 'dispose' } );\r\n\r\n\t},\r\n\r\n\ttransformUv: function ( uv ) {\r\n\r\n\t\tif ( this.mapping !== THREE.UVMapping )  return;\r\n\r\n\t\tuv.multiply( this.repeat );\r\n\t\tuv.add( this.offset );\r\n\r\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\r\n\r\n\t\t\tswitch ( this.wrapS ) {\r\n\r\n\t\t\t\tcase THREE.RepeatWrapping:\r\n\r\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase THREE.ClampToEdgeWrapping:\r\n\r\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase THREE.MirroredRepeatWrapping:\r\n\r\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\r\n\r\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\r\n\r\n\t\t\tswitch ( this.wrapT ) {\r\n\r\n\t\t\t\tcase THREE.RepeatWrapping:\r\n\r\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase THREE.ClampToEdgeWrapping:\r\n\r\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase THREE.MirroredRepeatWrapping:\r\n\r\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\r\n\r\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.flipY ) {\r\n\r\n\t\t\tuv.y = 1 - uv.y;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nObject.assign( THREE.Texture.prototype, THREE.EventDispatcher.prototype );\r\n\r\nTHREE.TextureIdCount = 0;\r\n\r\n// File:src/textures/DepthTexture.js\r\n\r\n/**\r\n * @author Matt DesLauriers / @mattdesl\r\n */\r\n\r\nTHREE.DepthTexture = function ( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy ) {\r\n\r\n  THREE.Texture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, THREE.DepthFormat, type, anisotropy );\r\n\r\n  this.image = { width: width, height: height };\r\n\r\n  this.type = type !== undefined ? type : THREE.UnsignedShortType;\r\n\r\n  this.magFilter = magFilter !== undefined ? magFilter : THREE.NearestFilter;\r\n  this.minFilter = minFilter !== undefined ? minFilter : THREE.NearestFilter;\r\n\r\n  this.flipY = false;\r\n  this.generateMipmaps  = false;\r\n\r\n};\r\n\r\nTHREE.DepthTexture.prototype = Object.create( THREE.Texture.prototype );\r\nTHREE.DepthTexture.prototype.constructor = THREE.DepthTexture;\r\n\r\n// File:src/textures/CanvasTexture.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.CanvasTexture = function ( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\r\n\r\n\tTHREE.Texture.call( this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\r\n\r\n\tthis.needsUpdate = true;\r\n\r\n};\r\n\r\nTHREE.CanvasTexture.prototype = Object.create( THREE.Texture.prototype );\r\nTHREE.CanvasTexture.prototype.constructor = THREE.CanvasTexture;\r\n\r\n// File:src/textures/CubeTexture.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.CubeTexture = function ( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\r\n\r\n\timages = images !== undefined ? images : [];\r\n\tmapping = mapping !== undefined ? mapping : THREE.CubeReflectionMapping;\r\n\r\n\tTHREE.Texture.call( this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\r\n\r\n\tthis.flipY = false;\r\n\r\n};\r\n\r\nTHREE.CubeTexture.prototype = Object.create( THREE.Texture.prototype );\r\nTHREE.CubeTexture.prototype.constructor = THREE.CubeTexture;\r\n\r\nObject.defineProperty( THREE.CubeTexture.prototype, 'images', {\r\n\r\n\tget: function () {\r\n\r\n\t\treturn this.image;\r\n\r\n\t},\r\n\r\n\tset: function ( value ) {\r\n\r\n\t\tthis.image = value;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/textures/CompressedTexture.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.CompressedTexture = function ( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\r\n\r\n\tTHREE.Texture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\r\n\r\n\tthis.image = { width: width, height: height };\r\n\tthis.mipmaps = mipmaps;\r\n\r\n\t// no flipping for cube textures\r\n\t// (also flipping doesn't work for compressed textures )\r\n\r\n\tthis.flipY = false;\r\n\r\n\t// can't generate mipmaps for compressed textures\r\n\t// mips must be embedded in DDS files\r\n\r\n\tthis.generateMipmaps = false;\r\n\r\n};\r\n\r\nTHREE.CompressedTexture.prototype = Object.create( THREE.Texture.prototype );\r\nTHREE.CompressedTexture.prototype.constructor = THREE.CompressedTexture;\r\n\r\n// File:src/textures/DataTexture.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.DataTexture = function ( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\r\n\r\n\tTHREE.Texture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\r\n\r\n\tthis.image = { data: data, width: width, height: height };\r\n\r\n\tthis.magFilter = magFilter !== undefined ? magFilter : THREE.NearestFilter;\r\n\tthis.minFilter = minFilter !== undefined ? minFilter : THREE.NearestFilter;\r\n\r\n\tthis.flipY = false;\r\n\tthis.generateMipmaps  = false;\r\n\r\n};\r\n\r\nTHREE.DataTexture.prototype = Object.create( THREE.Texture.prototype );\r\nTHREE.DataTexture.prototype.constructor = THREE.DataTexture;\r\n\r\n// File:src/textures/VideoTexture.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.VideoTexture = function ( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\r\n\r\n\tTHREE.Texture.call( this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\r\n\r\n\tthis.generateMipmaps = false;\r\n\r\n\tvar scope = this;\r\n\r\n\tfunction update() {\r\n\r\n\t\trequestAnimationFrame( update );\r\n\r\n\t\tif ( video.readyState >= video.HAVE_CURRENT_DATA ) {\r\n\r\n\t\t\tscope.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tupdate();\r\n\r\n};\r\n\r\nTHREE.VideoTexture.prototype = Object.create( THREE.Texture.prototype );\r\nTHREE.VideoTexture.prototype.constructor = THREE.VideoTexture;\r\n\r\n// File:src/objects/Group.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.Group = function () {\r\n\r\n\tTHREE.Object3D.call( this );\r\n\r\n\tthis.type = 'Group';\r\n\r\n};\r\n\r\nTHREE.Group.prototype = Object.assign( Object.create( THREE.Object3D.prototype ), {\r\n\r\n\tconstructor: THREE.Group\r\n\r\n} );\r\n\r\n// File:src/objects/Points.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.Points = function ( geometry, material ) {\r\n\r\n\tTHREE.Object3D.call( this );\r\n\r\n\tthis.type = 'Points';\r\n\r\n\tthis.geometry = geometry !== undefined ? geometry : new THREE.BufferGeometry();\r\n\tthis.material = material !== undefined ? material : new THREE.PointsMaterial( { color: Math.random() * 0xffffff } );\r\n\r\n};\r\n\r\nTHREE.Points.prototype = Object.assign( Object.create( THREE.Object3D.prototype ), {\r\n\r\n\tconstructor: THREE.Points,\r\n\r\n\traycast: ( function () {\r\n\r\n\t\tvar inverseMatrix = new THREE.Matrix4();\r\n\t\tvar ray = new THREE.Ray();\r\n\t\tvar sphere = new THREE.Sphere();\r\n\r\n\t\treturn function raycast( raycaster, intersects ) {\r\n\r\n\t\t\tvar object = this;\r\n\t\t\tvar geometry = this.geometry;\r\n\t\t\tvar matrixWorld = this.matrixWorld;\r\n\t\t\tvar threshold = raycaster.params.Points.threshold;\r\n\r\n\t\t\t// Checking boundingSphere distance to ray\r\n\r\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\r\n\r\n\t\t\tsphere.copy( geometry.boundingSphere );\r\n\t\t\tsphere.applyMatrix4( matrixWorld );\r\n\r\n\t\t\tif ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\r\n\r\n\t\t\t//\r\n\r\n\t\t\tinverseMatrix.getInverse( matrixWorld );\r\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\r\n\r\n\t\t\tvar localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\r\n\t\t\tvar localThresholdSq = localThreshold * localThreshold;\r\n\t\t\tvar position = new THREE.Vector3();\r\n\r\n\t\t\tfunction testPoint( point, index ) {\r\n\r\n\t\t\t\tvar rayPointDistanceSq = ray.distanceSqToPoint( point );\r\n\r\n\t\t\t\tif ( rayPointDistanceSq < localThresholdSq ) {\r\n\r\n\t\t\t\t\tvar intersectPoint = ray.closestPointToPoint( point );\r\n\t\t\t\t\tintersectPoint.applyMatrix4( matrixWorld );\r\n\r\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectPoint );\r\n\r\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\r\n\r\n\t\t\t\t\tintersects.push( {\r\n\r\n\t\t\t\t\t\tdistance: distance,\r\n\t\t\t\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\r\n\t\t\t\t\t\tpoint: intersectPoint.clone(),\r\n\t\t\t\t\t\tindex: index,\r\n\t\t\t\t\t\tface: null,\r\n\t\t\t\t\t\tobject: object\r\n\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( geometry instanceof THREE.BufferGeometry ) {\r\n\r\n\t\t\t\tvar index = geometry.index;\r\n\t\t\t\tvar attributes = geometry.attributes;\r\n\t\t\t\tvar positions = attributes.position.array;\r\n\r\n\t\t\t\tif ( index !== null ) {\r\n\r\n\t\t\t\t\tvar indices = index.array;\r\n\r\n\t\t\t\t\tfor ( var i = 0, il = indices.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\tvar a = indices[ i ];\r\n\r\n\t\t\t\t\t\tposition.fromArray( positions, a * 3 );\r\n\r\n\t\t\t\t\t\ttestPoint( position, a );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tfor ( var i = 0, l = positions.length / 3; i < l; i ++ ) {\r\n\r\n\t\t\t\t\t\tposition.fromArray( positions, i * 3 );\r\n\r\n\t\t\t\t\t\ttestPoint( position, i );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar vertices = geometry.vertices;\r\n\r\n\t\t\t\tfor ( var i = 0, l = vertices.length; i < l; i ++ ) {\r\n\r\n\t\t\t\t\ttestPoint( vertices[ i ], i );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}() ),\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/objects/Line.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.Line = function ( geometry, material, mode ) {\r\n\r\n\tif ( mode === 1 ) {\r\n\r\n\t\tconsole.warn( 'THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead.' );\r\n\t\treturn new THREE.LineSegments( geometry, material );\r\n\r\n\t}\r\n\r\n\tTHREE.Object3D.call( this );\r\n\r\n\tthis.type = 'Line';\r\n\r\n\tthis.geometry = geometry !== undefined ? geometry : new THREE.BufferGeometry();\r\n\tthis.material = material !== undefined ? material : new THREE.LineBasicMaterial( { color: Math.random() * 0xffffff } );\r\n\r\n};\r\n\r\nTHREE.Line.prototype = Object.assign( Object.create( THREE.Object3D.prototype ), {\r\n\r\n\tconstructor: THREE.Line,\r\n\r\n\traycast: ( function () {\r\n\r\n\t\tvar inverseMatrix = new THREE.Matrix4();\r\n\t\tvar ray = new THREE.Ray();\r\n\t\tvar sphere = new THREE.Sphere();\r\n\r\n\t\treturn function raycast( raycaster, intersects ) {\r\n\r\n\t\t\tvar precision = raycaster.linePrecision;\r\n\t\t\tvar precisionSq = precision * precision;\r\n\r\n\t\t\tvar geometry = this.geometry;\r\n\t\t\tvar matrixWorld = this.matrixWorld;\r\n\r\n\t\t\t// Checking boundingSphere distance to ray\r\n\r\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\r\n\r\n\t\t\tsphere.copy( geometry.boundingSphere );\r\n\t\t\tsphere.applyMatrix4( matrixWorld );\r\n\r\n\t\t\tif ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\r\n\r\n\t\t\t//\r\n\r\n\t\t\tinverseMatrix.getInverse( matrixWorld );\r\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\r\n\r\n\t\t\tvar vStart = new THREE.Vector3();\r\n\t\t\tvar vEnd = new THREE.Vector3();\r\n\t\t\tvar interSegment = new THREE.Vector3();\r\n\t\t\tvar interRay = new THREE.Vector3();\r\n\t\t\tvar step = this instanceof THREE.LineSegments ? 2 : 1;\r\n\r\n\t\t\tif ( geometry instanceof THREE.BufferGeometry ) {\r\n\r\n\t\t\t\tvar index = geometry.index;\r\n\t\t\t\tvar attributes = geometry.attributes;\r\n\t\t\t\tvar positions = attributes.position.array;\r\n\r\n\t\t\t\tif ( index !== null ) {\r\n\r\n\t\t\t\t\tvar indices = index.array;\r\n\r\n\t\t\t\t\tfor ( var i = 0, l = indices.length - 1; i < l; i += step ) {\r\n\r\n\t\t\t\t\t\tvar a = indices[ i ];\r\n\t\t\t\t\t\tvar b = indices[ i + 1 ];\r\n\r\n\t\t\t\t\t\tvStart.fromArray( positions, a * 3 );\r\n\t\t\t\t\t\tvEnd.fromArray( positions, b * 3 );\r\n\r\n\t\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\r\n\r\n\t\t\t\t\t\tif ( distSq > precisionSq ) continue;\r\n\r\n\t\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\r\n\r\n\t\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\r\n\r\n\t\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\r\n\r\n\t\t\t\t\t\tintersects.push( {\r\n\r\n\t\t\t\t\t\t\tdistance: distance,\r\n\t\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\r\n\t\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\r\n\t\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\r\n\t\t\t\t\t\t\tindex: i,\r\n\t\t\t\t\t\t\tface: null,\r\n\t\t\t\t\t\t\tfaceIndex: null,\r\n\t\t\t\t\t\t\tobject: this\r\n\r\n\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tfor ( var i = 0, l = positions.length / 3 - 1; i < l; i += step ) {\r\n\r\n\t\t\t\t\t\tvStart.fromArray( positions, 3 * i );\r\n\t\t\t\t\t\tvEnd.fromArray( positions, 3 * i + 3 );\r\n\r\n\t\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\r\n\r\n\t\t\t\t\t\tif ( distSq > precisionSq ) continue;\r\n\r\n\t\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\r\n\r\n\t\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\r\n\r\n\t\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\r\n\r\n\t\t\t\t\t\tintersects.push( {\r\n\r\n\t\t\t\t\t\t\tdistance: distance,\r\n\t\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\r\n\t\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\r\n\t\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\r\n\t\t\t\t\t\t\tindex: i,\r\n\t\t\t\t\t\t\tface: null,\r\n\t\t\t\t\t\t\tfaceIndex: null,\r\n\t\t\t\t\t\t\tobject: this\r\n\r\n\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( geometry instanceof THREE.Geometry ) {\r\n\r\n\t\t\t\tvar vertices = geometry.vertices;\r\n\t\t\t\tvar nbVertices = vertices.length;\r\n\r\n\t\t\t\tfor ( var i = 0; i < nbVertices - 1; i += step ) {\r\n\r\n\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vertices[ i ], vertices[ i + 1 ], interRay, interSegment );\r\n\r\n\t\t\t\t\tif ( distSq > precisionSq ) continue;\r\n\r\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\r\n\r\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\r\n\r\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\r\n\r\n\t\t\t\t\tintersects.push( {\r\n\r\n\t\t\t\t\t\tdistance: distance,\r\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\r\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\r\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\r\n\t\t\t\t\t\tindex: i,\r\n\t\t\t\t\t\tface: null,\r\n\t\t\t\t\t\tfaceIndex: null,\r\n\t\t\t\t\t\tobject: this\r\n\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}() ),\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/objects/LineSegments.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.LineSegments = function ( geometry, material ) {\r\n\r\n\tTHREE.Line.call( this, geometry, material );\r\n\r\n\tthis.type = 'LineSegments';\r\n\r\n};\r\n\r\nTHREE.LineSegments.prototype = Object.assign( Object.create( THREE.Line.prototype ), {\r\n\r\n\tconstructor: THREE.LineSegments\r\n\r\n} );\r\n\r\n// File:src/objects/Mesh.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author jonobr1 / http://jonobr1.com/\r\n */\r\n\r\nTHREE.Mesh = function ( geometry, material ) {\r\n\r\n\tTHREE.Object3D.call( this );\r\n\r\n\tthis.type = 'Mesh';\r\n\r\n\tthis.geometry = geometry !== undefined ? geometry : new THREE.BufferGeometry();\r\n\tthis.material = material !== undefined ? material : new THREE.MeshBasicMaterial( { color: Math.random() * 0xffffff } );\r\n\r\n\tthis.drawMode = THREE.TrianglesDrawMode;\r\n\r\n\tthis.updateMorphTargets();\r\n\r\n};\r\n\r\nTHREE.Mesh.prototype = Object.assign( Object.create( THREE.Object3D.prototype ), {\r\n\r\n\tconstructor: THREE.Mesh,\r\n\r\n\tsetDrawMode: function ( value ) {\r\n\r\n\t\tthis.drawMode = value;\r\n\r\n\t},\r\n\r\n\tupdateMorphTargets: function () {\r\n\r\n\t\tif ( this.geometry.morphTargets !== undefined && this.geometry.morphTargets.length > 0 ) {\r\n\r\n\t\t\tthis.morphTargetBase = - 1;\r\n\t\t\tthis.morphTargetInfluences = [];\r\n\t\t\tthis.morphTargetDictionary = {};\r\n\r\n\t\t\tfor ( var m = 0, ml = this.geometry.morphTargets.length; m < ml; m ++ ) {\r\n\r\n\t\t\t\tthis.morphTargetInfluences.push( 0 );\r\n\t\t\t\tthis.morphTargetDictionary[ this.geometry.morphTargets[ m ].name ] = m;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tgetMorphTargetIndexByName: function ( name ) {\r\n\r\n\t\tif ( this.morphTargetDictionary[ name ] !== undefined ) {\r\n\r\n\t\t\treturn this.morphTargetDictionary[ name ];\r\n\r\n\t\t}\r\n\r\n\t\tconsole.warn( 'THREE.Mesh.getMorphTargetIndexByName: morph target ' + name + ' does not exist. Returning 0.' );\r\n\r\n\t\treturn 0;\r\n\r\n\t},\r\n\r\n\traycast: ( function () {\r\n\r\n\t\tvar inverseMatrix = new THREE.Matrix4();\r\n\t\tvar ray = new THREE.Ray();\r\n\t\tvar sphere = new THREE.Sphere();\r\n\r\n\t\tvar vA = new THREE.Vector3();\r\n\t\tvar vB = new THREE.Vector3();\r\n\t\tvar vC = new THREE.Vector3();\r\n\r\n\t\tvar tempA = new THREE.Vector3();\r\n\t\tvar tempB = new THREE.Vector3();\r\n\t\tvar tempC = new THREE.Vector3();\r\n\r\n\t\tvar uvA = new THREE.Vector2();\r\n\t\tvar uvB = new THREE.Vector2();\r\n\t\tvar uvC = new THREE.Vector2();\r\n\r\n\t\tvar barycoord = new THREE.Vector3();\r\n\r\n\t\tvar intersectionPoint = new THREE.Vector3();\r\n\t\tvar intersectionPointWorld = new THREE.Vector3();\r\n\r\n\t\tfunction uvIntersection( point, p1, p2, p3, uv1, uv2, uv3 ) {\r\n\r\n\t\t\tTHREE.Triangle.barycoordFromPoint( point, p1, p2, p3, barycoord );\r\n\r\n\t\t\tuv1.multiplyScalar( barycoord.x );\r\n\t\t\tuv2.multiplyScalar( barycoord.y );\r\n\t\t\tuv3.multiplyScalar( barycoord.z );\r\n\r\n\t\t\tuv1.add( uv2 ).add( uv3 );\r\n\r\n\t\t\treturn uv1.clone();\r\n\r\n\t\t}\r\n\r\n\t\tfunction checkIntersection( object, raycaster, ray, pA, pB, pC, point ) {\r\n\r\n\t\t\tvar intersect;\r\n\t\t\tvar material = object.material;\r\n\r\n\t\t\tif ( material.side === THREE.BackSide ) {\r\n\r\n\t\t\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== THREE.DoubleSide, point );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( intersect === null ) return null;\r\n\r\n\t\t\tintersectionPointWorld.copy( point );\r\n\t\t\tintersectionPointWorld.applyMatrix4( object.matrixWorld );\r\n\r\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectionPointWorld );\r\n\r\n\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\r\n\r\n\t\t\treturn {\r\n\t\t\t\tdistance: distance,\r\n\t\t\t\tpoint: intersectionPointWorld.clone(),\r\n\t\t\t\tobject: object\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tfunction checkBufferGeometryIntersection( object, raycaster, ray, positions, uvs, a, b, c ) {\r\n\r\n\t\t\tvA.fromArray( positions, a * 3 );\r\n\t\t\tvB.fromArray( positions, b * 3 );\r\n\t\t\tvC.fromArray( positions, c * 3 );\r\n\r\n\t\t\tvar intersection = checkIntersection( object, raycaster, ray, vA, vB, vC, intersectionPoint );\r\n\r\n\t\t\tif ( intersection ) {\r\n\r\n\t\t\t\tif ( uvs ) {\r\n\r\n\t\t\t\t\tuvA.fromArray( uvs, a * 2 );\r\n\t\t\t\t\tuvB.fromArray( uvs, b * 2 );\r\n\t\t\t\t\tuvC.fromArray( uvs, c * 2 );\r\n\r\n\t\t\t\t\tintersection.uv = uvIntersection( intersectionPoint,  vA, vB, vC,  uvA, uvB, uvC );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tintersection.face = new THREE.Face3( a, b, c, THREE.Triangle.normal( vA, vB, vC ) );\r\n\t\t\t\tintersection.faceIndex = a;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn intersection;\r\n\r\n\t\t}\r\n\r\n\t\treturn function raycast( raycaster, intersects ) {\r\n\r\n\t\t\tvar geometry = this.geometry;\r\n\t\t\tvar material = this.material;\r\n\t\t\tvar matrixWorld = this.matrixWorld;\r\n\r\n\t\t\tif ( material === undefined ) return;\r\n\r\n\t\t\t// Checking boundingSphere distance to ray\r\n\r\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\r\n\r\n\t\t\tsphere.copy( geometry.boundingSphere );\r\n\t\t\tsphere.applyMatrix4( matrixWorld );\r\n\r\n\t\t\tif ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\r\n\r\n\t\t\t//\r\n\r\n\t\t\tinverseMatrix.getInverse( matrixWorld );\r\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\r\n\r\n\t\t\t// Check boundingBox before continuing\r\n\r\n\t\t\tif ( geometry.boundingBox !== null ) {\r\n\r\n\t\t\t\tif ( ray.intersectsBox( geometry.boundingBox ) === false ) return;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar uvs, intersection;\r\n\r\n\t\t\tif ( geometry instanceof THREE.BufferGeometry ) {\r\n\r\n\t\t\t\tvar a, b, c;\r\n\t\t\t\tvar index = geometry.index;\r\n\t\t\t\tvar attributes = geometry.attributes;\r\n\t\t\t\tvar positions = attributes.position.array;\r\n\r\n\t\t\t\tif ( attributes.uv !== undefined ) {\r\n\r\n\t\t\t\t\tuvs = attributes.uv.array;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( index !== null ) {\r\n\r\n\t\t\t\t\tvar indices = index.array;\r\n\r\n\t\t\t\t\tfor ( var i = 0, l = indices.length; i < l; i += 3 ) {\r\n\r\n\t\t\t\t\t\ta = indices[ i ];\r\n\t\t\t\t\t\tb = indices[ i + 1 ];\r\n\t\t\t\t\t\tc = indices[ i + 2 ];\r\n\r\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, raycaster, ray, positions, uvs, a, b, c );\r\n\r\n\t\t\t\t\t\tif ( intersection ) {\r\n\r\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indices buffer semantics\r\n\t\t\t\t\t\t\tintersects.push( intersection );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\r\n\t\t\t\t\tfor ( var i = 0, l = positions.length; i < l; i += 9 ) {\r\n\r\n\t\t\t\t\t\ta = i / 3;\r\n\t\t\t\t\t\tb = a + 1;\r\n\t\t\t\t\t\tc = a + 2;\r\n\r\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, raycaster, ray, positions, uvs, a, b, c );\r\n\r\n\t\t\t\t\t\tif ( intersection ) {\r\n\r\n\t\t\t\t\t\t\tintersection.index = a; // triangle number in positions buffer semantics\r\n\t\t\t\t\t\t\tintersects.push( intersection );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( geometry instanceof THREE.Geometry ) {\r\n\r\n\t\t\t\tvar fvA, fvB, fvC;\r\n\t\t\t\tvar isFaceMaterial = material instanceof THREE.MultiMaterial;\r\n\t\t\t\tvar materials = isFaceMaterial === true ? material.materials : null;\r\n\r\n\t\t\t\tvar vertices = geometry.vertices;\r\n\t\t\t\tvar faces = geometry.faces;\r\n\t\t\t\tvar faceVertexUvs = geometry.faceVertexUvs[ 0 ];\r\n\t\t\t\tif ( faceVertexUvs.length > 0 ) uvs = faceVertexUvs;\r\n\r\n\t\t\t\tfor ( var f = 0, fl = faces.length; f < fl; f ++ ) {\r\n\r\n\t\t\t\t\tvar face = faces[ f ];\r\n\t\t\t\t\tvar faceMaterial = isFaceMaterial === true ? materials[ face.materialIndex ] : material;\r\n\r\n\t\t\t\t\tif ( faceMaterial === undefined ) continue;\r\n\r\n\t\t\t\t\tfvA = vertices[ face.a ];\r\n\t\t\t\t\tfvB = vertices[ face.b ];\r\n\t\t\t\t\tfvC = vertices[ face.c ];\r\n\r\n\t\t\t\t\tif ( faceMaterial.morphTargets === true ) {\r\n\r\n\t\t\t\t\t\tvar morphTargets = geometry.morphTargets;\r\n\t\t\t\t\t\tvar morphInfluences = this.morphTargetInfluences;\r\n\r\n\t\t\t\t\t\tvA.set( 0, 0, 0 );\r\n\t\t\t\t\t\tvB.set( 0, 0, 0 );\r\n\t\t\t\t\t\tvC.set( 0, 0, 0 );\r\n\r\n\t\t\t\t\t\tfor ( var t = 0, tl = morphTargets.length; t < tl; t ++ ) {\r\n\r\n\t\t\t\t\t\t\tvar influence = morphInfluences[ t ];\r\n\r\n\t\t\t\t\t\t\tif ( influence === 0 ) continue;\r\n\r\n\t\t\t\t\t\t\tvar targets = morphTargets[ t ].vertices;\r\n\r\n\t\t\t\t\t\t\tvA.addScaledVector( tempA.subVectors( targets[ face.a ], fvA ), influence );\r\n\t\t\t\t\t\t\tvB.addScaledVector( tempB.subVectors( targets[ face.b ], fvB ), influence );\r\n\t\t\t\t\t\t\tvC.addScaledVector( tempC.subVectors( targets[ face.c ], fvC ), influence );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvA.add( fvA );\r\n\t\t\t\t\t\tvB.add( fvB );\r\n\t\t\t\t\t\tvC.add( fvC );\r\n\r\n\t\t\t\t\t\tfvA = vA;\r\n\t\t\t\t\t\tfvB = vB;\r\n\t\t\t\t\t\tfvC = vC;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tintersection = checkIntersection( this, raycaster, ray, fvA, fvB, fvC, intersectionPoint );\r\n\r\n\t\t\t\t\tif ( intersection ) {\r\n\r\n\t\t\t\t\t\tif ( uvs ) {\r\n\r\n\t\t\t\t\t\t\tvar uvs_f = uvs[ f ];\r\n\t\t\t\t\t\t\tuvA.copy( uvs_f[ 0 ] );\r\n\t\t\t\t\t\t\tuvB.copy( uvs_f[ 1 ] );\r\n\t\t\t\t\t\t\tuvC.copy( uvs_f[ 2 ] );\r\n\r\n\t\t\t\t\t\t\tintersection.uv = uvIntersection( intersectionPoint, fvA, fvB, fvC, uvA, uvB, uvC );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tintersection.face = face;\r\n\t\t\t\t\t\tintersection.faceIndex = f;\r\n\t\t\t\t\t\tintersects.push( intersection );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}() ),\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/objects/Bone.js\r\n\r\n/**\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author ikerr / http://verold.com\r\n */\r\n\r\nTHREE.Bone = function ( skin ) {\r\n\r\n\tTHREE.Object3D.call( this );\r\n\r\n\tthis.type = 'Bone';\r\n\r\n\tthis.skin = skin;\r\n\r\n};\r\n\r\nTHREE.Bone.prototype = Object.assign( Object.create( THREE.Object3D.prototype ), {\r\n\r\n\tconstructor: THREE.Bone,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tTHREE.Object3D.prototype.copy.call( this, source );\r\n\r\n\t\tthis.skin = source.skin;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/objects/Skeleton.js\r\n\r\n/**\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author michael guerrero / http://realitymeltdown.com\r\n * @author ikerr / http://verold.com\r\n */\r\n\r\nTHREE.Skeleton = function ( bones, boneInverses, useVertexTexture ) {\r\n\r\n\tthis.useVertexTexture = useVertexTexture !== undefined ? useVertexTexture : true;\r\n\r\n\tthis.identityMatrix = new THREE.Matrix4();\r\n\r\n\t// copy the bone array\r\n\r\n\tbones = bones || [];\r\n\r\n\tthis.bones = bones.slice( 0 );\r\n\r\n\t// create a bone texture or an array of floats\r\n\r\n\tif ( this.useVertexTexture ) {\r\n\r\n\t\t// layout (1 matrix = 4 pixels)\r\n\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\r\n\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\r\n\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\r\n\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\r\n\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\r\n\r\n\r\n\t\tvar size = Math.sqrt( this.bones.length * 4 ); // 4 pixels needed for 1 matrix\r\n\t\tsize = THREE.Math.nextPowerOfTwo( Math.ceil( size ) );\r\n\t\tsize = Math.max( size, 4 );\r\n\r\n\t\tthis.boneTextureWidth = size;\r\n\t\tthis.boneTextureHeight = size;\r\n\r\n\t\tthis.boneMatrices = new Float32Array( this.boneTextureWidth * this.boneTextureHeight * 4 ); // 4 floats per RGBA pixel\r\n\t\tthis.boneTexture = new THREE.DataTexture( this.boneMatrices, this.boneTextureWidth, this.boneTextureHeight, THREE.RGBAFormat, THREE.FloatType );\r\n\r\n\t} else {\r\n\r\n\t\tthis.boneMatrices = new Float32Array( 16 * this.bones.length );\r\n\r\n\t}\r\n\r\n\t// use the supplied bone inverses or calculate the inverses\r\n\r\n\tif ( boneInverses === undefined ) {\r\n\r\n\t\tthis.calculateInverses();\r\n\r\n\t} else {\r\n\r\n\t\tif ( this.bones.length === boneInverses.length ) {\r\n\r\n\t\t\tthis.boneInverses = boneInverses.slice( 0 );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'THREE.Skeleton bonInverses is the wrong length.' );\r\n\r\n\t\t\tthis.boneInverses = [];\r\n\r\n\t\t\tfor ( var b = 0, bl = this.bones.length; b < bl; b ++ ) {\r\n\r\n\t\t\t\tthis.boneInverses.push( new THREE.Matrix4() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nObject.assign( THREE.Skeleton.prototype, {\r\n\r\n\tcalculateInverses: function () {\r\n\r\n\t\tthis.boneInverses = [];\r\n\r\n\t\tfor ( var b = 0, bl = this.bones.length; b < bl; b ++ ) {\r\n\r\n\t\t\tvar inverse = new THREE.Matrix4();\r\n\r\n\t\t\tif ( this.bones[ b ] ) {\r\n\r\n\t\t\t\tinverse.getInverse( this.bones[ b ].matrixWorld );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.boneInverses.push( inverse );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tpose: function () {\r\n\r\n\t\tvar bone;\r\n\r\n\t\t// recover the bind-time world matrices\r\n\r\n\t\tfor ( var b = 0, bl = this.bones.length; b < bl; b ++ ) {\r\n\r\n\t\t\tbone = this.bones[ b ];\r\n\r\n\t\t\tif ( bone ) {\r\n\r\n\t\t\t\tbone.matrixWorld.getInverse( this.boneInverses[ b ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// compute the local matrices, positions, rotations and scales\r\n\r\n\t\tfor ( var b = 0, bl = this.bones.length; b < bl; b ++ ) {\r\n\r\n\t\t\tbone = this.bones[ b ];\r\n\r\n\t\t\tif ( bone ) {\r\n\r\n\t\t\t\tif ( bone.parent ) {\r\n\r\n\t\t\t\t\tbone.matrix.getInverse( bone.parent.matrixWorld );\r\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tupdate: ( function () {\r\n\r\n\t\tvar offsetMatrix = new THREE.Matrix4();\r\n\r\n\t\treturn function update() {\r\n\r\n\t\t\t// flatten bone matrices to array\r\n\r\n\t\t\tfor ( var b = 0, bl = this.bones.length; b < bl; b ++ ) {\r\n\r\n\t\t\t\t// compute the offset between the current and the original transform\r\n\r\n\t\t\t\tvar matrix = this.bones[ b ] ? this.bones[ b ].matrixWorld : this.identityMatrix;\r\n\r\n\t\t\t\toffsetMatrix.multiplyMatrices( matrix, this.boneInverses[ b ] );\r\n\t\t\t\toffsetMatrix.toArray( this.boneMatrices, b * 16 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.useVertexTexture ) {\r\n\r\n\t\t\t\tthis.boneTexture.needsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t} )(),\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new THREE.Skeleton( this.bones, this.boneInverses, this.useVertexTexture );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/objects/SkinnedMesh.js\r\n\r\n/**\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author ikerr / http://verold.com\r\n */\r\n\r\nTHREE.SkinnedMesh = function ( geometry, material, useVertexTexture ) {\r\n\r\n\tTHREE.Mesh.call( this, geometry, material );\r\n\r\n\tthis.type = 'SkinnedMesh';\r\n\r\n\tthis.bindMode = \"attached\";\r\n\tthis.bindMatrix = new THREE.Matrix4();\r\n\tthis.bindMatrixInverse = new THREE.Matrix4();\r\n\r\n\t// init bones\r\n\r\n\t// TODO: remove bone creation as there is no reason (other than\r\n\t// convenience) for THREE.SkinnedMesh to do this.\r\n\r\n\tvar bones = [];\r\n\r\n\tif ( this.geometry && this.geometry.bones !== undefined ) {\r\n\r\n\t\tvar bone, gbone;\r\n\r\n\t\tfor ( var b = 0, bl = this.geometry.bones.length; b < bl; ++ b ) {\r\n\r\n\t\t\tgbone = this.geometry.bones[ b ];\r\n\r\n\t\t\tbone = new THREE.Bone( this );\r\n\t\t\tbones.push( bone );\r\n\r\n\t\t\tbone.name = gbone.name;\r\n\t\t\tbone.position.fromArray( gbone.pos );\r\n\t\t\tbone.quaternion.fromArray( gbone.rotq );\r\n\t\t\tif ( gbone.scl !== undefined ) bone.scale.fromArray( gbone.scl );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var b = 0, bl = this.geometry.bones.length; b < bl; ++ b ) {\r\n\r\n\t\t\tgbone = this.geometry.bones[ b ];\r\n\r\n\t\t\tif ( gbone.parent !== - 1 && gbone.parent !== null &&\r\n\t\t\t\t\tbones[ gbone.parent ] !== undefined ) {\r\n\r\n\t\t\t\tbones[ gbone.parent ].add( bones[ b ] );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.add( bones[ b ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tthis.normalizeSkinWeights();\r\n\r\n\tthis.updateMatrixWorld( true );\r\n\tthis.bind( new THREE.Skeleton( bones, undefined, useVertexTexture ), this.matrixWorld );\r\n\r\n};\r\n\r\n\r\nTHREE.SkinnedMesh.prototype = Object.assign( Object.create( THREE.Mesh.prototype ), {\r\n\r\n\tconstructor: THREE.SkinnedMesh,\r\n\r\n\tbind: function( skeleton, bindMatrix ) {\r\n\r\n\t\tthis.skeleton = skeleton;\r\n\r\n\t\tif ( bindMatrix === undefined ) {\r\n\r\n\t\t\tthis.updateMatrixWorld( true );\r\n\r\n\t\t\tthis.skeleton.calculateInverses();\r\n\r\n\t\t\tbindMatrix = this.matrixWorld;\r\n\r\n\t\t}\r\n\r\n\t\tthis.bindMatrix.copy( bindMatrix );\r\n\t\tthis.bindMatrixInverse.getInverse( bindMatrix );\r\n\r\n\t},\r\n\r\n\tpose: function () {\r\n\r\n\t\tthis.skeleton.pose();\r\n\r\n\t},\r\n\r\n\tnormalizeSkinWeights: function () {\r\n\r\n\t\tif ( this.geometry instanceof THREE.Geometry ) {\r\n\r\n\t\t\tfor ( var i = 0; i < this.geometry.skinWeights.length; i ++ ) {\r\n\r\n\t\t\t\tvar sw = this.geometry.skinWeights[ i ];\r\n\r\n\t\t\t\tvar scale = 1.0 / sw.lengthManhattan();\r\n\r\n\t\t\t\tif ( scale !== Infinity ) {\r\n\r\n\t\t\t\t\tsw.multiplyScalar( scale );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tsw.set( 1, 0, 0, 0 ); // do something reasonable\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( this.geometry instanceof THREE.BufferGeometry ) {\r\n\r\n\t\t\tvar vec = new THREE.Vector4();\r\n\r\n\t\t\tvar skinWeight = this.geometry.attributes.skinWeight;\r\n\r\n\t\t\tfor ( var i = 0; i < skinWeight.count; i ++ ) {\r\n\r\n\t\t\t\tvec.x = skinWeight.getX( i );\r\n\t\t\t\tvec.y = skinWeight.getY( i );\r\n\t\t\t\tvec.z = skinWeight.getZ( i );\r\n\t\t\t\tvec.w = skinWeight.getW( i );\r\n\r\n\t\t\t\tvar scale = 1.0 / vec.lengthManhattan();\r\n\r\n\t\t\t\tif ( scale !== Infinity ) {\r\n\r\n\t\t\t\t\tvec.multiplyScalar( scale );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tvec.set( 1, 0, 0, 0 ); // do something reasonable\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tskinWeight.setXYZW( i, vec.x, vec.y, vec.z, vec.w );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tupdateMatrixWorld: function( force ) {\r\n\r\n\t\tTHREE.Mesh.prototype.updateMatrixWorld.call( this, true );\r\n\r\n\t\tif ( this.bindMode === \"attached\" ) {\r\n\r\n\t\t\tthis.bindMatrixInverse.getInverse( this.matrixWorld );\r\n\r\n\t\t} else if ( this.bindMode === \"detached\" ) {\r\n\r\n\t\t\tthis.bindMatrixInverse.getInverse( this.bindMatrix );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'THREE.SkinnedMesh unrecognized bindMode: ' + this.bindMode );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tclone: function() {\r\n\r\n\t\treturn new this.constructor( this.geometry, this.material, this.useVertexTexture ).copy( this );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/objects/LOD.js\r\n\r\n/**\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.LOD = function () {\r\n\r\n\tTHREE.Object3D.call( this );\r\n\r\n\tthis.type = 'LOD';\r\n\r\n\tObject.defineProperties( this, {\r\n\t\tlevels: {\r\n\t\t\tenumerable: true,\r\n\t\t\tvalue: []\r\n\t\t}\r\n\t} );\r\n\r\n};\r\n\r\n\r\nTHREE.LOD.prototype = Object.assign( Object.create( THREE.Object3D.prototype ), {\r\n\r\n\tconstructor: THREE.LOD,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tTHREE.Object3D.prototype.copy.call( this, source, false );\r\n\r\n\t\tvar levels = source.levels;\r\n\r\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar level = levels[ i ];\r\n\r\n\t\t\tthis.addLevel( level.object.clone(), level.distance );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddLevel: function ( object, distance ) {\r\n\r\n\t\tif ( distance === undefined ) distance = 0;\r\n\r\n\t\tdistance = Math.abs( distance );\r\n\r\n\t\tvar levels = this.levels;\r\n\r\n\t\tfor ( var l = 0; l < levels.length; l ++ ) {\r\n\r\n\t\t\tif ( distance < levels[ l ].distance ) {\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tlevels.splice( l, 0, { distance: distance, object: object } );\r\n\r\n\t\tthis.add( object );\r\n\r\n\t},\r\n\r\n\tgetObjectForDistance: function ( distance ) {\r\n\r\n\t\tvar levels = this.levels;\r\n\r\n\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\r\n\r\n\t\t\tif ( distance < levels[ i ].distance ) {\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn levels[ i - 1 ].object;\r\n\r\n\t},\r\n\r\n\traycast: ( function () {\r\n\r\n\t\tvar matrixPosition = new THREE.Vector3();\r\n\r\n\t\treturn function raycast( raycaster, intersects ) {\r\n\r\n\t\t\tmatrixPosition.setFromMatrixPosition( this.matrixWorld );\r\n\r\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( matrixPosition );\r\n\r\n\t\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\r\n\r\n\t\t};\r\n\r\n\t}() ),\r\n\r\n\tupdate: function () {\r\n\r\n\t\tvar v1 = new THREE.Vector3();\r\n\t\tvar v2 = new THREE.Vector3();\r\n\r\n\t\treturn function update( camera ) {\r\n\r\n\t\t\tvar levels = this.levels;\r\n\r\n\t\t\tif ( levels.length > 1 ) {\r\n\r\n\t\t\t\tv1.setFromMatrixPosition( camera.matrixWorld );\r\n\t\t\t\tv2.setFromMatrixPosition( this.matrixWorld );\r\n\r\n\t\t\t\tvar distance = v1.distanceTo( v2 );\r\n\r\n\t\t\t\tlevels[ 0 ].object.visible = true;\r\n\r\n\t\t\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\r\n\r\n\t\t\t\t\tif ( distance >= levels[ i ].distance ) {\r\n\r\n\t\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\r\n\t\t\t\t\t\tlevels[ i ].object.visible = true;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( ; i < l; i ++ ) {\r\n\r\n\t\t\t\t\tlevels[ i ].object.visible = false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tvar data = THREE.Object3D.prototype.toJSON.call( this, meta );\r\n\r\n\t\tdata.object.levels = [];\r\n\r\n\t\tvar levels = this.levels;\r\n\r\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar level = levels[ i ];\r\n\r\n\t\t\tdata.object.levels.push( {\r\n\t\t\t\tobject: level.object.uuid,\r\n\t\t\t\tdistance: level.distance\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/objects/Sprite.js\r\n\r\n/**\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.Sprite = function ( material ) {\r\n\r\n\tTHREE.Object3D.call( this );\r\n\r\n\tthis.type = 'Sprite';\r\n\r\n\tthis.material = ( material !== undefined ) ? material : new THREE.SpriteMaterial();\r\n\r\n};\r\n\r\nTHREE.Sprite.prototype = Object.assign( Object.create( THREE.Object3D.prototype ), {\r\n\r\n\tconstructor: THREE.Sprite,\r\n\r\n\traycast: ( function () {\r\n\r\n\t\tvar matrixPosition = new THREE.Vector3();\r\n\r\n\t\treturn function raycast( raycaster, intersects ) {\r\n\r\n\t\t\tmatrixPosition.setFromMatrixPosition( this.matrixWorld );\r\n\r\n\t\t\tvar distanceSq = raycaster.ray.distanceSqToPoint( matrixPosition );\r\n\t\t\tvar guessSizeSq = this.scale.x * this.scale.y / 4;\r\n\r\n\t\t\tif ( distanceSq > guessSizeSq ) {\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tintersects.push( {\r\n\r\n\t\t\t\tdistance: Math.sqrt( distanceSq ),\r\n\t\t\t\tpoint: this.position,\r\n\t\t\t\tface: null,\r\n\t\t\t\tobject: this\r\n\r\n\t\t\t} );\r\n\r\n\t\t};\r\n\r\n\t}() ),\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this.material ).copy( this );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/objects/LensFlare.js\r\n\r\n/**\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.LensFlare = function ( texture, size, distance, blending, color ) {\r\n\r\n\tTHREE.Object3D.call( this );\r\n\r\n\tthis.lensFlares = [];\r\n\r\n\tthis.positionScreen = new THREE.Vector3();\r\n\tthis.customUpdateCallback = undefined;\r\n\r\n\tif ( texture !== undefined ) {\r\n\r\n\t\tthis.add( texture, size, distance, blending, color );\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.LensFlare.prototype = Object.assign( Object.create( THREE.Object3D.prototype ), {\r\n\r\n\tconstructor: THREE.LensFlare,\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tTHREE.Object3D.prototype.copy.call( this, source );\r\n\r\n\t\tthis.positionScreen.copy( source.positionScreen );\r\n\t\tthis.customUpdateCallback = source.customUpdateCallback;\r\n\r\n\t\tfor ( var i = 0, l = source.lensFlares.length; i < l; i ++ ) {\r\n\r\n\t\t\tthis.lensFlares.push( source.lensFlares[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tadd: function ( texture, size, distance, blending, color, opacity ) {\r\n\r\n\t\tif ( size === undefined ) size = - 1;\r\n\t\tif ( distance === undefined ) distance = 0;\r\n\t\tif ( opacity === undefined ) opacity = 1;\r\n\t\tif ( color === undefined ) color = new THREE.Color( 0xffffff );\r\n\t\tif ( blending === undefined ) blending = THREE.NormalBlending;\r\n\r\n\t\tdistance = Math.min( distance, Math.max( 0, distance ) );\r\n\r\n\t\tthis.lensFlares.push( {\r\n\t\t\ttexture: texture,\t// THREE.Texture\r\n\t\t\tsize: size, \t\t// size in pixels (-1 = use texture.width)\r\n\t\t\tdistance: distance, \t// distance (0-1) from light source (0=at light source)\r\n\t\t\tx: 0, y: 0, z: 0,\t// screen position (-1 => 1) z = 0 is in front z = 1 is back\r\n\t\t\tscale: 1, \t\t// scale\r\n\t\t\trotation: 0, \t\t// rotation\r\n\t\t\topacity: opacity,\t// opacity\r\n\t\t\tcolor: color,\t\t// color\r\n\t\t\tblending: blending\t// blending\r\n\t\t} );\r\n\r\n\t},\r\n\r\n\t/*\r\n\t * Update lens flares update positions on all flares based on the screen position\r\n\t * Set myLensFlare.customUpdateCallback to alter the flares in your project specific way.\r\n\t */\r\n\r\n\tupdateLensFlares: function () {\r\n\r\n\t\tvar f, fl = this.lensFlares.length;\r\n\t\tvar flare;\r\n\t\tvar vecX = - this.positionScreen.x * 2;\r\n\t\tvar vecY = - this.positionScreen.y * 2;\r\n\r\n\t\tfor ( f = 0; f < fl; f ++ ) {\r\n\r\n\t\t\tflare = this.lensFlares[ f ];\r\n\r\n\t\t\tflare.x = this.positionScreen.x + vecX * flare.distance;\r\n\t\t\tflare.y = this.positionScreen.y + vecY * flare.distance;\r\n\r\n\t\t\tflare.wantedRotation = flare.x * Math.PI * 0.25;\r\n\t\t\tflare.rotation += ( flare.wantedRotation - flare.rotation ) * 0.25;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/scenes/Scene.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.Scene = function () {\r\n\r\n\tTHREE.Object3D.call( this );\r\n\r\n\tthis.type = 'Scene';\r\n\r\n\tthis.fog = null;\r\n\tthis.overrideMaterial = null;\r\n\r\n\tthis.autoUpdate = true; // checked by the renderer\r\n\r\n};\r\n\r\nTHREE.Scene.prototype = Object.create( THREE.Object3D.prototype );\r\nTHREE.Scene.prototype.constructor = THREE.Scene;\r\n\r\nTHREE.Scene.prototype.copy = function ( source, recursive ) {\r\n\r\n\tTHREE.Object3D.prototype.copy.call( this, source, recursive );\r\n\r\n\tif ( source.fog !== null ) this.fog = source.fog.clone();\r\n\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\r\n\r\n\tthis.autoUpdate = source.autoUpdate;\r\n\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n// File:src/scenes/Fog.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.Fog = function ( color, near, far ) {\r\n\r\n\tthis.name = '';\r\n\r\n\tthis.color = new THREE.Color( color );\r\n\r\n\tthis.near = ( near !== undefined ) ? near : 1;\r\n\tthis.far = ( far !== undefined ) ? far : 1000;\r\n\r\n};\r\n\r\nTHREE.Fog.prototype.clone = function () {\r\n\r\n\treturn new THREE.Fog( this.color.getHex(), this.near, this.far );\r\n\r\n};\r\n\r\n// File:src/scenes/FogExp2.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.FogExp2 = function ( color, density ) {\r\n\r\n\tthis.name = '';\r\n\r\n\tthis.color = new THREE.Color( color );\r\n\tthis.density = ( density !== undefined ) ? density : 0.00025;\r\n\r\n};\r\n\r\nTHREE.FogExp2.prototype.clone = function () {\r\n\r\n\treturn new THREE.FogExp2( this.color.getHex(), this.density );\r\n\r\n};\r\n\r\n// File:src/renderers/shaders/ShaderChunk.js\r\n\r\nTHREE.ShaderChunk = {};\r\n\r\n// File:src/renderers/shaders/ShaderChunk/alphamap_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'alphamap_fragment' ] = \"#ifdef USE_ALPHAMAP\\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/alphamap_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'alphamap_pars_fragment' ] = \"#ifdef USE_ALPHAMAP\\n\tuniform sampler2D alphaMap;\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/alphatest_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'alphatest_fragment' ] = \"#ifdef ALPHATEST\\n\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/aomap_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'aomap_fragment' ] = \"#ifdef USE_AOMAP\\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\t#endif\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/aomap_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'aomap_pars_fragment' ] = \"#ifdef USE_AOMAP\\n\tuniform sampler2D aoMap;\\n\tuniform float aoMapIntensity;\\n#endif\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/begin_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'begin_vertex' ] = \"\\nvec3 transformed = vec3( position );\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/beginnormal_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'beginnormal_vertex' ] = \"\\nvec3 objectNormal = vec3( normal );\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/bsdfs.glsl\r\n\r\nTHREE.ShaderChunk[ 'bsdfs' ] = \"bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\\n\treturn any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n\t\tif( decayExponent > 0.0 ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\\n#else\\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n#endif\\n\t\t}\\n\t\treturn 1.0;\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\tfloat a2 = pow2( alpha );\\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\tfloat a2 = pow2( alpha );\\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\tfloat a2 = pow2( alpha );\\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\tfloat alpha = pow2( roughness );\\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\tvec3 F = F_Schlick( specularColor, dotLH );\\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\tfloat D = D_GGX( alpha, dotNH );\\n\treturn F * ( G * D );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\tvec4 r = roughness * c0 + c1;\\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\\n\treturn specularColor * AB.x + AB.y;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\tvec3 F = F_Schlick( specularColor, dotLH );\\n\tfloat G = G_BlinnPhong_Implicit( );\\n\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/bumpmap_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'bumpmap_pars_fragment' ] = \"#ifdef USE_BUMPMAP\\n\tuniform sampler2D bumpMap;\\n\tuniform float bumpScale;\\n\tvec2 dHdxy_fwd() {\\n\t\tvec2 dSTdx = dFdx( vUv );\\n\t\tvec2 dSTdy = dFdy( vUv );\\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\t\treturn vec2( dBx, dBy );\\n\t}\\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\t\tvec3 vSigmaX = dFdx( surf_pos );\\n\t\tvec3 vSigmaY = dFdy( surf_pos );\\n\t\tvec3 vN = surf_norm;\\n\t\tvec3 R1 = cross( vSigmaY, vN );\\n\t\tvec3 R2 = cross( vN, vSigmaX );\\n\t\tfloat fDet = dot( vSigmaX, R1 );\\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\t}\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/clipping_planes_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'clipping_planes_fragment' ] = \"#if NUM_CLIPPING_PLANES > 0\\n\tfor ( int i = 0; i < NUM_CLIPPING_PLANES; ++ i ) {\\n\t\tvec4 plane = clippingPlanes[ i ];\\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\t}\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/clipping_planes_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'clipping_planes_pars_fragment' ] = \"#if NUM_CLIPPING_PLANES > 0\\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\\n\t\tvarying vec3 vViewPosition;\\n\t#endif\\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/clipping_planes_pars_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'clipping_planes_pars_vertex' ] = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\n\tvarying vec3 vViewPosition;\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/clipping_planes_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'clipping_planes_vertex' ] = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\n\tvViewPosition = - mvPosition.xyz;\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/color_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'color_fragment' ] = \"#ifdef USE_COLOR\\n\tdiffuseColor.rgb *= vColor;\\n#endif\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/color_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'color_pars_fragment' ] = \"#ifdef USE_COLOR\\n\tvarying vec3 vColor;\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/color_pars_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'color_pars_vertex' ] = \"#ifdef USE_COLOR\\n\tvarying vec3 vColor;\\n#endif\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/color_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'color_vertex' ] = \"#ifdef USE_COLOR\\n\tvColor.xyz = color.xyz;\\n#endif\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/common.glsl\r\n\r\nTHREE.ShaderChunk[ 'common' ] = \"#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\treturn fract(sin(sn) * c);\\n}\\nstruct IncidentLight {\\n\tvec3 color;\\n\tvec3 direction;\\n\tbool visible;\\n};\\nstruct ReflectedLight {\\n\tvec3 directDiffuse;\\n\tvec3 directSpecular;\\n\tvec3 indirectDiffuse;\\n\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\tvec3 position;\\n\tvec3 normal;\\n\tvec3 viewDir;\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/cube_uv_reflection_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'cube_uv_reflection_fragment' ] = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_textureSize (1024.0)\\nint getFaceFromDirection(vec3 direction) {\\n\tvec3 absDirection = abs(direction);\\n\tint face = -1;\\n\tif( absDirection.x > absDirection.z ) {\\n\t\tif(absDirection.x > absDirection.y )\\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\\n\t\telse\\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\\n\t}\\n\telse {\\n\t\tif(absDirection.z > absDirection.y )\\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\\n\t\telse\\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\\n\t}\\n\treturn face;\\n}\\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\\n\tfloat dxRoughness = dFdx(roughness);\\n\tfloat dyRoughness = dFdy(roughness);\\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\\n\tfloat mipLevel = 0.5 * log2(d);\\n\treturn vec2(floor(mipLevel), fract(mipLevel));\\n}\\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\\n\tbool bRes = mipLevel == 0.0;\\n\tscale =  bRes && (scale < a) ? a : scale;\\n\tvec3 r;\\n\tvec2 offset;\\n\tint face = getFaceFromDirection(direction);\\n\tfloat rcpPowScale = 1.0 / powScale;\\n\tif( face == 0) {\\n\t\tr = vec3(direction.x, -direction.z, direction.y);\\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\\n\t}\\n\telse if( face == 1) {\\n\t\tr = vec3(direction.y, direction.x, direction.z);\\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\\n\t}\\n\telse if( face == 2) {\\n\t\tr = vec3(direction.z, direction.x, direction.y);\\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\\n\t}\\n\telse if( face == 3) {\\n\t\tr = vec3(direction.x, direction.z, direction.y);\\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\\n\t}\\n\telse if( face == 4) {\\n\t\tr = vec3(direction.y, direction.x, -direction.z);\\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\\n\t}\\n\telse {\\n\t\tr = vec3(direction.z, -direction.x, direction.y);\\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\\n\t}\\n\tr = normalize(r);\\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\\n\tvec2 base = offset + vec2( texelOffset );\\n\treturn base + s * ( scale - 2.0 * texelOffset );\\n}\\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\\n\tfloat r1 = floor(roughnessVal);\\n\tfloat r2 = r1 + 1.0;\\n\tfloat t = fract(roughnessVal);\\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\\n\tfloat s = mipInfo.y;\\n\tfloat level0 = mipInfo.x;\\n\tfloat level1 = level0 + 1.0;\\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\\n\tvec4 result = mix(color10, color20, t);\\n\treturn vec4(result.rgb, 1.0);\\n}\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/defaultnormal_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'defaultnormal_vertex' ] = \"#ifdef FLIP_SIDED\\n\tobjectNormal = -objectNormal;\\n#endif\\nvec3 transformedNormal = normalMatrix * objectNormal;\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/displacementmap_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'displacementmap_vertex' ] = \"#ifdef USE_DISPLACEMENTMAP\\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/displacementmap_pars_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'displacementmap_pars_vertex' ] = \"#ifdef USE_DISPLACEMENTMAP\\n\tuniform sampler2D displacementMap;\\n\tuniform float displacementScale;\\n\tuniform float displacementBias;\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/emissivemap_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'emissivemap_fragment' ] = \"#ifdef USE_EMISSIVEMAP\\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/emissivemap_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'emissivemap_pars_fragment' ] = \"#ifdef USE_EMISSIVEMAP\\n\tuniform sampler2D emissiveMap;\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/encodings_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'encodings_pars_fragment' ] = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n  return value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n  float maxComponent = max( max( value.r, value.g ), value.b );\\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n  float maxRGB = max( value.x, max( value.g, value.b ) );\\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n  M            = ceil( M * 255.0 ) / 255.0;\\n  return vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n    float maxRGB = max( value.x, max( value.g, value.b ) );\\n    float D      = max( maxRange / maxRGB, 1.0 );\\n    D            = min( floor( D ) / 255.0, 1.0 );\\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\\n  vec4 vResult;\\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n  vResult.w = fract(Le);\\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\\n  return vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n  float Le = value.z * 255.0 + value.w;\\n  vec3 Xp_Y_XYZp;\\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\\n  return vec4( max(vRGB, 0.0), 1.0 );\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/encodings_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'encodings_fragment' ] = \"  gl_FragColor = linearToOutputTexel( gl_FragColor );\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/envmap_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'envmap_fragment' ] = \"#ifdef USE_ENVMAP\\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\t\t#ifdef ENVMAP_MODE_REFLECTION\\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\\n\t\t#else\\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\\n\t\t#endif\\n\t#else\\n\t\tvec3 reflectVec = vReflect;\\n\t#endif\\n\t#ifdef DOUBLE_SIDED\\n\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\t#else\\n\t\tfloat flipNormal = 1.0;\\n\t#endif\\n\t#ifdef ENVMAP_TYPE_CUBE\\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\t\tvec2 sampleUV;\\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\\n\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\t#endif\\n\tenvColor = envMapTexelToLinear( envColor );\\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\t#elif defined( ENVMAP_BLENDING_MIX )\\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\t#elif defined( ENVMAP_BLENDING_ADD )\\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\t#endif\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/envmap_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'envmap_pars_fragment' ] = \"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\\n\tuniform float reflectivity;\\n\tuniform float envMapIntenstiy;\\n#endif\\n#ifdef USE_ENVMAP\\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\\n\t\tvarying vec3 vWorldPosition;\\n\t#endif\\n\t#ifdef ENVMAP_TYPE_CUBE\\n\t\tuniform samplerCube envMap;\\n\t#else\\n\t\tuniform sampler2D envMap;\\n\t#endif\\n\tuniform float flipEnvMap;\\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\\n\t\tuniform float refractionRatio;\\n\t#else\\n\t\tvarying vec3 vReflect;\\n\t#endif\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/envmap_pars_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'envmap_pars_vertex' ] = \"#ifdef USE_ENVMAP\\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\t\tvarying vec3 vWorldPosition;\\n\t#else\\n\t\tvarying vec3 vReflect;\\n\t\tuniform float refractionRatio;\\n\t#endif\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/envmap_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'envmap_vertex' ] = \"#ifdef USE_ENVMAP\\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\t\tvWorldPosition = worldPosition.xyz;\\n\t#else\\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\t\t#ifdef ENVMAP_MODE_REFLECTION\\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\\n\t\t#else\\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\t\t#endif\\n\t#endif\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/fog_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'fog_fragment' ] = \"#ifdef USE_FOG\\n\t#ifdef USE_LOGDEPTHBUF_EXT\\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\\n\t#else\\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\\n\t#endif\\n\t#ifdef FOG_EXP2\\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\\n\t#else\\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\\n\t#endif\\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/fog_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'fog_pars_fragment' ] = \"#ifdef USE_FOG\\n\tuniform vec3 fogColor;\\n\t#ifdef FOG_EXP2\\n\t\tuniform float fogDensity;\\n\t#else\\n\t\tuniform float fogNear;\\n\t\tuniform float fogFar;\\n\t#endif\\n#endif\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/lightmap_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'lightmap_fragment' ] = \"#ifdef USE_LIGHTMAP\\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/lightmap_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'lightmap_pars_fragment' ] = \"#ifdef USE_LIGHTMAP\\n\tuniform sampler2D lightMap;\\n\tuniform float lightMapIntensity;\\n#endif\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/lights_lambert_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'lights_lambert_vertex' ] = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\tvLightBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n#if NUM_POINT_LIGHTS > 0\\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\t\tdotNL = dot( geometry.normal, directLight.direction );\\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\t\t#ifdef DOUBLE_SIDED\\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\t\t#endif\\n\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\t\tdotNL = dot( geometry.normal, directLight.direction );\\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\t\t#ifdef DOUBLE_SIDED\\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\t\t#endif\\n\t}\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\t\tdotNL = dot( geometry.normal, directLight.direction );\\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\t\t#ifdef DOUBLE_SIDED\\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\t\t#endif\\n\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\t\t#ifdef DOUBLE_SIDED\\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\t\t#endif\\n\t}\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/lights_pars.glsl\r\n\r\nTHREE.ShaderChunk[ 'lights_pars' ] = \"uniform vec3 ambientLightColor;\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\tvec3 irradiance = ambientLightColor;\\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\t\tirradiance *= PI;\\n\t#endif\\n\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\tstruct DirectionalLight {\\n\t\tvec3 direction;\\n\t\tvec3 color;\\n\t\tint shadow;\\n\t\tfloat shadowBias;\\n\t\tfloat shadowRadius;\\n\t\tvec2 shadowMapSize;\\n\t};\\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\t\tdirectLight.color = directionalLight.color;\\n\t\tdirectLight.direction = directionalLight.direction;\\n\t\tdirectLight.visible = true;\\n\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\tstruct PointLight {\\n\t\tvec3 position;\\n\t\tvec3 color;\\n\t\tfloat distance;\\n\t\tfloat decay;\\n\t\tint shadow;\\n\t\tfloat shadowBias;\\n\t\tfloat shadowRadius;\\n\t\tvec2 shadowMapSize;\\n\t};\\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\t\tvec3 lVector = pointLight.position - geometry.position;\\n\t\tdirectLight.direction = normalize( lVector );\\n\t\tfloat lightDistance = length( lVector );\\n\t\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\\n\t\t\tdirectLight.color = pointLight.color;\\n\t\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\t\t\tdirectLight.visible = true;\\n\t\t} else {\\n\t\t\tdirectLight.color = vec3( 0.0 );\\n\t\t\tdirectLight.visible = false;\\n\t\t}\\n\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\tstruct SpotLight {\\n\t\tvec3 position;\\n\t\tvec3 direction;\\n\t\tvec3 color;\\n\t\tfloat distance;\\n\t\tfloat decay;\\n\t\tfloat coneCos;\\n\t\tfloat penumbraCos;\\n\t\tint shadow;\\n\t\tfloat shadowBias;\\n\t\tfloat shadowRadius;\\n\t\tvec2 shadowMapSize;\\n\t};\\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\t\tvec3 lVector = spotLight.position - geometry.position;\\n\t\tdirectLight.direction = normalize( lVector );\\n\t\tfloat lightDistance = length( lVector );\\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\t\tif ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\t\t\tdirectLight.color = spotLight.color;\\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\t\t\tdirectLight.visible = true;\\n\t\t} else {\\n\t\t\tdirectLight.color = vec3( 0.0 );\\n\t\t\tdirectLight.visible = false;\\n\t\t}\\n\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\tstruct HemisphereLight {\\n\t\tvec3 direction;\\n\t\tvec3 skyColor;\\n\t\tvec3 groundColor;\\n\t};\\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\t\t\tirradiance *= PI;\\n\t\t#endif\\n\t\treturn irradiance;\\n\t}\\n#endif\\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\t\t#ifdef DOUBLE_SIDED\\n\t\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\t\t#else\\n\t\t\tfloat flipNormal = 1.0;\\n\t\t#endif\\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\t\t#ifdef ENVMAP_TYPE_CUBE\\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\t\t\t#ifdef TEXTURE_LOD_EXT\\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\t\t\t#else\\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\t\t\t#endif\\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\\n\t\t#else\\n\t\t\tvec4 envMapColor = vec4( 0.0 );\\n\t\t#endif\\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\\n\t}\\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\t}\\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\t\t#ifdef ENVMAP_MODE_REFLECTION\\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\\n\t\t#else\\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\\n\t\t#endif\\n\t\t#ifdef DOUBLE_SIDED\\n\t\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\t\t#else\\n\t\t\tfloat flipNormal = 1.0;\\n\t\t#endif\\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\\n\t\t#ifdef ENVMAP_TYPE_CUBE\\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\t\t\t#ifdef TEXTURE_LOD_EXT\\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\t\t\t#else\\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\t\t\t#endif\\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\t\t\tvec2 sampleUV;\\n\t\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\\n\t\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\t\t\t#ifdef TEXTURE_LOD_EXT\\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\t\t\t#else\\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\t\t\t#endif\\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\t\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\\n\t\t\t#ifdef TEXTURE_LOD_EXT\\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\t\t\t#else\\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\t\t\t#endif\\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\t\t#endif\\n\t\treturn envMapColor.rgb * envMapIntensity;\\n\t}\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/lights_phong_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'lights_phong_fragment' ] = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/lights_phong_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'lights_phong_pars_fragment' ] = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\tvec3\tdiffuseColor;\\n\tvec3\tspecularColor;\\n\tfloat\tspecularShininess;\\n\tfloat\tspecularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\tvec3 irradiance = dotNL * directLight.color;\\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\t\tirradiance *= PI;\\n\t#endif\\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\t(0)\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/lights_physical_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'lights_physical_fragment' ] = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\\n#ifdef STANDARD\\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\tmaterial.specularColor = mix( vec3( 0.16 * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/lights_physical_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'lights_physical_pars_fragment' ] = \"struct PhysicalMaterial {\\n\tvec3\tdiffuseColor;\\n\tfloat\tspecularRoughness;\\n\tvec3\tspecularColor;\\n\t#ifndef STANDARD\\n\t#endif\\n};\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\tvec3 irradiance = dotNL * directLight.color;\\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\t\tirradiance *= PI;\\n\t#endif\\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\treflectedLight.indirectSpecular += radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\\n}\\n#define RE_Direct\t\t\t\tRE_Direct_Physical\\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/lights_template.glsl\r\n\r\nTHREE.ShaderChunk[ 'lights_template' ] = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = normalize( vViewPosition );\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\tPointLight pointLight;\\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\t\tpointLight = pointLights[ i ];\\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\t\t#ifdef USE_SHADOWMAP\\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\\n\t\t#endif\\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\t}\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\tSpotLight spotLight;\\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\t\tspotLight = spotLights[ i ];\\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\t\t#ifdef USE_SHADOWMAP\\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\t\t#endif\\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\t}\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\tDirectionalLight directionalLight;\\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\t\tdirectionalLight = directionalLights[ i ];\\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\t\t#ifdef USE_SHADOWMAP\\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\t\t#endif\\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\t}\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\t#ifdef USE_LIGHTMAP\\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\t\t\tlightMapIrradiance *= PI;\\n\t\t#endif\\n\t\tirradiance += lightMapIrradiance;\\n\t#endif\\n\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\t\t}\\n\t#endif\\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\t \tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\\n\t#endif\\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\\n\tRE_IndirectSpecular( radiance, geometry, material, reflectedLight );\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/logdepthbuf_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'logdepthbuf_fragment' ] = \"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\\n#endif\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/logdepthbuf_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'logdepthbuf_pars_fragment' ] = \"#ifdef USE_LOGDEPTHBUF\\n\tuniform float logDepthBufFC;\\n\t#ifdef USE_LOGDEPTHBUF_EXT\\n\t\tvarying float vFragDepth;\\n\t#endif\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/logdepthbuf_pars_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'logdepthbuf_pars_vertex' ] = \"#ifdef USE_LOGDEPTHBUF\\n\t#ifdef USE_LOGDEPTHBUF_EXT\\n\t\tvarying float vFragDepth;\\n\t#endif\\n\tuniform float logDepthBufFC;\\n#endif\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/logdepthbuf_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'logdepthbuf_vertex' ] = \"#ifdef USE_LOGDEPTHBUF\\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\\n\t#ifdef USE_LOGDEPTHBUF_EXT\\n\t\tvFragDepth = 1.0 + gl_Position.w;\\n\t#else\\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\\n\t#endif\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/map_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'map_fragment' ] = \"#ifdef USE_MAP\\n\tvec4 texelColor = texture2D( map, vUv );\\n\ttexelColor = mapTexelToLinear( texelColor );\\n\tdiffuseColor *= texelColor;\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/map_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'map_pars_fragment' ] = \"#ifdef USE_MAP\\n\tuniform sampler2D map;\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/map_particle_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'map_particle_fragment' ] = \"#ifdef USE_MAP\\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/map_particle_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'map_particle_pars_fragment' ] = \"#ifdef USE_MAP\\n\tuniform vec4 offsetRepeat;\\n\tuniform sampler2D map;\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/metalnessmap_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'metalnessmap_fragment' ] = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\tmetalnessFactor *= texelMetalness.r;\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/metalnessmap_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'metalnessmap_pars_fragment' ] = \"#ifdef USE_METALNESSMAP\\n\tuniform sampler2D metalnessMap;\\n#endif\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/morphnormal_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'morphnormal_vertex' ] = \"#ifdef USE_MORPHNORMALS\\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/morphtarget_pars_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'morphtarget_pars_vertex' ] = \"#ifdef USE_MORPHTARGETS\\n\t#ifndef USE_MORPHNORMALS\\n\tuniform float morphTargetInfluences[ 8 ];\\n\t#else\\n\tuniform float morphTargetInfluences[ 4 ];\\n\t#endif\\n#endif\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/morphtarget_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'morphtarget_vertex' ] = \"#ifdef USE_MORPHTARGETS\\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\n\t#ifndef USE_MORPHNORMALS\\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\\n\t#endif\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/normal_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'normal_fragment' ] = \"#ifdef FLAT_SHADED\\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\tvec3 normal = normalize( vNormal );\\n\t#ifdef DOUBLE_SIDED\\n\t\tnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\\n\t#endif\\n#endif\\n#ifdef USE_NORMALMAP\\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\\n#elif defined( USE_BUMPMAP )\\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/normalmap_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'normalmap_pars_fragment' ] = \"#ifdef USE_NORMALMAP\\n\tuniform sampler2D normalMap;\\n\tuniform vec2 normalScale;\\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\\n\t\tvec2 st0 = dFdx( vUv.st );\\n\t\tvec2 st1 = dFdy( vUv.st );\\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\\n\t\tvec3 N = normalize( surf_norm );\\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\t\tmapN.xy = normalScale * mapN.xy;\\n\t\tmat3 tsn = mat3( S, T, N );\\n\t\treturn normalize( tsn * mapN );\\n\t}\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/packing.glsl\r\n\r\nTHREE.ShaderChunk[ 'packing' ] = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n  return normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n  return 1.0 - 2.0 * rgb.xyz;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\treturn dot( v, UnpackFactors );\\n}\\nfloat viewZToOrthoDepth( const in float viewZ, const in float near, const in float far ) {\\n  return ( viewZ + near ) / ( near - far );\\n}\\nfloat OrthoDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n  return linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/premultiplied_alpha_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'premultiplied_alpha_fragment' ] = \"#ifdef PREMULTIPLIED_ALPHA\\n\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/project_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'project_vertex' ] = \"#ifdef USE_SKINNING\\n\tvec4 mvPosition = modelViewMatrix * skinned;\\n#else\\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\\n#endif\\ngl_Position = projectionMatrix * mvPosition;\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/roughnessmap_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'roughnessmap_fragment' ] = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\troughnessFactor *= texelRoughness.r;\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/roughnessmap_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'roughnessmap_pars_fragment' ] = \"#ifdef USE_ROUGHNESSMAP\\n\tuniform sampler2D roughnessMap;\\n#endif\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/shadowmap_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'shadowmap_pars_fragment' ] = \"#ifdef USE_SHADOWMAP\\n\t#if NUM_DIR_LIGHTS > 0\\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\t#endif\\n\t#if NUM_SPOT_LIGHTS > 0\\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\t#endif\\n\t#if NUM_POINT_LIGHTS > 0\\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\t#endif\\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\t}\\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\\n\t\tvec2 f = fract( uv * size + 0.5 );\\n\t\tfloat a = mix( lb, lt, f.y );\\n\t\tfloat b = mix( rb, rt, f.y );\\n\t\tfloat c = mix( a, b, f.x );\\n\t\treturn c;\\n\t}\\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\t\tshadowCoord.xyz /= shadowCoord.w;\\n\t\tshadowCoord.z += shadowBias;\\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\t\tbool inFrustum = all( inFrustumVec );\\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\t\tbool frustumTest = all( frustumTestVec );\\n\t\tif ( frustumTest ) {\\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\\n\t\t\treturn (\\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\t\t\t) * ( 1.0 / 9.0 );\\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\\n\t\t\treturn (\\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\t\t\t) * ( 1.0 / 9.0 );\\n\t\t#else\\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\t\t#endif\\n\t\t}\\n\t\treturn 1.0;\\n\t}\\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\t\tvec3 absV = abs( v );\\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\t\tabsV *= scaleToCube;\\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\t\tvec2 planar = v.xy;\\n\t\tfloat almostATexel = 1.5 * texelSizeY;\\n\t\tfloat almostOne = 1.0 - almostATexel;\\n\t\tif ( absV.z >= almostOne ) {\\n\t\t\tif ( v.z > 0.0 )\\n\t\t\t\tplanar.x = 4.0 - v.x;\\n\t\t} else if ( absV.x >= almostOne ) {\\n\t\t\tfloat signX = sign( v.x );\\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\\n\t\t} else if ( absV.y >= almostOne ) {\\n\t\t\tfloat signY = sign( v.y );\\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\t\t\tplanar.y = v.z * signY - 2.0;\\n\t\t}\\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\t}\\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\t\tvec3 lightToPosition = shadowCoord.xyz;\\n\t\tvec3 bd3D = normalize( lightToPosition );\\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\t\t\treturn (\\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\t\t\t) * ( 1.0 / 9.0 );\\n\t\t#else\\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\t\t#endif\\n\t}\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/shadowmap_pars_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'shadowmap_pars_vertex' ] = \"#ifdef USE_SHADOWMAP\\n\t#if NUM_DIR_LIGHTS > 0\\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\t#endif\\n\t#if NUM_SPOT_LIGHTS > 0\\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\t#endif\\n\t#if NUM_POINT_LIGHTS > 0\\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\t#endif\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/shadowmap_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'shadowmap_vertex' ] = \"#ifdef USE_SHADOWMAP\\n\t#if NUM_DIR_LIGHTS > 0\\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\t}\\n\t#endif\\n\t#if NUM_SPOT_LIGHTS > 0\\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\t}\\n\t#endif\\n\t#if NUM_POINT_LIGHTS > 0\\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\t}\\n\t#endif\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/shadowmask_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'shadowmask_pars_fragment' ] = \"float getShadowMask() {\\n\tfloat shadow = 1.0;\\n\t#ifdef USE_SHADOWMAP\\n\t#if NUM_DIR_LIGHTS > 0\\n\tDirectionalLight directionalLight;\\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\t\tdirectionalLight = directionalLights[ i ];\\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\t}\\n\t#endif\\n\t#if NUM_SPOT_LIGHTS > 0\\n\tSpotLight spotLight;\\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\t\tspotLight = spotLights[ i ];\\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\t}\\n\t#endif\\n\t#if NUM_POINT_LIGHTS > 0\\n\tPointLight pointLight;\\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\t\tpointLight = pointLights[ i ];\\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\\n\t}\\n\t#endif\\n\t#endif\\n\treturn shadow;\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/skinbase_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'skinbase_vertex' ] = \"#ifdef USE_SKINNING\\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/skinning_pars_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'skinning_pars_vertex' ] = \"#ifdef USE_SKINNING\\n\tuniform mat4 bindMatrix;\\n\tuniform mat4 bindMatrixInverse;\\n\t#ifdef BONE_TEXTURE\\n\t\tuniform sampler2D boneTexture;\\n\t\tuniform int boneTextureWidth;\\n\t\tuniform int boneTextureHeight;\\n\t\tmat4 getBoneMatrix( const in float i ) {\\n\t\t\tfloat j = i * 4.0;\\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\\n\t\t\ty = dy * ( y + 0.5 );\\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\t\t\treturn bone;\\n\t\t}\\n\t#else\\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\t\tmat4 getBoneMatrix( const in float i ) {\\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\\n\t\t\treturn bone;\\n\t\t}\\n\t#endif\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/skinning_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'skinning_vertex' ] = \"#ifdef USE_SKINNING\\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\tvec4 skinned = vec4( 0.0 );\\n\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\tskinned  = bindMatrixInverse * skinned;\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/skinnormal_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'skinnormal_vertex' ] = \"#ifdef USE_SKINNING\\n\tmat4 skinMatrix = mat4( 0.0 );\\n\tskinMatrix += skinWeight.x * boneMatX;\\n\tskinMatrix += skinWeight.y * boneMatY;\\n\tskinMatrix += skinWeight.z * boneMatZ;\\n\tskinMatrix += skinWeight.w * boneMatW;\\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/specularmap_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'specularmap_fragment' ] = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\tspecularStrength = texelSpecular.r;\\n#else\\n\tspecularStrength = 1.0;\\n#endif\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/specularmap_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'specularmap_pars_fragment' ] = \"#ifdef USE_SPECULARMAP\\n\tuniform sampler2D specularMap;\\n#endif\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/tonemapping_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'tonemapping_fragment' ] = \"#if defined( TONE_MAPPING )\\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/tonemapping_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'tonemapping_pars_fragment' ] = \"#define saturate(a) clamp( a, 0.0, 1.0 )\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\nvec3 LinearToneMapping( vec3 color ) {\\n  return toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n  color *= toneMappingExposure;\\n  return saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n  color *= toneMappingExposure;\\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n  color *= toneMappingExposure;\\n  color = max( vec3( 0.0 ), color - 0.004 );\\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/uv2_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'uv2_pars_fragment' ] = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\tvarying vec2 vUv2;\\n#endif\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/uv2_pars_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'uv2_pars_vertex' ] = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\tattribute vec2 uv2;\\n\tvarying vec2 vUv2;\\n#endif\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/uv2_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'uv2_vertex' ] = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\tvUv2 = uv2;\\n#endif\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/uv_pars_fragment.glsl\r\n\r\nTHREE.ShaderChunk[ 'uv_pars_fragment' ] = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\tvarying vec2 vUv;\\n#endif\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/uv_pars_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'uv_pars_vertex' ] = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\tvarying vec2 vUv;\\n\tuniform vec4 offsetRepeat;\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/uv_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'uv_vertex' ] = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\\n#endif\";\r\n\r\n// File:src/renderers/shaders/ShaderChunk/worldpos_vertex.glsl\r\n\r\nTHREE.ShaderChunk[ 'worldpos_vertex' ] = \"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\\n\t#ifdef USE_SKINNING\\n\t\tvec4 worldPosition = modelMatrix * skinned;\\n\t#else\\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\\n\t#endif\\n#endif\\n\";\r\n\r\n// File:src/renderers/shaders/UniformsUtils.js\r\n\r\n/**\r\n * Uniform Utilities\r\n */\r\n\r\nTHREE.UniformsUtils = {\r\n\r\n\tmerge: function ( uniforms ) {\r\n\r\n\t\tvar merged = {};\r\n\r\n\t\tfor ( var u = 0; u < uniforms.length; u ++ ) {\r\n\r\n\t\t\tvar tmp = this.clone( uniforms[ u ] );\r\n\r\n\t\t\tfor ( var p in tmp ) {\r\n\r\n\t\t\t\tmerged[ p ] = tmp[ p ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn merged;\r\n\r\n\t},\r\n\r\n\tclone: function ( uniforms_src ) {\r\n\r\n\t\tvar uniforms_dst = {};\r\n\r\n\t\tfor ( var u in uniforms_src ) {\r\n\r\n\t\t\tuniforms_dst[ u ] = {};\r\n\r\n\t\t\tfor ( var p in uniforms_src[ u ] ) {\r\n\r\n\t\t\t\tvar parameter_src = uniforms_src[ u ][ p ];\r\n\r\n\t\t\t\tif ( parameter_src instanceof THREE.Color ||\r\n\t\t\t\t\t parameter_src instanceof THREE.Vector2 ||\r\n\t\t\t\t\t parameter_src instanceof THREE.Vector3 ||\r\n\t\t\t\t\t parameter_src instanceof THREE.Vector4 ||\r\n\t\t\t\t\t parameter_src instanceof THREE.Matrix3 ||\r\n\t\t\t\t\t parameter_src instanceof THREE.Matrix4 ||\r\n\t\t\t\t\t parameter_src instanceof THREE.Texture ) {\r\n\r\n\t\t\t\t\tuniforms_dst[ u ][ p ] = parameter_src.clone();\r\n\r\n\t\t\t\t} else if ( Array.isArray( parameter_src ) ) {\r\n\r\n\t\t\t\t\tuniforms_dst[ u ][ p ] = parameter_src.slice();\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tuniforms_dst[ u ][ p ] = parameter_src;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn uniforms_dst;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/renderers/shaders/UniformsLib.js\r\n\r\n/**\r\n * Uniforms library for shared webgl shaders\r\n */\r\n\r\nTHREE.UniformsLib = {\r\n\r\n\tcommon: {\r\n\r\n\t\t\"diffuse\": { type: \"c\", value: new THREE.Color( 0xeeeeee ) },\r\n\t\t\"opacity\": { type: \"1f\", value: 1.0 },\r\n\r\n\t\t\"map\": { type: \"t\", value: null },\r\n\t\t\"offsetRepeat\": { type: \"v4\", value: new THREE.Vector4( 0, 0, 1, 1 ) },\r\n\r\n\t\t\"specularMap\": { type: \"t\", value: null },\r\n\t\t\"alphaMap\": { type: \"t\", value: null },\r\n\r\n\t\t\"envMap\": { type: \"t\", value: null },\r\n\t\t\"flipEnvMap\": { type: \"1f\", value: - 1 },\r\n\t\t\"reflectivity\": { type: \"1f\", value: 1.0 },\r\n\t\t\"refractionRatio\": { type: \"1f\", value: 0.98 }\r\n\r\n\t},\r\n\r\n\taomap: {\r\n\r\n\t\t\"aoMap\": { type: \"t\", value: null },\r\n\t\t\"aoMapIntensity\": { type: \"1f\", value: 1 }\r\n\r\n\t},\r\n\r\n\tlightmap: {\r\n\r\n\t\t\"lightMap\": { type: \"t\", value: null },\r\n\t\t\"lightMapIntensity\": { type: \"1f\", value: 1 }\r\n\r\n\t},\r\n\r\n\temissivemap: {\r\n\r\n\t\t\"emissiveMap\": { type: \"t\", value: null }\r\n\r\n\t},\r\n\r\n\tbumpmap: {\r\n\r\n\t\t\"bumpMap\": { type: \"t\", value: null },\r\n\t\t\"bumpScale\": { type: \"1f\", value: 1 }\r\n\r\n\t},\r\n\r\n\tnormalmap: {\r\n\r\n\t\t\"normalMap\": { type: \"t\", value: null },\r\n\t\t\"normalScale\": { type: \"v2\", value: new THREE.Vector2( 1, 1 ) }\r\n\r\n\t},\r\n\r\n\tdisplacementmap: {\r\n\r\n\t\t\"displacementMap\": { type: \"t\", value: null },\r\n\t\t\"displacementScale\": { type: \"1f\", value: 1 },\r\n\t\t\"displacementBias\": { type: \"1f\", value: 0 }\r\n\r\n\t},\r\n\r\n\troughnessmap: {\r\n\r\n\t\t\"roughnessMap\": { type: \"t\", value: null }\r\n\r\n\t},\r\n\r\n\tmetalnessmap: {\r\n\r\n\t\t\"metalnessMap\": { type: \"t\", value: null }\r\n\r\n\t},\r\n\r\n\tfog: {\r\n\r\n\t\t\"fogDensity\": { type: \"1f\", value: 0.00025 },\r\n\t\t\"fogNear\": { type: \"1f\", value: 1 },\r\n\t\t\"fogFar\": { type: \"1f\", value: 2000 },\r\n\t\t\"fogColor\": { type: \"c\", value: new THREE.Color( 0xffffff ) }\r\n\r\n\t},\r\n\r\n\tlights: {\r\n\r\n\t\t\"ambientLightColor\": { type: \"3fv\", value: [] },\r\n\r\n\t\t\"directionalLights\": { type: \"sa\", value: [], properties: {\r\n\t\t\t\"direction\": { type: \"v3\" },\r\n\t\t\t\"color\": { type: \"c\" },\r\n\r\n\t\t\t\"shadow\": { type: \"1i\" },\r\n\t\t\t\"shadowBias\": { type: \"1f\" },\r\n\t\t\t\"shadowRadius\": { type: \"1f\" },\r\n\t\t\t\"shadowMapSize\": { type: \"v2\" }\r\n\t\t} },\r\n\r\n\t\t\"directionalShadowMap\": { type: \"tv\", value: [] },\r\n\t\t\"directionalShadowMatrix\": { type: \"m4v\", value: [] },\r\n\r\n\t\t\"spotLights\": { type: \"sa\", value: [], properties: {\r\n\t\t\t\"color\": { type: \"c\" },\r\n\t\t\t\"position\": { type: \"v3\" },\r\n\t\t\t\"direction\": { type: \"v3\" },\r\n\t\t\t\"distance\": { type: \"1f\" },\r\n\t\t\t\"coneCos\": { type: \"1f\" },\r\n\t\t\t\"penumbraCos\": { type: \"1f\" },\r\n\t\t\t\"decay\": { type: \"1f\" },\r\n\r\n\t\t\t\"shadow\": { type: \"1i\" },\r\n\t\t\t\"shadowBias\": { type: \"1f\" },\r\n\t\t\t\"shadowRadius\": { type: \"1f\" },\r\n\t\t\t\"shadowMapSize\": { type: \"v2\" }\r\n\t\t} },\r\n\r\n\t\t\"spotShadowMap\": { type: \"tv\", value: [] },\r\n\t\t\"spotShadowMatrix\": { type: \"m4v\", value: [] },\r\n\r\n\t\t\"pointLights\": { type: \"sa\", value: [], properties: {\r\n\t\t\t\"color\": { type: \"c\" },\r\n\t\t\t\"position\": { type: \"v3\" },\r\n\t\t\t\"decay\": { type: \"1f\" },\r\n\t\t\t\"distance\": { type: \"1f\" },\r\n\r\n\t\t\t\"shadow\": { type: \"1i\" },\r\n\t\t\t\"shadowBias\": { type: \"1f\" },\r\n\t\t\t\"shadowRadius\": { type: \"1f\" },\r\n\t\t\t\"shadowMapSize\": { type: \"v2\" }\r\n\t\t} },\r\n\r\n\t\t\"pointShadowMap\": { type: \"tv\", value: [] },\r\n\t\t\"pointShadowMatrix\": { type: \"m4v\", value: [] },\r\n\r\n\t\t\"hemisphereLights\": { type: \"sa\", value: [], properties: {\r\n\t\t\t\"direction\": { type: \"v3\" },\r\n\t\t\t\"skyColor\": { type: \"c\" },\r\n\t\t\t\"groundColor\": { type: \"c\" }\r\n\t\t} }\r\n\r\n\t},\r\n\r\n\tpoints: {\r\n\r\n\t\t\"diffuse\": { type: \"c\", value: new THREE.Color( 0xeeeeee ) },\r\n\t\t\"opacity\": { type: \"1f\", value: 1.0 },\r\n\t\t\"size\": { type: \"1f\", value: 1.0 },\r\n\t\t\"scale\": { type: \"1f\", value: 1.0 },\r\n\t\t\"map\": { type: \"t\", value: null },\r\n\t\t\"offsetRepeat\": { type: \"v4\", value: new THREE.Vector4( 0, 0, 1, 1 ) }\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/renderers/shaders/ShaderLib/cube_frag.glsl\r\n\r\nTHREE.ShaderChunk[ 'cube_frag' ] = \"uniform samplerCube tCube;\\nuniform float tFlip;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\t#include <clipping_planes_fragment>\\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\\n\t#include <logdepthbuf_fragment>\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib/cube_vert.glsl\r\n\r\nTHREE.ShaderChunk[ 'cube_vert' ] = \"varying vec3 vWorldPosition;\\n#include <common>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\tvWorldPosition = transformDirection( position, modelMatrix );\\n\t#include <begin_vertex>\\n\t#include <project_vertex>\\n\t#include <logdepthbuf_vertex>\\n\t#include <clipping_planes_vertex>\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib/depth_frag.glsl\r\n\r\nTHREE.ShaderChunk[ 'depth_frag' ] = \"#if DEPTH_PACKING == 3200\\n\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\t#include <clipping_planes_fragment>\\n\tvec4 diffuseColor = vec4( 1.0 );\\n\t#if DEPTH_PACKING == 3200\\n\t\tdiffuseColor.a = opacity;\\n\t#endif\\n\t#include <map_fragment>\\n\t#include <alphamap_fragment>\\n\t#include <alphatest_fragment>\\n\t#include <logdepthbuf_fragment>\\n\t#if DEPTH_PACKING == 3200\\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\\n\t#elif DEPTH_PACKING == 3201\\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\n\t#endif\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib/depth_vert.glsl\r\n\r\nTHREE.ShaderChunk[ 'depth_vert' ] = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\t#include <uv_vertex>\\n\t#include <skinbase_vertex>\\n\t#include <begin_vertex>\\n\t#include <displacementmap_vertex>\\n\t#include <morphtarget_vertex>\\n\t#include <skinning_vertex>\\n\t#include <project_vertex>\\n\t#include <logdepthbuf_vertex>\\n\t#include <clipping_planes_vertex>\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib/distanceRGBA_frag.glsl\r\n\r\nTHREE.ShaderChunk[ 'distanceRGBA_frag' ] = \"uniform vec3 lightPos;\\nvarying vec4 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\t#include <clipping_planes_fragment>\\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib/distanceRGBA_vert.glsl\r\n\r\nTHREE.ShaderChunk[ 'distanceRGBA_vert' ] = \"varying vec4 vWorldPosition;\\n#include <common>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\t#include <skinbase_vertex>\\n\t#include <begin_vertex>\\n\t#include <morphtarget_vertex>\\n\t#include <skinning_vertex>\\n\t#include <project_vertex>\\n\t#include <worldpos_vertex>\\n\t#include <clipping_planes_vertex>\\n\tvWorldPosition = worldPosition;\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib/equirect_frag.glsl\r\n\r\nTHREE.ShaderChunk[ 'equirect_frag' ] = \"uniform sampler2D tEquirect;\\nuniform float tFlip;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\t#include <clipping_planes_fragment>\\n\tvec3 direction = normalize( vWorldPosition );\\n\tvec2 sampleUV;\\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\\n\t#include <logdepthbuf_fragment>\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib/equirect_vert.glsl\r\n\r\nTHREE.ShaderChunk[ 'equirect_vert' ] = \"varying vec3 vWorldPosition;\\n#include <common>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\tvWorldPosition = transformDirection( position, modelMatrix );\\n\t#include <begin_vertex>\\n\t#include <project_vertex>\\n\t#include <logdepthbuf_vertex>\\n\t#include <clipping_planes_vertex>\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib/linedashed_frag.glsl\r\n\r\nTHREE.ShaderChunk[ 'linedashed_frag' ] = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\t#include <clipping_planes_fragment>\\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\t\tdiscard;\\n\t}\\n\tvec3 outgoingLight = vec3( 0.0 );\\n\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\t#include <logdepthbuf_fragment>\\n\t#include <color_fragment>\\n\toutgoingLight = diffuseColor.rgb;\\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\t#include <premultiplied_alpha_fragment>\\n\t#include <tonemapping_fragment>\\n\t#include <encodings_fragment>\\n\t#include <fog_fragment>\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib/linedashed_vert.glsl\r\n\r\nTHREE.ShaderChunk[ 'linedashed_vert' ] = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\t#include <color_vertex>\\n\tvLineDistance = scale * lineDistance;\\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\tgl_Position = projectionMatrix * mvPosition;\\n\t#include <logdepthbuf_vertex>\\n\t#include <clipping_planes_vertex>\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib/meshbasic_frag.glsl\r\n\r\nTHREE.ShaderChunk[ 'meshbasic_frag' ] = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\t#include <clipping_planes_fragment>\\n\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\t#include <logdepthbuf_fragment>\\n\t#include <map_fragment>\\n\t#include <color_fragment>\\n\t#include <alphamap_fragment>\\n\t#include <alphatest_fragment>\\n\t#include <specularmap_fragment>\\n\tReflectedLight reflectedLight;\\n\treflectedLight.directDiffuse = vec3( 0.0 );\\n\treflectedLight.directSpecular = vec3( 0.0 );\\n\treflectedLight.indirectDiffuse = diffuseColor.rgb;\\n\treflectedLight.indirectSpecular = vec3( 0.0 );\\n\t#include <aomap_fragment>\\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\t#include <envmap_fragment>\\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\t#include <premultiplied_alpha_fragment>\\n\t#include <tonemapping_fragment>\\n\t#include <encodings_fragment>\\n\t#include <fog_fragment>\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib/meshbasic_vert.glsl\r\n\r\nTHREE.ShaderChunk[ 'meshbasic_vert' ] = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\t#include <uv_vertex>\\n\t#include <uv2_vertex>\\n\t#include <color_vertex>\\n\t#include <skinbase_vertex>\\n\t#ifdef USE_ENVMAP\\n\t#include <beginnormal_vertex>\\n\t#include <morphnormal_vertex>\\n\t#include <skinnormal_vertex>\\n\t#include <defaultnormal_vertex>\\n\t#endif\\n\t#include <begin_vertex>\\n\t#include <morphtarget_vertex>\\n\t#include <skinning_vertex>\\n\t#include <project_vertex>\\n\t#include <logdepthbuf_vertex>\\n\t#include <worldpos_vertex>\\n\t#include <clipping_planes_vertex>\\n\t#include <envmap_vertex>\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib/meshlambert_frag.glsl\r\n\r\nTHREE.ShaderChunk[ 'meshlambert_frag' ] = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\t#include <clipping_planes_fragment>\\n\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\tvec3 totalEmissiveRadiance = emissive;\\n\t#include <logdepthbuf_fragment>\\n\t#include <map_fragment>\\n\t#include <color_fragment>\\n\t#include <alphamap_fragment>\\n\t#include <alphatest_fragment>\\n\t#include <specularmap_fragment>\\n\t#include <emissivemap_fragment>\\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\t#include <lightmap_fragment>\\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\t#ifdef DOUBLE_SIDED\\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\t#else\\n\t\treflectedLight.directDiffuse = vLightFront;\\n\t#endif\\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\t#include <aomap_fragment>\\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\t#include <envmap_fragment>\\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\t#include <premultiplied_alpha_fragment>\\n\t#include <tonemapping_fragment>\\n\t#include <encodings_fragment>\\n\t#include <fog_fragment>\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib/meshlambert_vert.glsl\r\n\r\nTHREE.ShaderChunk[ 'meshlambert_vert' ] = \"#define LAMBERT\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <color_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\t#include <uv_vertex>\\n\t#include <uv2_vertex>\\n\t#include <color_vertex>\\n\t#include <beginnormal_vertex>\\n\t#include <morphnormal_vertex>\\n\t#include <skinbase_vertex>\\n\t#include <skinnormal_vertex>\\n\t#include <defaultnormal_vertex>\\n\t#include <begin_vertex>\\n\t#include <morphtarget_vertex>\\n\t#include <skinning_vertex>\\n\t#include <project_vertex>\\n\t#include <logdepthbuf_vertex>\\n\t#include <clipping_planes_vertex>\\n\t#include <worldpos_vertex>\\n\t#include <envmap_vertex>\\n\t#include <lights_lambert_vertex>\\n\t#include <shadowmap_vertex>\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib/meshphong_frag.glsl\r\n\r\nTHREE.ShaderChunk[ 'meshphong_frag' ] = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\t#include <clipping_planes_fragment>\\n\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\tvec3 totalEmissiveRadiance = emissive;\\n\t#include <logdepthbuf_fragment>\\n\t#include <map_fragment>\\n\t#include <color_fragment>\\n\t#include <alphamap_fragment>\\n\t#include <alphatest_fragment>\\n\t#include <specularmap_fragment>\\n\t#include <normal_fragment>\\n\t#include <emissivemap_fragment>\\n\t#include <lights_phong_fragment>\\n\t#include <lights_template>\\n\t#include <aomap_fragment>\\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\t#include <envmap_fragment>\\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\t#include <premultiplied_alpha_fragment>\\n\t#include <tonemapping_fragment>\\n\t#include <encodings_fragment>\\n\t#include <fog_fragment>\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib/meshphong_vert.glsl\r\n\r\nTHREE.ShaderChunk[ 'meshphong_vert' ] = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\t#include <uv_vertex>\\n\t#include <uv2_vertex>\\n\t#include <color_vertex>\\n\t#include <beginnormal_vertex>\\n\t#include <morphnormal_vertex>\\n\t#include <skinbase_vertex>\\n\t#include <skinnormal_vertex>\\n\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\tvNormal = normalize( transformedNormal );\\n#endif\\n\t#include <begin_vertex>\\n\t#include <displacementmap_vertex>\\n\t#include <morphtarget_vertex>\\n\t#include <skinning_vertex>\\n\t#include <project_vertex>\\n\t#include <logdepthbuf_vertex>\\n\t#include <clipping_planes_vertex>\\n\tvViewPosition = - mvPosition.xyz;\\n\t#include <worldpos_vertex>\\n\t#include <envmap_vertex>\\n\t#include <shadowmap_vertex>\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib/meshphysical_frag.glsl\r\n\r\nTHREE.ShaderChunk[ 'meshphysical_frag' ] = \"#define PHYSICAL\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\nuniform float envMapIntensity;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <lights_pars>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\t#include <clipping_planes_fragment>\\n\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\tvec3 totalEmissiveRadiance = emissive;\\n\t#include <logdepthbuf_fragment>\\n\t#include <map_fragment>\\n\t#include <color_fragment>\\n\t#include <alphamap_fragment>\\n\t#include <alphatest_fragment>\\n\t#include <specularmap_fragment>\\n\t#include <roughnessmap_fragment>\\n\t#include <metalnessmap_fragment>\\n\t#include <normal_fragment>\\n\t#include <emissivemap_fragment>\\n\t#include <lights_physical_fragment>\\n\t#include <lights_template>\\n\t#include <aomap_fragment>\\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\t#include <premultiplied_alpha_fragment>\\n\t#include <tonemapping_fragment>\\n\t#include <encodings_fragment>\\n\t#include <fog_fragment>\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib/meshphysical_vert.glsl\r\n\r\nTHREE.ShaderChunk[ 'meshphysical_vert' ] = \"#define PHYSICAL\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\t#include <uv_vertex>\\n\t#include <uv2_vertex>\\n\t#include <color_vertex>\\n\t#include <beginnormal_vertex>\\n\t#include <morphnormal_vertex>\\n\t#include <skinbase_vertex>\\n\t#include <skinnormal_vertex>\\n\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\tvNormal = normalize( transformedNormal );\\n#endif\\n\t#include <begin_vertex>\\n\t#include <displacementmap_vertex>\\n\t#include <morphtarget_vertex>\\n\t#include <skinning_vertex>\\n\t#include <project_vertex>\\n\t#include <logdepthbuf_vertex>\\n\t#include <clipping_planes_vertex>\\n\tvViewPosition = - mvPosition.xyz;\\n\t#include <worldpos_vertex>\\n\t#include <shadowmap_vertex>\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib/normal_frag.glsl\r\n\r\nTHREE.ShaderChunk[ 'normal_frag' ] = \"uniform float opacity;\\nvarying vec3 vNormal;\\n#include <common>\\n#include <packing>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\t#include <clipping_planes_fragment>\\n\tgl_FragColor = vec4( packNormalToRGB( vNormal ), opacity );\\n\t#include <logdepthbuf_fragment>\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib/normal_vert.glsl\r\n\r\nTHREE.ShaderChunk[ 'normal_vert' ] = \"varying vec3 vNormal;\\n#include <common>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\tvNormal = normalize( normalMatrix * normal );\\n\t#include <begin_vertex>\\n\t#include <morphtarget_vertex>\\n\t#include <project_vertex>\\n\t#include <logdepthbuf_vertex>\\n\t#include <clipping_planes_vertex>\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib/points_frag.glsl\r\n\r\nTHREE.ShaderChunk[ 'points_frag' ] = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\t#include <clipping_planes_fragment>\\n\tvec3 outgoingLight = vec3( 0.0 );\\n\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\t#include <logdepthbuf_fragment>\\n\t#include <map_particle_fragment>\\n\t#include <color_fragment>\\n\t#include <alphatest_fragment>\\n\toutgoingLight = diffuseColor.rgb;\\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\t#include <premultiplied_alpha_fragment>\\n\t#include <tonemapping_fragment>\\n\t#include <encodings_fragment>\\n\t#include <fog_fragment>\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib/points_vert.glsl\r\n\r\nTHREE.ShaderChunk[ 'points_vert' ] = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\t#include <color_vertex>\\n\t#include <begin_vertex>\\n\t#include <project_vertex>\\n\t#ifdef USE_SIZEATTENUATION\\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\\n\t#else\\n\t\tgl_PointSize = size;\\n\t#endif\\n\t#include <logdepthbuf_vertex>\\n\t#include <clipping_planes_vertex>\\n\t#include <worldpos_vertex>\\n\t#include <shadowmap_vertex>\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib/shadow_frag.glsl\r\n\r\nTHREE.ShaderChunk[ 'shadow_frag' ] = \"uniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib/shadow_vert.glsl\r\n\r\nTHREE.ShaderChunk[ 'shadow_vert' ] = \"#include <shadowmap_pars_vertex>\\nvoid main() {\\n\t#include <begin_vertex>\\n\t#include <project_vertex>\\n\t#include <worldpos_vertex>\\n\t#include <shadowmap_vertex>\\n}\\n\";\r\n\r\n// File:src/renderers/shaders/ShaderLib.js\r\n\r\n/**\r\n * Webgl Shader Library for three.js\r\n *\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author mikael emtinger / http://gomo.se/\r\n */\r\n\r\n\r\nTHREE.ShaderLib = {\r\n\r\n\t'basic': {\r\n\r\n\t\tuniforms: THREE.UniformsUtils.merge( [\r\n\r\n\t\t\tTHREE.UniformsLib[ 'common' ],\r\n\t\t\tTHREE.UniformsLib[ 'aomap' ],\r\n\t\t\tTHREE.UniformsLib[ 'fog' ]\r\n\r\n\t\t] ),\r\n\r\n\t\tvertexShader: THREE.ShaderChunk[ 'meshbasic_vert' ],\r\n\t\tfragmentShader: THREE.ShaderChunk[ 'meshbasic_frag' ]\r\n\r\n\t},\r\n\r\n\t'lambert': {\r\n\r\n\t\tuniforms: THREE.UniformsUtils.merge( [\r\n\r\n\t\t\tTHREE.UniformsLib[ 'common' ],\r\n\t\t\tTHREE.UniformsLib[ 'aomap' ],\r\n\t\t\tTHREE.UniformsLib[ 'lightmap' ],\r\n\t\t\tTHREE.UniformsLib[ 'emissivemap' ],\r\n\t\t\tTHREE.UniformsLib[ 'fog' ],\r\n\t\t\tTHREE.UniformsLib[ 'lights' ],\r\n\r\n\t\t\t{\r\n\t\t\t\t\"emissive\" : { type: \"c\", value: new THREE.Color( 0x000000 ) }\r\n\t\t\t}\r\n\r\n\t\t] ),\r\n\r\n\t\tvertexShader: THREE.ShaderChunk[ 'meshlambert_vert' ],\r\n\t\tfragmentShader: THREE.ShaderChunk[ 'meshlambert_frag' ]\r\n\r\n\t},\r\n\r\n\t'phong': {\r\n\r\n\t\tuniforms: THREE.UniformsUtils.merge( [\r\n\r\n\t\t\tTHREE.UniformsLib[ 'common' ],\r\n\t\t\tTHREE.UniformsLib[ 'aomap' ],\r\n\t\t\tTHREE.UniformsLib[ 'lightmap' ],\r\n\t\t\tTHREE.UniformsLib[ 'emissivemap' ],\r\n\t\t\tTHREE.UniformsLib[ 'bumpmap' ],\r\n\t\t\tTHREE.UniformsLib[ 'normalmap' ],\r\n\t\t\tTHREE.UniformsLib[ 'displacementmap' ],\r\n\t\t\tTHREE.UniformsLib[ 'fog' ],\r\n\t\t\tTHREE.UniformsLib[ 'lights' ],\r\n\r\n\t\t\t{\r\n\t\t\t\t\"emissive\" : { type: \"c\", value: new THREE.Color( 0x000000 ) },\r\n\t\t\t\t\"specular\" : { type: \"c\", value: new THREE.Color( 0x111111 ) },\r\n\t\t\t\t\"shininess\": { type: \"1f\", value: 30 }\r\n\t\t\t}\r\n\r\n\t\t] ),\r\n\r\n\t\tvertexShader: THREE.ShaderChunk[ 'meshphong_vert' ],\r\n\t\tfragmentShader: THREE.ShaderChunk[ 'meshphong_frag' ]\r\n\r\n\t},\r\n\r\n\t'standard': {\r\n\r\n\t\tuniforms: THREE.UniformsUtils.merge( [\r\n\r\n\t\t\tTHREE.UniformsLib[ 'common' ],\r\n\t\t\tTHREE.UniformsLib[ 'aomap' ],\r\n\t\t\tTHREE.UniformsLib[ 'lightmap' ],\r\n\t\t\tTHREE.UniformsLib[ 'emissivemap' ],\r\n\t\t\tTHREE.UniformsLib[ 'bumpmap' ],\r\n\t\t\tTHREE.UniformsLib[ 'normalmap' ],\r\n\t\t\tTHREE.UniformsLib[ 'displacementmap' ],\r\n\t\t\tTHREE.UniformsLib[ 'roughnessmap' ],\r\n\t\t\tTHREE.UniformsLib[ 'metalnessmap' ],\r\n\t\t\tTHREE.UniformsLib[ 'fog' ],\r\n\t\t\tTHREE.UniformsLib[ 'lights' ],\r\n\r\n\t\t\t{\r\n\t\t\t\t\"emissive\" : { type: \"c\", value: new THREE.Color( 0x000000 ) },\r\n\t\t\t\t\"roughness\": { type: \"1f\", value: 0.5 },\r\n\t\t\t\t\"metalness\": { type: \"1f\", value: 0 },\r\n\t\t\t\t\"envMapIntensity\" : { type: \"1f\", value: 1 } // temporary\r\n\t\t\t}\r\n\r\n\t\t] ),\r\n\r\n\t\tvertexShader: THREE.ShaderChunk[ 'meshphysical_vert' ],\r\n\t\tfragmentShader: THREE.ShaderChunk[ 'meshphysical_frag' ]\r\n\r\n\t},\r\n\r\n\t'points': {\r\n\r\n\t\tuniforms: THREE.UniformsUtils.merge( [\r\n\r\n\t\t\tTHREE.UniformsLib[ 'points' ],\r\n\t\t\tTHREE.UniformsLib[ 'fog' ]\r\n\r\n\t\t] ),\r\n\r\n\t\tvertexShader: THREE.ShaderChunk[ 'points_vert' ],\r\n\t\tfragmentShader: THREE.ShaderChunk[ 'points_frag' ]\r\n\r\n\t},\r\n\r\n\t'dashed': {\r\n\r\n\t\tuniforms: THREE.UniformsUtils.merge( [\r\n\r\n\t\t\tTHREE.UniformsLib[ 'common' ],\r\n\t\t\tTHREE.UniformsLib[ 'fog' ],\r\n\r\n\t\t\t{\r\n\t\t\t\t\"scale\"    : { type: \"1f\", value: 1 },\r\n\t\t\t\t\"dashSize\" : { type: \"1f\", value: 1 },\r\n\t\t\t\t\"totalSize\": { type: \"1f\", value: 2 }\r\n\t\t\t}\r\n\r\n\t\t] ),\r\n\r\n\t\tvertexShader: THREE.ShaderChunk[ 'linedashed_vert' ],\r\n\t\tfragmentShader: THREE.ShaderChunk[ 'linedashed_frag' ]\r\n\r\n\t},\r\n\r\n\t'depth': {\r\n\r\n\t\tuniforms: THREE.UniformsUtils.merge( [\r\n\r\n\t\t\tTHREE.UniformsLib[ 'common' ],\r\n\t\t\tTHREE.UniformsLib[ 'displacementmap' ]\r\n\r\n\t\t] ),\r\n\r\n\t\tvertexShader: THREE.ShaderChunk[ 'depth_vert' ],\r\n\t\tfragmentShader: THREE.ShaderChunk[ 'depth_frag' ]\r\n\r\n\t},\r\n\r\n\t'normal': {\r\n\r\n\t\tuniforms: {\r\n\r\n\t\t\t\"opacity\" : { type: \"1f\", value: 1.0 }\r\n\r\n\t\t},\r\n\r\n\t\tvertexShader: THREE.ShaderChunk[ 'normal_vert' ],\r\n\t\tfragmentShader: THREE.ShaderChunk[ 'normal_frag' ]\r\n\r\n\t},\r\n\r\n\t/* -------------------------------------------------------------------------\r\n\t//\tCube map shader\r\n\t ------------------------------------------------------------------------- */\r\n\r\n\t'cube': {\r\n\r\n\t\tuniforms: {\r\n\t\t\t\"tCube\": { type: \"t\", value: null },\r\n\t\t\t\"tFlip\": { type: \"1f\", value: - 1 }\r\n\t\t},\r\n\r\n\t\tvertexShader: THREE.ShaderChunk[ 'cube_vert' ],\r\n\t\tfragmentShader: THREE.ShaderChunk[ 'cube_frag' ]\r\n\r\n\t},\r\n\r\n\t/* -------------------------------------------------------------------------\r\n\t//\tCube map shader\r\n\t ------------------------------------------------------------------------- */\r\n\r\n\t'equirect': {\r\n\r\n\t\tuniforms: {\r\n\t\t\t\"tEquirect\": { type: \"t\", value: null },\r\n\t\t\t\"tFlip\": { type: \"1f\", value: - 1 }\r\n\t\t},\r\n\r\n\t\tvertexShader: THREE.ShaderChunk[ 'equirect_vert' ],\r\n\t\tfragmentShader: THREE.ShaderChunk[ 'equirect_frag' ]\r\n\r\n\t},\r\n\r\n\t'distanceRGBA': {\r\n\r\n\t\tuniforms: {\r\n\r\n\t\t\t\"lightPos\": { type: \"v3\", value: new THREE.Vector3() }\r\n\r\n\t\t},\r\n\r\n\t\tvertexShader: THREE.ShaderChunk[ 'distanceRGBA_vert' ],\r\n\t\tfragmentShader: THREE.ShaderChunk[ 'distanceRGBA_frag' ]\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.ShaderLib[ 'physical' ] = {\r\n\r\n\tuniforms: THREE.UniformsUtils.merge( [\r\n\r\n\t\tTHREE.ShaderLib[ 'standard' ].uniforms,\r\n\r\n\t\t{\r\n\t\t\t// future\r\n\t\t}\r\n\r\n\t] ),\r\n\r\n\tvertexShader: THREE.ShaderChunk[ 'meshphysical_vert' ],\r\n\tfragmentShader: THREE.ShaderChunk[ 'meshphysical_frag' ]\r\n\r\n};\r\n\r\n\r\n// File:src/renderers/WebGLRenderer.js\r\n\r\n/**\r\n * @author supereggbert / http://www.paulbrunt.co.uk/\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author szimek / https://github.com/szimek/\r\n * @author tschw\r\n */\r\n\r\nTHREE.WebGLRenderer = function ( parameters ) {\r\n\r\n\tconsole.log( 'THREE.WebGLRenderer', THREE.REVISION );\r\n\r\n\tparameters = parameters || {};\r\n\r\n\tvar _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElement( 'canvas' ),\r\n\t_context = parameters.context !== undefined ? parameters.context : null,\r\n\r\n\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\r\n\t_depth = parameters.depth !== undefined ? parameters.depth : true,\r\n\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\r\n\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\r\n\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\r\n\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false;\r\n\r\n\tvar lights = [];\r\n\r\n\tvar opaqueObjects = [];\r\n\tvar opaqueObjectsLastIndex = - 1;\r\n\tvar transparentObjects = [];\r\n\tvar transparentObjectsLastIndex = - 1;\r\n\r\n\tvar morphInfluences = new Float32Array( 8 );\r\n\r\n\tvar sprites = [];\r\n\tvar lensFlares = [];\r\n\r\n\t// public properties\r\n\r\n\tthis.domElement = _canvas;\r\n\tthis.context = null;\r\n\r\n\t// clearing\r\n\r\n\tthis.autoClear = true;\r\n\tthis.autoClearColor = true;\r\n\tthis.autoClearDepth = true;\r\n\tthis.autoClearStencil = true;\r\n\r\n\t// scene graph\r\n\r\n\tthis.sortObjects = true;\r\n\r\n\t// user-defined clipping\r\n\r\n\tthis.clippingPlanes = [];\r\n\tthis.localClippingEnabled = false;\r\n\r\n\t// physically based shading\r\n\r\n\tthis.gammaFactor = 2.0;\t// for backwards compatibility\r\n\tthis.gammaInput = false;\r\n\tthis.gammaOutput = false;\r\n\r\n\t// physical lights\r\n\r\n\tthis.physicallyCorrectLights = false;\r\n\r\n\t// tone mapping\r\n\r\n\tthis.toneMapping = THREE.LinearToneMapping;\r\n\tthis.toneMappingExposure = 1.0;\r\n\tthis.toneMappingWhitePoint = 1.0;\r\n\r\n\t// morphs\r\n\r\n\tthis.maxMorphTargets = 8;\r\n\tthis.maxMorphNormals = 4;\r\n\r\n\t// flags\r\n\r\n\tthis.autoScaleCubemaps = true;\r\n\r\n\t// internal properties\r\n\r\n\tvar _this = this,\r\n\r\n\t// internal state cache\r\n\r\n\t_currentProgram = null,\r\n\t_currentRenderTarget = null,\r\n\t_currentFramebuffer = null,\r\n\t_currentMaterialId = - 1,\r\n\t_currentGeometryProgram = '',\r\n\t_currentCamera = null,\r\n\r\n\t_currentScissor = new THREE.Vector4(),\r\n\t_currentScissorTest = null,\r\n\r\n\t_currentViewport = new THREE.Vector4(),\r\n\r\n\t//\r\n\r\n\t_usedTextureUnits = 0,\r\n\r\n\t//\r\n\r\n\t_clearColor = new THREE.Color( 0x000000 ),\r\n\t_clearAlpha = 0,\r\n\r\n\t_width = _canvas.width,\r\n\t_height = _canvas.height,\r\n\r\n\t_pixelRatio = 1,\r\n\r\n\t_scissor = new THREE.Vector4( 0, 0, _width, _height ),\r\n\t_scissorTest = false,\r\n\r\n\t_viewport = new THREE.Vector4( 0, 0, _width, _height ),\r\n\r\n\t// frustum\r\n\r\n\t_frustum = new THREE.Frustum(),\r\n\r\n\t// clipping\r\n\r\n\t_clipping = new THREE.WebGLClipping(),\r\n\t_clippingEnabled = false,\r\n\t_localClippingEnabled = false,\r\n\r\n\t_sphere = new THREE.Sphere(),\r\n\r\n\t// camera matrices cache\r\n\r\n\t_projScreenMatrix = new THREE.Matrix4(),\r\n\r\n\t_vector3 = new THREE.Vector3(),\r\n\r\n\t// light arrays cache\r\n\r\n\t_lights = {\r\n\r\n\t\thash: '',\r\n\r\n\t\tambient: [ 0, 0, 0 ],\r\n\t\tdirectional: [],\r\n\t\tdirectionalShadowMap: [],\r\n\t\tdirectionalShadowMatrix: [],\r\n\t\tspot: [],\r\n\t\tspotShadowMap: [],\r\n\t\tspotShadowMatrix: [],\r\n\t\tpoint: [],\r\n\t\tpointShadowMap: [],\r\n\t\tpointShadowMatrix: [],\r\n\t\themi: [],\r\n\r\n\t\tshadows: []\r\n\r\n\t},\r\n\r\n\t// info\r\n\r\n\t_infoMemory = {\r\n\r\n\t\tgeometries: 0,\r\n\t\ttextures: 0\r\n\r\n\t},\r\n\r\n\t_infoRender = {\r\n\r\n\t\tcalls: 0,\r\n\t\tvertices: 0,\r\n\t\tfaces: 0,\r\n\t\tpoints: 0\r\n\r\n\t};\r\n\r\n\tthis.info = {\r\n\r\n\t\trender: _infoRender,\r\n\t\tmemory: _infoMemory,\r\n\t\tprograms: null\r\n\r\n\t};\r\n\r\n\r\n\t// initialize\r\n\r\n\tvar _gl;\r\n\r\n\ttry {\r\n\r\n\t\tvar attributes = {\r\n\t\t\talpha: _alpha,\r\n\t\t\tdepth: _depth,\r\n\t\t\tstencil: _stencil,\r\n\t\t\tantialias: _antialias,\r\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\r\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer\r\n\t\t};\r\n\r\n\t\t_gl = _context || _canvas.getContext( 'webgl', attributes ) || _canvas.getContext( 'experimental-webgl', attributes );\r\n\r\n\t\tif ( _gl === null ) {\r\n\r\n\t\t\tif ( _canvas.getContext( 'webgl' ) !== null ) {\r\n\r\n\t\t\t\tthrow 'Error creating WebGL context with your selected attributes.';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthrow 'Error creating WebGL context.';\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\r\n\r\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\r\n\r\n\t\t\t_gl.getShaderPrecisionFormat = function () {\r\n\r\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\r\n\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\r\n\r\n\t} catch ( error ) {\r\n\r\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error );\r\n\r\n\t}\r\n\r\n\tvar _isWebGL2 = (typeof WebGL2RenderingContext !== 'undefined' && _gl instanceof WebGL2RenderingContext);\r\n\tvar extensions = new THREE.WebGLExtensions( _gl );\r\n\r\n\textensions.get( 'WEBGL_depth_texture' );\r\n\textensions.get( 'OES_texture_float' );\r\n\textensions.get( 'OES_texture_float_linear' );\r\n\textensions.get( 'OES_texture_half_float' );\r\n\textensions.get( 'OES_texture_half_float_linear' );\r\n\textensions.get( 'OES_standard_derivatives' );\r\n\textensions.get( 'ANGLE_instanced_arrays' );\r\n\r\n\tif ( extensions.get( 'OES_element_index_uint' ) ) {\r\n\r\n\t\tTHREE.BufferGeometry.MaxIndex = 4294967296;\r\n\r\n\t}\r\n\r\n\tvar capabilities = new THREE.WebGLCapabilities( _gl, extensions, parameters );\r\n\r\n\tvar state = new THREE.WebGLState( _gl, extensions, paramThreeToGL );\r\n\tvar properties = new THREE.WebGLProperties();\r\n\tvar objects = new THREE.WebGLObjects( _gl, properties, this.info );\r\n\tvar programCache = new THREE.WebGLPrograms( this, capabilities );\r\n\tvar lightCache = new THREE.WebGLLights();\r\n\r\n\tthis.info.programs = programCache.programs;\r\n\r\n\tvar bufferRenderer = new THREE.WebGLBufferRenderer( _gl, extensions, _infoRender );\r\n\tvar indexedBufferRenderer = new THREE.WebGLIndexedBufferRenderer( _gl, extensions, _infoRender );\r\n\r\n\t//\r\n\r\n\tfunction getTargetPixelRatio() {\r\n\r\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\r\n\r\n\t}\r\n\r\n\tfunction glClearColor( r, g, b, a ) {\r\n\r\n\t\tif ( _premultipliedAlpha === true ) {\r\n\r\n\t\t\tr *= a; g *= a; b *= a;\r\n\r\n\t\t}\r\n\r\n\t\tstate.clearColor( r, g, b, a );\r\n\r\n\t}\r\n\r\n\tfunction setDefaultGLState() {\r\n\r\n\t\tstate.init();\r\n\r\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ) );\r\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ) );\r\n\r\n\t\tglClearColor( _clearColor.r, _clearColor.g, _clearColor.b, _clearAlpha );\r\n\r\n\t}\r\n\r\n\tfunction resetGLState() {\r\n\r\n\t\t_currentProgram = null;\r\n\t\t_currentCamera = null;\r\n\r\n\t\t_currentGeometryProgram = '';\r\n\t\t_currentMaterialId = - 1;\r\n\r\n\t\tstate.reset();\r\n\r\n\t}\r\n\r\n\tsetDefaultGLState();\r\n\r\n\tthis.context = _gl;\r\n\tthis.capabilities = capabilities;\r\n\tthis.extensions = extensions;\r\n\tthis.properties = properties;\r\n\tthis.state = state;\r\n\r\n\t// shadow map\r\n\r\n\tvar shadowMap = new THREE.WebGLShadowMap( this, _lights, objects );\r\n\r\n\tthis.shadowMap = shadowMap;\r\n\r\n\r\n\t// Plugins\r\n\r\n\tvar spritePlugin = new THREE.SpritePlugin( this, sprites );\r\n\tvar lensFlarePlugin = new THREE.LensFlarePlugin( this, lensFlares );\r\n\r\n\t// API\r\n\r\n\tthis.getContext = function () {\r\n\r\n\t\treturn _gl;\r\n\r\n\t};\r\n\r\n\tthis.getContextAttributes = function () {\r\n\r\n\t\treturn _gl.getContextAttributes();\r\n\r\n\t};\r\n\r\n\tthis.forceContextLoss = function () {\r\n\r\n\t\textensions.get( 'WEBGL_lose_context' ).loseContext();\r\n\r\n\t};\r\n\r\n\tthis.getMaxAnisotropy = ( function () {\r\n\r\n\t\tvar value;\r\n\r\n\t\treturn function getMaxAnisotropy() {\r\n\r\n\t\t\tif ( value !== undefined ) return value;\r\n\r\n\t\t\tvar extension = extensions.get( 'EXT_texture_filter_anisotropic' );\r\n\r\n\t\t\tif ( extension !== null ) {\r\n\r\n\t\t\t\tvalue = _gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvalue = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn value;\r\n\r\n\t\t};\r\n\r\n\t} )();\r\n\r\n\tthis.getPrecision = function () {\r\n\r\n\t\treturn capabilities.precision;\r\n\r\n\t};\r\n\r\n\tthis.getPixelRatio = function () {\r\n\r\n\t\treturn _pixelRatio;\r\n\r\n\t};\r\n\r\n\tthis.setPixelRatio = function ( value ) {\r\n\r\n\t\tif ( value === undefined ) return;\r\n\r\n\t\t_pixelRatio = value;\r\n\r\n\t\tthis.setSize( _viewport.z, _viewport.w, false );\r\n\r\n\t};\r\n\r\n\tthis.getSize = function () {\r\n\r\n\t\treturn {\r\n\t\t\twidth: _width,\r\n\t\t\theight: _height\r\n\t\t};\r\n\r\n\t};\r\n\r\n\tthis.setSize = function ( width, height, updateStyle ) {\r\n\r\n\t\t_width = width;\r\n\t\t_height = height;\r\n\r\n\t\t_canvas.width = width * _pixelRatio;\r\n\t\t_canvas.height = height * _pixelRatio;\r\n\r\n\t\tif ( updateStyle !== false ) {\r\n\r\n\t\t\t_canvas.style.width = width + 'px';\r\n\t\t\t_canvas.style.height = height + 'px';\r\n\r\n\t\t}\r\n\r\n\t\tthis.setViewport( 0, 0, width, height );\r\n\r\n\t};\r\n\r\n\tthis.setViewport = function ( x, y, width, height ) {\r\n\r\n\t\tstate.viewport( _viewport.set( x, y, width, height ) );\r\n\r\n\t};\r\n\r\n\tthis.setScissor = function ( x, y, width, height ) {\r\n\r\n\t\tstate.scissor( _scissor.set( x, y, width, height ) );\r\n\r\n\t};\r\n\r\n\tthis.setScissorTest = function ( boolean ) {\r\n\r\n\t\tstate.setScissorTest( _scissorTest = boolean );\r\n\r\n\t};\r\n\r\n\t// Clearing\r\n\r\n\tthis.getClearColor = function () {\r\n\r\n\t\treturn _clearColor;\r\n\r\n\t};\r\n\r\n\tthis.setClearColor = function ( color, alpha ) {\r\n\r\n\t\t_clearColor.set( color );\r\n\r\n\t\t_clearAlpha = alpha !== undefined ? alpha : 1;\r\n\r\n\t\tglClearColor( _clearColor.r, _clearColor.g, _clearColor.b, _clearAlpha );\r\n\r\n\t};\r\n\r\n\tthis.getClearAlpha = function () {\r\n\r\n\t\treturn _clearAlpha;\r\n\r\n\t};\r\n\r\n\tthis.setClearAlpha = function ( alpha ) {\r\n\r\n\t\t_clearAlpha = alpha;\r\n\r\n\t\tglClearColor( _clearColor.r, _clearColor.g, _clearColor.b, _clearAlpha );\r\n\r\n\t};\r\n\r\n\tthis.clear = function ( color, depth, stencil ) {\r\n\r\n\t\tvar bits = 0;\r\n\r\n\t\tif ( color === undefined || color ) bits |= _gl.COLOR_BUFFER_BIT;\r\n\t\tif ( depth === undefined || depth ) bits |= _gl.DEPTH_BUFFER_BIT;\r\n\t\tif ( stencil === undefined || stencil ) bits |= _gl.STENCIL_BUFFER_BIT;\r\n\r\n\t\t_gl.clear( bits );\r\n\r\n\t};\r\n\r\n\tthis.clearColor = function () {\r\n\r\n\t\tthis.clear( true, false, false );\r\n\r\n\t};\r\n\r\n\tthis.clearDepth = function () {\r\n\r\n\t\tthis.clear( false, true, false );\r\n\r\n\t};\r\n\r\n\tthis.clearStencil = function () {\r\n\r\n\t\tthis.clear( false, false, true );\r\n\r\n\t};\r\n\r\n\tthis.clearTarget = function ( renderTarget, color, depth, stencil ) {\r\n\r\n\t\tthis.setRenderTarget( renderTarget );\r\n\t\tthis.clear( color, depth, stencil );\r\n\r\n\t};\r\n\r\n\t// Reset\r\n\r\n\tthis.resetGLState = resetGLState;\r\n\r\n\tthis.dispose = function() {\r\n\r\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\r\n\r\n\t};\r\n\r\n\t// Events\r\n\r\n\tfunction onContextLost( event ) {\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tresetGLState();\r\n\t\tsetDefaultGLState();\r\n\r\n\t\tproperties.clear();\r\n\r\n\t}\r\n\r\n\tfunction onTextureDispose( event ) {\r\n\r\n\t\tvar texture = event.target;\r\n\r\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\r\n\r\n\t\tdeallocateTexture( texture );\r\n\r\n\t\t_infoMemory.textures --;\r\n\r\n\r\n\t}\r\n\r\n\tfunction onRenderTargetDispose( event ) {\r\n\r\n\t\tvar renderTarget = event.target;\r\n\r\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\r\n\r\n\t\tdeallocateRenderTarget( renderTarget );\r\n\r\n\t\t_infoMemory.textures --;\r\n\r\n\t}\r\n\r\n\tfunction onMaterialDispose( event ) {\r\n\r\n\t\tvar material = event.target;\r\n\r\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\r\n\r\n\t\tdeallocateMaterial( material );\r\n\r\n\t}\r\n\r\n\t// Buffer deallocation\r\n\r\n\tfunction deallocateTexture( texture ) {\r\n\r\n\t\tvar textureProperties = properties.get( texture );\r\n\r\n\t\tif ( texture.image && textureProperties.__image__webglTextureCube ) {\r\n\r\n\t\t\t// cube texture\r\n\r\n\t\t\t_gl.deleteTexture( textureProperties.__image__webglTextureCube );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// 2D texture\r\n\r\n\t\t\tif ( textureProperties.__webglInit === undefined ) return;\r\n\r\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\r\n\r\n\t\t}\r\n\r\n\t\t// remove all webgl properties\r\n\t\tproperties.delete( texture );\r\n\r\n\t}\r\n\r\n\tfunction deallocateRenderTarget( renderTarget ) {\r\n\r\n\t\tvar renderTargetProperties = properties.get( renderTarget );\r\n\t\tvar textureProperties = properties.get( renderTarget.texture );\r\n\r\n\t\tif ( ! renderTarget ) return;\r\n\r\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\r\n\r\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\r\n\r\n\t\t}\r\n\r\n\t\tif ( renderTarget.depthTexture ) {\r\n\r\n\t\t\trenderTarget.depthTexture.dispose();\r\n\r\n\t\t}\r\n\r\n\t\tif ( renderTarget instanceof THREE.WebGLRenderTargetCube ) {\r\n\r\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\r\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\r\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\r\n\r\n\t\t}\r\n\r\n\t\tproperties.delete( renderTarget.texture );\r\n\t\tproperties.delete( renderTarget );\r\n\r\n\t}\r\n\r\n\tfunction deallocateMaterial( material ) {\r\n\r\n\t\treleaseMaterialProgramReference( material );\r\n\r\n\t\tproperties.delete( material );\r\n\r\n\t}\r\n\r\n\r\n\tfunction releaseMaterialProgramReference( material ) {\r\n\r\n\t\tvar programInfo = properties.get( material ).program;\r\n\r\n\t\tmaterial.program = undefined;\r\n\r\n\t\tif ( programInfo !== undefined ) {\r\n\r\n\t\t\tprogramCache.releaseProgram( programInfo );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// Buffer rendering\r\n\r\n\tthis.renderBufferImmediate = function ( object, program, material ) {\r\n\r\n\t\tstate.initAttributes();\r\n\r\n\t\tvar buffers = properties.get( object );\r\n\r\n\t\tif ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\r\n\t\tif ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\r\n\t\tif ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\r\n\t\tif ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\r\n\r\n\t\tvar attributes = program.getAttributes();\r\n\r\n\t\tif ( object.hasPositions ) {\r\n\r\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.position );\r\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.positionArray, _gl.DYNAMIC_DRAW );\r\n\r\n\t\t\tstate.enableAttribute( attributes.position );\r\n\t\t\t_gl.vertexAttribPointer( attributes.position, 3, _gl.FLOAT, false, 0, 0 );\r\n\r\n\t\t}\r\n\r\n\t\tif ( object.hasNormals ) {\r\n\r\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.normal );\r\n\r\n\t\t\tif ( material.type !== 'MeshPhongMaterial' && material.type !== 'MeshStandardMaterial' && material.type !== 'MeshPhysicalMaterial' && material.shading === THREE.FlatShading ) {\r\n\r\n\t\t\t\tfor ( var i = 0, l = object.count * 3; i < l; i += 9 ) {\r\n\r\n\t\t\t\t\tvar array = object.normalArray;\r\n\r\n\t\t\t\t\tvar nx = ( array[ i + 0 ] + array[ i + 3 ] + array[ i + 6 ] ) / 3;\r\n\t\t\t\t\tvar ny = ( array[ i + 1 ] + array[ i + 4 ] + array[ i + 7 ] ) / 3;\r\n\t\t\t\t\tvar nz = ( array[ i + 2 ] + array[ i + 5 ] + array[ i + 8 ] ) / 3;\r\n\r\n\t\t\t\t\tarray[ i + 0 ] = nx;\r\n\t\t\t\t\tarray[ i + 1 ] = ny;\r\n\t\t\t\t\tarray[ i + 2 ] = nz;\r\n\r\n\t\t\t\t\tarray[ i + 3 ] = nx;\r\n\t\t\t\t\tarray[ i + 4 ] = ny;\r\n\t\t\t\t\tarray[ i + 5 ] = nz;\r\n\r\n\t\t\t\t\tarray[ i + 6 ] = nx;\r\n\t\t\t\t\tarray[ i + 7 ] = ny;\r\n\t\t\t\t\tarray[ i + 8 ] = nz;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.normalArray, _gl.DYNAMIC_DRAW );\r\n\r\n\t\t\tstate.enableAttribute( attributes.normal );\r\n\r\n\t\t\t_gl.vertexAttribPointer( attributes.normal, 3, _gl.FLOAT, false, 0, 0 );\r\n\r\n\t\t}\r\n\r\n\t\tif ( object.hasUvs && material.map ) {\r\n\r\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.uv );\r\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.uvArray, _gl.DYNAMIC_DRAW );\r\n\r\n\t\t\tstate.enableAttribute( attributes.uv );\r\n\r\n\t\t\t_gl.vertexAttribPointer( attributes.uv, 2, _gl.FLOAT, false, 0, 0 );\r\n\r\n\t\t}\r\n\r\n\t\tif ( object.hasColors && material.vertexColors !== THREE.NoColors ) {\r\n\r\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.color );\r\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.colorArray, _gl.DYNAMIC_DRAW );\r\n\r\n\t\t\tstate.enableAttribute( attributes.color );\r\n\r\n\t\t\t_gl.vertexAttribPointer( attributes.color, 3, _gl.FLOAT, false, 0, 0 );\r\n\r\n\t\t}\r\n\r\n\t\tstate.disableUnusedAttributes();\r\n\r\n\t\t_gl.drawArrays( _gl.TRIANGLES, 0, object.count );\r\n\r\n\t\tobject.count = 0;\r\n\r\n\t};\r\n\r\n\tthis.renderBufferDirect = function ( camera, fog, geometry, material, object, group ) {\r\n\r\n\t\tsetMaterial( material );\r\n\r\n\t\tvar program = setProgram( camera, fog, material, object );\r\n\r\n\t\tvar updateBuffers = false;\r\n\t\tvar geometryProgram = geometry.id + '_' + program.id + '_' + material.wireframe;\r\n\r\n\t\tif ( geometryProgram !== _currentGeometryProgram ) {\r\n\r\n\t\t\t_currentGeometryProgram = geometryProgram;\r\n\t\t\tupdateBuffers = true;\r\n\r\n\t\t}\r\n\r\n\t\t// morph targets\r\n\r\n\t\tvar morphTargetInfluences = object.morphTargetInfluences;\r\n\r\n\t\tif ( morphTargetInfluences !== undefined ) {\r\n\r\n\t\t\tvar activeInfluences = [];\r\n\r\n\t\t\tfor ( var i = 0, l = morphTargetInfluences.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar influence = morphTargetInfluences[ i ];\r\n\t\t\t\tactiveInfluences.push( [ influence, i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tactiveInfluences.sort( absNumericalSort );\r\n\r\n\t\t\tif ( activeInfluences.length > 8 ) {\r\n\r\n\t\t\t\tactiveInfluences.length = 8;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar morphAttributes = geometry.morphAttributes;\r\n\r\n\t\t\tfor ( var i = 0, l = activeInfluences.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar influence = activeInfluences[ i ];\r\n\t\t\t\tmorphInfluences[ i ] = influence[ 0 ];\r\n\r\n\t\t\t\tif ( influence[ 0 ] !== 0 ) {\r\n\r\n\t\t\t\t\tvar index = influence[ 1 ];\r\n\r\n\t\t\t\t\tif ( material.morphTargets === true && morphAttributes.position ) geometry.addAttribute( 'morphTarget' + i, morphAttributes.position[ index ] );\r\n\t\t\t\t\tif ( material.morphNormals === true && morphAttributes.normal ) geometry.addAttribute( 'morphNormal' + i, morphAttributes.normal[ index ] );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( material.morphTargets === true ) geometry.removeAttribute( 'morphTarget' + i );\r\n\t\t\t\t\tif ( material.morphNormals === true ) geometry.removeAttribute( 'morphNormal' + i );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tprogram.getUniforms().setValue(\r\n\t\t\t\t\t_gl, 'morphTargetInfluences', morphInfluences );\r\n\r\n\t\t\tupdateBuffers = true;\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tvar index = geometry.index;\r\n\t\tvar position = geometry.attributes.position;\r\n\r\n\t\tif ( material.wireframe === true ) {\r\n\r\n\t\t\tindex = objects.getWireframeAttribute( geometry );\r\n\r\n\t\t}\r\n\r\n\t\tvar renderer;\r\n\r\n\t\tif ( index !== null ) {\r\n\r\n\t\t\trenderer = indexedBufferRenderer;\r\n\t\t\trenderer.setIndex( index );\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderer = bufferRenderer;\r\n\r\n\t\t}\r\n\r\n\t\tif ( updateBuffers ) {\r\n\r\n\t\t\tsetupVertexAttributes( material, program, geometry );\r\n\r\n\t\t\tif ( index !== null ) {\r\n\r\n\t\t\t\t_gl.bindBuffer( _gl.ELEMENT_ARRAY_BUFFER, objects.getAttributeBuffer( index ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tvar dataStart = 0;\r\n\t\tvar dataCount = Infinity;\r\n\r\n\t\tif ( index !== null ) {\r\n\r\n\t\t\tdataCount = index.count;\r\n\r\n\t\t} else if ( position !== undefined ) {\r\n\r\n\t\t\tdataCount = position.count;\r\n\r\n\t\t}\r\n\r\n\t\tvar rangeStart = geometry.drawRange.start;\r\n\t\tvar rangeCount = geometry.drawRange.count;\r\n\r\n\t\tvar groupStart = group !== null ? group.start : 0;\r\n\t\tvar groupCount = group !== null ? group.count : Infinity;\r\n\r\n\t\tvar drawStart = Math.max( dataStart, rangeStart, groupStart );\r\n\t\tvar drawEnd = Math.min( dataStart + dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\r\n\r\n\t\tvar drawCount = Math.max( 0, drawEnd - drawStart + 1 );\r\n\r\n\t\t//\r\n\r\n\t\tif ( object instanceof THREE.Mesh ) {\r\n\r\n\t\t\tif ( material.wireframe === true ) {\r\n\r\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\r\n\t\t\t\trenderer.setMode( _gl.LINES );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tswitch ( object.drawMode ) {\r\n\r\n\t\t\t\t\tcase THREE.TrianglesDrawMode:\r\n\t\t\t\t\t\trenderer.setMode( _gl.TRIANGLES );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase THREE.TriangleStripDrawMode:\r\n\t\t\t\t\t\trenderer.setMode( _gl.TRIANGLE_STRIP );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase THREE.TriangleFanDrawMode:\r\n\t\t\t\t\t\trenderer.setMode( _gl.TRIANGLE_FAN );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t} else if ( object instanceof THREE.Line ) {\r\n\r\n\t\t\tvar lineWidth = material.linewidth;\r\n\r\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\r\n\r\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\r\n\r\n\t\t\tif ( object instanceof THREE.LineSegments ) {\r\n\r\n\t\t\t\trenderer.setMode( _gl.LINES );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\trenderer.setMode( _gl.LINE_STRIP );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( object instanceof THREE.Points ) {\r\n\r\n\t\t\trenderer.setMode( _gl.POINTS );\r\n\r\n\t\t}\r\n\r\n\t\tif ( geometry instanceof THREE.InstancedBufferGeometry ) {\r\n\r\n\t\t\tif ( geometry.maxInstancedCount > 0 ) {\r\n\r\n\t\t\t\trenderer.renderInstances( geometry, drawStart, drawCount );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderer.render( drawStart, drawCount );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tfunction setupVertexAttributes( material, program, geometry, startIndex ) {\r\n\r\n\t\tvar extension;\r\n\r\n\t\tif ( geometry instanceof THREE.InstancedBufferGeometry ) {\r\n\r\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\r\n\r\n\t\t\tif ( extension === null ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( startIndex === undefined ) startIndex = 0;\r\n\r\n\t\tstate.initAttributes();\r\n\r\n\t\tvar geometryAttributes = geometry.attributes;\r\n\r\n\t\tvar programAttributes = program.getAttributes();\r\n\r\n\t\tvar materialDefaultAttributeValues = material.defaultAttributeValues;\r\n\r\n\t\tfor ( var name in programAttributes ) {\r\n\r\n\t\t\tvar programAttribute = programAttributes[ name ];\r\n\r\n\t\t\tif ( programAttribute >= 0 ) {\r\n\r\n\t\t\t\tvar geometryAttribute = geometryAttributes[ name ];\r\n\r\n\t\t\t\tif ( geometryAttribute !== undefined ) {\r\n\r\n\t\t\t\t\tvar type = _gl.FLOAT;\r\n\t\t\t\t\tvar array = geometryAttribute.array;\r\n\t\t\t\t\tvar normalized = geometryAttribute.normalized;\r\n\r\n\t\t\t\t\tif ( array instanceof Float32Array ) {\r\n\r\n\t\t\t\t\t\ttype = _gl.FLOAT;\r\n\r\n\t\t\t\t\t} else if ( array instanceof Float64Array ) {\r\n\r\n\t\t\t\t\t\tconsole.warn(\"Unsupported data buffer format: Float64Array\");\r\n\r\n\t\t\t\t\t} else if ( array instanceof Uint16Array ) {\r\n\r\n\t\t\t\t\t\ttype = _gl.UNSIGNED_SHORT;\r\n\r\n\t\t\t\t\t} else if ( array instanceof Int16Array ) {\r\n\r\n\t\t\t\t\t\ttype = _gl.SHORT;\r\n\r\n\t\t\t\t\t} else if ( array instanceof Uint32Array ) {\r\n\r\n\t\t\t\t\t\ttype = _gl.UNSIGNED_INT;\r\n\r\n\t\t\t\t\t} else if ( array instanceof Int32Array ) {\r\n\r\n\t\t\t\t\t\ttype = _gl.INT;\r\n\r\n\t\t\t\t\t} else if ( array instanceof Int8Array ) {\r\n\r\n\t\t\t\t\t\ttype = _gl.BYTE;\r\n\r\n\t\t\t\t\t} else if ( array instanceof Uint8Array ) {\r\n\r\n\t\t\t\t\t\ttype = _gl.UNSIGNED_BYTE;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar size = geometryAttribute.itemSize;\r\n\t\t\t\t\tvar buffer = objects.getAttributeBuffer( geometryAttribute );\r\n\r\n\t\t\t\t\tif ( geometryAttribute instanceof THREE.InterleavedBufferAttribute ) {\r\n\r\n\t\t\t\t\t\tvar data = geometryAttribute.data;\r\n\t\t\t\t\t\tvar stride = data.stride;\r\n\t\t\t\t\t\tvar offset = geometryAttribute.offset;\r\n\r\n\t\t\t\t\t\tif ( data instanceof THREE.InstancedInterleavedBuffer ) {\r\n\r\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, data.meshPerAttribute, extension );\r\n\r\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\r\n\r\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = data.meshPerAttribute * data.count;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffer );\r\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, stride * data.array.BYTES_PER_ELEMENT, ( startIndex * stride + offset ) * data.array.BYTES_PER_ELEMENT );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tif ( geometryAttribute instanceof THREE.InstancedBufferAttribute ) {\r\n\r\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute, extension );\r\n\r\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\r\n\r\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffer );\r\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, 0, startIndex * size * geometryAttribute.array.BYTES_PER_ELEMENT );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\r\n\r\n\t\t\t\t\tvar value = materialDefaultAttributeValues[ name ];\r\n\r\n\t\t\t\t\tif ( value !== undefined ) {\r\n\r\n\t\t\t\t\t\tswitch ( value.length ) {\r\n\r\n\t\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\t\t_gl.vertexAttrib2fv( programAttribute, value );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\t\t\t_gl.vertexAttrib3fv( programAttribute, value );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\t\t\t_gl.vertexAttrib4fv( programAttribute, value );\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t_gl.vertexAttrib1fv( programAttribute, value );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tstate.disableUnusedAttributes();\r\n\r\n\t}\r\n\r\n\t// Sorting\r\n\r\n\tfunction absNumericalSort( a, b ) {\r\n\r\n\t\treturn Math.abs( b[ 0 ] ) - Math.abs( a[ 0 ] );\r\n\r\n\t}\r\n\r\n\tfunction painterSortStable ( a, b ) {\r\n\r\n\t\tif ( a.object.renderOrder !== b.object.renderOrder ) {\r\n\r\n\t\t\treturn a.object.renderOrder - b.object.renderOrder;\r\n\r\n\t\t} else if ( a.material.id !== b.material.id ) {\r\n\r\n\t\t\treturn a.material.id - b.material.id;\r\n\r\n\t\t} else if ( a.z !== b.z ) {\r\n\r\n\t\t\treturn a.z - b.z;\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn a.id - b.id;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction reversePainterSortStable ( a, b ) {\r\n\r\n\t\tif ( a.object.renderOrder !== b.object.renderOrder ) {\r\n\r\n\t\t\treturn a.object.renderOrder - b.object.renderOrder;\r\n\r\n\t\t} if ( a.z !== b.z ) {\r\n\r\n\t\t\treturn b.z - a.z;\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn a.id - b.id;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// Rendering\r\n\r\n\tthis.render = function ( scene, camera, renderTarget, forceClear ) {\r\n\r\n\t\tif ( camera instanceof THREE.Camera === false ) {\r\n\r\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tvar fog = scene.fog;\r\n\r\n\t\t// reset caching for this frame\r\n\r\n\t\t_currentGeometryProgram = '';\r\n\t\t_currentMaterialId = - 1;\r\n\t\t_currentCamera = null;\r\n\r\n\t\t// update scene graph\r\n\r\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\r\n\r\n\t\t// update camera matrices and frustum\r\n\r\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\r\n\r\n\t\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\r\n\r\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\r\n\t\t_frustum.setFromMatrix( _projScreenMatrix );\r\n\r\n\t\tlights.length = 0;\r\n\r\n\t\topaqueObjectsLastIndex = - 1;\r\n\t\ttransparentObjectsLastIndex = - 1;\r\n\r\n\t\tsprites.length = 0;\r\n\t\tlensFlares.length = 0;\r\n\r\n\t\t_localClippingEnabled = this.localClippingEnabled;\r\n\t\t_clippingEnabled = _clipping.init(\r\n\t\t\t\tthis.clippingPlanes, _localClippingEnabled, camera );\r\n\r\n\t\tprojectObject( scene, camera );\r\n\r\n\r\n\t\topaqueObjects.length = opaqueObjectsLastIndex + 1;\r\n\t\ttransparentObjects.length = transparentObjectsLastIndex + 1;\r\n\r\n\t\tif ( _this.sortObjects === true ) {\r\n\r\n\t\t\topaqueObjects.sort( painterSortStable );\r\n\t\t\ttransparentObjects.sort( reversePainterSortStable );\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tif ( _clippingEnabled ) _clipping.beginShadows();\r\n\r\n\t\tsetupShadows( lights );\r\n\r\n\t\tshadowMap.render( scene, camera );\r\n\r\n\t\tsetupLights( lights, camera );\r\n\r\n\t\tif ( _clippingEnabled ) _clipping.endShadows();\r\n\r\n\t\t//\r\n\r\n\t\t_infoRender.calls = 0;\r\n\t\t_infoRender.vertices = 0;\r\n\t\t_infoRender.faces = 0;\r\n\t\t_infoRender.points = 0;\r\n\r\n\t\tif ( renderTarget === undefined ) {\r\n\r\n\t\t\trenderTarget = null;\r\n\r\n\t\t}\r\n\r\n\t\tthis.setRenderTarget( renderTarget );\r\n\r\n\t\tif ( this.autoClear || forceClear ) {\r\n\r\n\t\t\tthis.clear( this.autoClearColor, this.autoClearDepth, this.autoClearStencil );\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tif ( scene.overrideMaterial ) {\r\n\r\n\t\t\tvar overrideMaterial = scene.overrideMaterial;\r\n\r\n\t\t\trenderObjects( opaqueObjects, camera, fog, overrideMaterial );\r\n\t\t\trenderObjects( transparentObjects, camera, fog, overrideMaterial );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// opaque pass (front-to-back order)\r\n\r\n\t\t\tstate.setBlending( THREE.NoBlending );\r\n\t\t\trenderObjects( opaqueObjects, camera, fog );\r\n\r\n\t\t\t// transparent pass (back-to-front order)\r\n\r\n\t\t\trenderObjects( transparentObjects, camera, fog );\r\n\r\n\t\t}\r\n\r\n\t\t// custom render plugins (post pass)\r\n\r\n\t\tspritePlugin.render( scene, camera );\r\n\t\tlensFlarePlugin.render( scene, camera, _currentViewport );\r\n\r\n\t\t// Generate mipmap if we're using any kind of mipmap filtering\r\n\r\n\t\tif ( renderTarget ) {\r\n\r\n\t\t\tvar texture = renderTarget.texture;\r\n\r\n\t\t\tif ( texture.generateMipmaps && isPowerOfTwo( renderTarget ) &&\r\n\t\t\t\t\ttexture.minFilter !== THREE.NearestFilter &&\r\n\t\t\t\t\ttexture.minFilter !== THREE.LinearFilter ) {\r\n\r\n\t\t\t\tupdateRenderTargetMipmap( renderTarget );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\r\n\r\n\t\tstate.setDepthTest( true );\r\n\t\tstate.setDepthWrite( true );\r\n\t\tstate.setColorWrite( true );\r\n\r\n\t\t// _gl.finish();\r\n\r\n\t};\r\n\r\n\tfunction pushRenderItem( object, geometry, material, z, group ) {\r\n\r\n\t\tvar array, index;\r\n\r\n\t\t// allocate the next position in the appropriate array\r\n\r\n\t\tif ( material.transparent ) {\r\n\r\n\t\t\tarray = transparentObjects;\r\n\t\t\tindex = ++ transparentObjectsLastIndex;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tarray = opaqueObjects;\r\n\t\t\tindex = ++ opaqueObjectsLastIndex;\r\n\r\n\t\t}\r\n\r\n\t\t// recycle existing render item or grow the array\r\n\r\n\t\tvar renderItem = array[ index ];\r\n\r\n\t\tif ( renderItem !== undefined ) {\r\n\r\n\t\t\trenderItem.id = object.id;\r\n\t\t\trenderItem.object = object;\r\n\t\t\trenderItem.geometry = geometry;\r\n\t\t\trenderItem.material = material;\r\n\t\t\trenderItem.z = _vector3.z;\r\n\t\t\trenderItem.group = group;\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderItem = {\r\n\t\t\t\tid: object.id,\r\n\t\t\t\tobject: object,\r\n\t\t\t\tgeometry: geometry,\r\n\t\t\t\tmaterial: material,\r\n\t\t\t\tz: _vector3.z,\r\n\t\t\t\tgroup: group\r\n\t\t\t};\r\n\r\n\t\t\t// assert( index === array.length );\r\n\t\t\tarray.push( renderItem );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// TODO Duplicated code (Frustum)\r\n\r\n\tfunction isObjectViewable( object ) {\r\n\r\n\t\tvar geometry = object.geometry;\r\n\r\n\t\tif ( geometry.boundingSphere === null )\r\n\t\t\tgeometry.computeBoundingSphere();\r\n\r\n\t\t_sphere.copy( geometry.boundingSphere ).\r\n\t\t\tapplyMatrix4( object.matrixWorld );\r\n\r\n\t\treturn isSphereViewable( _sphere );\r\n\r\n\t}\r\n\r\n\tfunction isSpriteViewable( sprite ) {\r\n\r\n\t\t_sphere.center.set( 0, 0, 0 );\r\n\t\t_sphere.radius = 0.7071067811865476;\r\n\t\t_sphere.applyMatrix4( sprite.matrixWorld );\r\n\r\n\t\treturn isSphereViewable( _sphere );\r\n\r\n\t}\r\n\r\n\tfunction isSphereViewable( sphere ) {\r\n\r\n\t\tif ( ! _frustum.intersectsSphere( sphere ) ) return false;\r\n\r\n\t\tvar numPlanes = _clipping.numPlanes;\r\n\r\n\t\tif ( numPlanes === 0 ) return true;\r\n\r\n\t\tvar planes = _this.clippingPlanes,\r\n\r\n\t\t\tcenter = sphere.center,\r\n\t\t\tnegRad = - sphere.radius,\r\n\t\t\ti = 0;\r\n\r\n\t\tdo {\r\n\r\n\t\t\t// out when deeper than radius in the negative halfspace\r\n\t\t\tif ( planes[ i ].distanceToPoint( center ) < negRad ) return false;\r\n\r\n\t\t} while ( ++ i !== numPlanes );\r\n\r\n\t\treturn true;\r\n\r\n\t}\r\n\r\n\tfunction projectObject( object, camera ) {\r\n\r\n\t\tif ( object.visible === false ) return;\r\n\r\n\t\tif ( object.layers.test( camera.layers ) ) {\r\n\r\n\t\t\tif ( object instanceof THREE.Light ) {\r\n\r\n\t\t\t\tlights.push( object );\r\n\r\n\t\t\t} else if ( object instanceof THREE.Sprite ) {\r\n\r\n\t\t\t\tif ( object.frustumCulled === false || isSpriteViewable( object ) === true ) {\r\n\r\n\t\t\t\t\tsprites.push( object );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( object instanceof THREE.LensFlare ) {\r\n\r\n\t\t\t\tlensFlares.push( object );\r\n\r\n\t\t\t} else if ( object instanceof THREE.ImmediateRenderObject ) {\r\n\r\n\t\t\t\tif ( _this.sortObjects === true ) {\r\n\r\n\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld );\r\n\t\t\t\t\t_vector3.applyProjection( _projScreenMatrix );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tpushRenderItem( object, null, object.material, _vector3.z, null );\r\n\r\n\t\t\t} else if ( object instanceof THREE.Mesh || object instanceof THREE.Line || object instanceof THREE.Points ) {\r\n\r\n\t\t\t\tif ( object instanceof THREE.SkinnedMesh ) {\r\n\r\n\t\t\t\t\tobject.skeleton.update();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( object.frustumCulled === false || isObjectViewable( object ) === true ) {\r\n\r\n\t\t\t\t\tvar material = object.material;\r\n\r\n\t\t\t\t\tif ( material.visible === true ) {\r\n\r\n\t\t\t\t\t\tif ( _this.sortObjects === true ) {\r\n\r\n\t\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld );\r\n\t\t\t\t\t\t\t_vector3.applyProjection( _projScreenMatrix );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar geometry = objects.update( object );\r\n\r\n\t\t\t\t\t\tif ( material instanceof THREE.MultiMaterial ) {\r\n\r\n\t\t\t\t\t\t\tvar groups = geometry.groups;\r\n\t\t\t\t\t\t\tvar materials = material.materials;\r\n\r\n\t\t\t\t\t\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\r\n\r\n\t\t\t\t\t\t\t\tvar group = groups[ i ];\r\n\t\t\t\t\t\t\t\tvar groupMaterial = materials[ group.materialIndex ];\r\n\r\n\t\t\t\t\t\t\t\tif ( groupMaterial.visible === true ) {\r\n\r\n\t\t\t\t\t\t\t\t\tpushRenderItem( object, geometry, groupMaterial, _vector3.z, group );\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tpushRenderItem( object, geometry, material, _vector3.z, null );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar children = object.children;\r\n\r\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\r\n\r\n\t\t\tprojectObject( children[ i ], camera );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction renderObjects( renderList, camera, fog, overrideMaterial ) {\r\n\r\n\t\tfor ( var i = 0, l = renderList.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar renderItem = renderList[ i ];\r\n\r\n\t\t\tvar object = renderItem.object;\r\n\t\t\tvar geometry = renderItem.geometry;\r\n\t\t\tvar material = overrideMaterial === undefined ? renderItem.material : overrideMaterial;\r\n\t\t\tvar group = renderItem.group;\r\n\r\n\t\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\r\n\t\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\r\n\r\n\t\t\tif ( object instanceof THREE.ImmediateRenderObject ) {\r\n\r\n\t\t\t\tsetMaterial( material );\r\n\r\n\t\t\t\tvar program = setProgram( camera, fog, material, object );\r\n\r\n\t\t\t\t_currentGeometryProgram = '';\r\n\r\n\t\t\t\tobject.render( function ( object ) {\r\n\r\n\t\t\t\t\t_this.renderBufferImmediate( object, program, material );\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_this.renderBufferDirect( camera, fog, geometry, material, object, group );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction initMaterial( material, fog, object ) {\r\n\r\n\t\tvar materialProperties = properties.get( material );\r\n\r\n\t\tvar parameters = programCache.getParameters(\r\n\t\t\t\tmaterial, _lights, fog, _clipping.numPlanes, object );\r\n\r\n\t\tvar code = programCache.getProgramCode( material, parameters );\r\n\r\n\t\tvar program = materialProperties.program;\r\n\t\tvar programChange = true;\r\n\r\n\t\tif ( program === undefined ) {\r\n\r\n\t\t\t// new material\r\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\r\n\r\n\t\t} else if ( program.code !== code ) {\r\n\r\n\t\t\t// changed glsl or parameters\r\n\t\t\treleaseMaterialProgramReference( material );\r\n\r\n\t\t} else if ( parameters.shaderID !== undefined ) {\r\n\r\n\t\t\t// same glsl and uniform list\r\n\t\t\treturn;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// only rebuild uniform list\r\n\t\t\tprogramChange = false;\r\n\r\n\t\t}\r\n\r\n\t\tif ( programChange ) {\r\n\r\n\t\t\tif ( parameters.shaderID ) {\r\n\r\n\t\t\t\tvar shader = THREE.ShaderLib[ parameters.shaderID ];\r\n\r\n\t\t\t\tmaterialProperties.__webglShader = {\r\n\t\t\t\t\tname: material.type,\r\n\t\t\t\t\tuniforms: THREE.UniformsUtils.clone( shader.uniforms ),\r\n\t\t\t\t\tvertexShader: shader.vertexShader,\r\n\t\t\t\t\tfragmentShader: shader.fragmentShader\r\n\t\t\t\t};\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tmaterialProperties.__webglShader = {\r\n\t\t\t\t\tname: material.type,\r\n\t\t\t\t\tuniforms: material.uniforms,\r\n\t\t\t\t\tvertexShader: material.vertexShader,\r\n\t\t\t\t\tfragmentShader: material.fragmentShader\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterial.__webglShader = materialProperties.__webglShader;\r\n\r\n\t\t\tprogram = programCache.acquireProgram( material, parameters, code );\r\n\r\n\t\t\tmaterialProperties.program = program;\r\n\t\t\tmaterial.program = program;\r\n\r\n\t\t}\r\n\r\n\t\tvar attributes = program.getAttributes();\r\n\r\n\t\tif ( material.morphTargets ) {\r\n\r\n\t\t\tmaterial.numSupportedMorphTargets = 0;\r\n\r\n\t\t\tfor ( var i = 0; i < _this.maxMorphTargets; i ++ ) {\r\n\r\n\t\t\t\tif ( attributes[ 'morphTarget' + i ] >= 0 ) {\r\n\r\n\t\t\t\t\tmaterial.numSupportedMorphTargets ++;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.morphNormals ) {\r\n\r\n\t\t\tmaterial.numSupportedMorphNormals = 0;\r\n\r\n\t\t\tfor ( var i = 0; i < _this.maxMorphNormals; i ++ ) {\r\n\r\n\t\t\t\tif ( attributes[ 'morphNormal' + i ] >= 0 ) {\r\n\r\n\t\t\t\t\tmaterial.numSupportedMorphNormals ++;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar uniforms = materialProperties.__webglShader.uniforms;\r\n\r\n\t\tif ( ! ( material instanceof THREE.ShaderMaterial ) &&\r\n\t\t\t\t! ( material instanceof THREE.RawShaderMaterial ) ||\r\n\t\t\t\tmaterial.clipping === true ) {\r\n\r\n\t\t\tmaterialProperties.numClippingPlanes = _clipping.numPlanes;\r\n\t\t\tuniforms.clippingPlanes = _clipping.uniform;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.lights ) {\r\n\r\n\t\t\t// store the light setup it was created for\r\n\r\n\t\t\tmaterialProperties.lightsHash = _lights.hash;\r\n\r\n\t\t\t// wire up the material to this renderer's lighting state\r\n\r\n\t\t\tuniforms.ambientLightColor.value = _lights.ambient;\r\n\t\t\tuniforms.directionalLights.value = _lights.directional;\r\n\t\t\tuniforms.spotLights.value = _lights.spot;\r\n\t\t\tuniforms.pointLights.value = _lights.point;\r\n\t\t\tuniforms.hemisphereLights.value = _lights.hemi;\r\n\r\n\t\t\tuniforms.directionalShadowMap.value = _lights.directionalShadowMap;\r\n\t\t\tuniforms.directionalShadowMatrix.value = _lights.directionalShadowMatrix;\r\n\t\t\tuniforms.spotShadowMap.value = _lights.spotShadowMap;\r\n\t\t\tuniforms.spotShadowMatrix.value = _lights.spotShadowMatrix;\r\n\t\t\tuniforms.pointShadowMap.value = _lights.pointShadowMap;\r\n\t\t\tuniforms.pointShadowMatrix.value = _lights.pointShadowMatrix;\r\n\r\n\t\t}\r\n\r\n\t\tvar progUniforms = materialProperties.program.getUniforms(),\r\n\t\t\tuniformsList =\r\n\t\t\t\t\tTHREE.WebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\r\n\r\n\t\tmaterialProperties.uniformsList = uniformsList;\r\n\t\tmaterialProperties.dynamicUniforms =\r\n\t\t\t\tTHREE.WebGLUniforms.splitDynamic( uniformsList, uniforms );\r\n\r\n\t}\r\n\r\n\tfunction setMaterial( material ) {\r\n\r\n\t\tif ( material.side !== THREE.DoubleSide )\r\n\t\t\tstate.enable( _gl.CULL_FACE );\r\n\t\telse\r\n\t\t\tstate.disable( _gl.CULL_FACE );\r\n\r\n\t\tstate.setFlipSided( material.side === THREE.BackSide );\r\n\r\n\t\tif ( material.transparent === true ) {\r\n\r\n\t\t\tstate.setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tstate.setBlending( THREE.NoBlending );\r\n\r\n\t\t}\r\n\r\n\t\tstate.setDepthFunc( material.depthFunc );\r\n\t\tstate.setDepthTest( material.depthTest );\r\n\t\tstate.setDepthWrite( material.depthWrite );\r\n\t\tstate.setColorWrite( material.colorWrite );\r\n\t\tstate.setPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\r\n\r\n\t}\r\n\r\n\tfunction setProgram( camera, fog, material, object ) {\r\n\r\n\t\t_usedTextureUnits = 0;\r\n\r\n\t\tvar materialProperties = properties.get( material );\r\n\r\n\t\tif ( _clippingEnabled ) {\r\n\r\n\t\t\tif ( _localClippingEnabled || camera !== _currentCamera ) {\r\n\r\n\t\t\t\tvar useCache =\r\n\t\t\t\t\t\tcamera === _currentCamera &&\r\n\t\t\t\t\t\tmaterial.id === _currentMaterialId;\r\n\r\n\t\t\t\t// we might want to call this function with some ClippingGroup\r\n\t\t\t\t// object instead of the material, once it becomes feasible\r\n\t\t\t\t// (#8465, #8379)\r\n\t\t\t\t_clipping.setState(\r\n\t\t\t\t\t\tmaterial.clippingPlanes, material.clipShadows,\r\n\t\t\t\t\t\tcamera, materialProperties, useCache );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( materialProperties.numClippingPlanes !== undefined &&\r\n\t\t\t\tmaterialProperties.numClippingPlanes !== _clipping.numPlanes ) {\r\n\r\n\t\t\t\tmaterial.needsUpdate = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( materialProperties.program === undefined ) {\r\n\r\n\t\t\tmaterial.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t\tif ( materialProperties.lightsHash !== undefined &&\r\n\t\t\tmaterialProperties.lightsHash !== _lights.hash ) {\r\n\r\n\t\t\tmaterial.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.needsUpdate ) {\r\n\r\n\t\t\tinitMaterial( material, fog, object );\r\n\t\t\tmaterial.needsUpdate = false;\r\n\r\n\t\t}\r\n\r\n\t\tvar refreshProgram = false;\r\n\t\tvar refreshMaterial = false;\r\n\t\tvar refreshLights = false;\r\n\r\n\t\tvar program = materialProperties.program,\r\n\t\t\tp_uniforms = program.getUniforms(),\r\n\t\t\tm_uniforms = materialProperties.__webglShader.uniforms;\r\n\r\n\t\tif ( program.id !== _currentProgram ) {\r\n\r\n\t\t\t_gl.useProgram( program.program );\r\n\t\t\t_currentProgram = program.id;\r\n\r\n\t\t\trefreshProgram = true;\r\n\t\t\trefreshMaterial = true;\r\n\t\t\trefreshLights = true;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.id !== _currentMaterialId ) {\r\n\r\n\t\t\t_currentMaterialId = material.id;\r\n\r\n\t\t\trefreshMaterial = true;\r\n\r\n\t\t}\r\n\r\n\t\tif ( refreshProgram || camera !== _currentCamera ) {\r\n\r\n\t\t\tp_uniforms.set( _gl, camera, 'projectionMatrix' );\r\n\r\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\r\n\r\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\r\n\t\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif ( camera !== _currentCamera ) {\r\n\r\n\t\t\t\t_currentCamera = camera;\r\n\r\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\r\n\t\t\t\t// now, in case this material supports lights - or later, when\r\n\t\t\t\t// the next material that does gets activated:\r\n\r\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\r\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// load material specific uniforms\r\n\t\t\t// (shader material also gets them for the sake of genericity)\r\n\r\n\t\t\tif ( material instanceof THREE.ShaderMaterial ||\r\n\t\t\t\t material instanceof THREE.MeshPhongMaterial ||\r\n\t\t\t\t material instanceof THREE.MeshStandardMaterial ||\r\n\t\t\t\t material.envMap ) {\r\n\r\n\t\t\t\tvar uCamPos = p_uniforms.map.cameraPosition;\r\n\r\n\t\t\t\tif ( uCamPos !== undefined ) {\r\n\r\n\t\t\t\t\tuCamPos.setValue( _gl,\r\n\t\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( material instanceof THREE.MeshPhongMaterial ||\r\n\t\t\t\t material instanceof THREE.MeshLambertMaterial ||\r\n\t\t\t\t material instanceof THREE.MeshBasicMaterial ||\r\n\t\t\t\t material instanceof THREE.MeshStandardMaterial ||\r\n\t\t\t\t material instanceof THREE.ShaderMaterial ||\r\n\t\t\t\t material.skinning ) {\r\n\r\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tp_uniforms.set( _gl, _this, 'toneMappingExposure' );\r\n\t\t\tp_uniforms.set( _gl, _this, 'toneMappingWhitePoint' );\r\n\r\n\t\t}\r\n\r\n\t\t// skinning uniforms must be set even if material didn't change\r\n\t\t// auto-setting of texture unit for bone texture must go before other textures\r\n\t\t// not sure why, but otherwise weird things happen\r\n\r\n\t\tif ( material.skinning ) {\r\n\r\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\r\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\r\n\r\n\t\t\tvar skeleton = object.skeleton;\r\n\r\n\t\t\tif ( skeleton ) {\r\n\r\n\t\t\t\tif ( capabilities.floatVertexTextures && skeleton.useVertexTexture ) {\r\n\r\n\t\t\t\t\tp_uniforms.set( _gl, skeleton, 'boneTexture' );\r\n\t\t\t\t\tp_uniforms.set( _gl, skeleton, 'boneTextureWidth' );\r\n\t\t\t\t\tp_uniforms.set( _gl, skeleton, 'boneTextureHeight' );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tp_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( refreshMaterial ) {\r\n\r\n\t\t\tif ( material.lights ) {\r\n\r\n\t\t\t\t// the current material requires lighting info\r\n\r\n\t\t\t\t// note: all lighting uniforms are always set correctly\r\n\t\t\t\t// they simply reference the renderer's state for their\r\n\t\t\t\t// values\r\n\t\t\t\t//\r\n\t\t\t\t// use the current material's .needsUpdate flags to set\r\n\t\t\t\t// the GL state when required\r\n\r\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// refresh uniforms common to several materials\r\n\r\n\t\t\tif ( fog && material.fog ) {\r\n\r\n\t\t\t\trefreshUniformsFog( m_uniforms, fog );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( material instanceof THREE.MeshBasicMaterial ||\r\n\t\t\t\t material instanceof THREE.MeshLambertMaterial ||\r\n\t\t\t\t material instanceof THREE.MeshPhongMaterial ||\r\n\t\t\t\t material instanceof THREE.MeshStandardMaterial ||\r\n\t\t\t\t material instanceof THREE.MeshDepthMaterial ) {\r\n\r\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// refresh single material specific uniforms\r\n\r\n\t\t\tif ( material instanceof THREE.LineBasicMaterial ) {\r\n\r\n\t\t\t\trefreshUniformsLine( m_uniforms, material );\r\n\r\n\t\t\t} else if ( material instanceof THREE.LineDashedMaterial ) {\r\n\r\n\t\t\t\trefreshUniformsLine( m_uniforms, material );\r\n\t\t\t\trefreshUniformsDash( m_uniforms, material );\r\n\r\n\t\t\t} else if ( material instanceof THREE.PointsMaterial ) {\r\n\r\n\t\t\t\trefreshUniformsPoints( m_uniforms, material );\r\n\r\n\t\t\t} else if ( material instanceof THREE.MeshLambertMaterial ) {\r\n\r\n\t\t\t\trefreshUniformsLambert( m_uniforms, material );\r\n\r\n\t\t\t} else if ( material instanceof THREE.MeshPhongMaterial ) {\r\n\r\n\t\t\t\trefreshUniformsPhong( m_uniforms, material );\r\n\r\n\t\t\t} else if ( material instanceof THREE.MeshPhysicalMaterial ) {\r\n\r\n\t\t\t\trefreshUniformsPhysical( m_uniforms, material );\r\n\r\n\t\t\t} else if ( material instanceof THREE.MeshStandardMaterial ) {\r\n\r\n\t\t\t\trefreshUniformsStandard( m_uniforms, material );\r\n\r\n\t\t\t} else if ( material instanceof THREE.MeshDepthMaterial ) {\r\n\r\n\t\t\t\tif ( material.displacementMap ) {\r\n\r\n\t\t\t\t\tm_uniforms.displacementMap.value = material.displacementMap;\r\n\t\t\t\t\tm_uniforms.displacementScale.value = material.displacementScale;\r\n\t\t\t\t\tm_uniforms.displacementBias.value = material.displacementBias;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( material instanceof THREE.MeshNormalMaterial ) {\r\n\r\n\t\t\t\tm_uniforms.opacity.value = material.opacity;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tTHREE.WebGLUniforms.upload(\r\n\t\t\t\t\t_gl, materialProperties.uniformsList, m_uniforms, _this );\r\n\r\n\t\t}\r\n\r\n\r\n\t\t// common matrices\r\n\r\n\t\tp_uniforms.set( _gl, object, 'modelViewMatrix' );\r\n\t\tp_uniforms.set( _gl, object, 'normalMatrix' );\r\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\r\n\r\n\r\n\t\t// dynamic uniforms\r\n\r\n\t\tvar dynUniforms = materialProperties.dynamicUniforms;\r\n\r\n\t\tif ( dynUniforms !== null ) {\r\n\r\n\t\t\tTHREE.WebGLUniforms.evalDynamic(\r\n\t\t\t\t\tdynUniforms, m_uniforms, object, camera );\r\n\r\n\t\t\tTHREE.WebGLUniforms.upload( _gl, dynUniforms, m_uniforms, _this );\r\n\r\n\t\t}\r\n\r\n\t\treturn program;\r\n\r\n\t}\r\n\r\n\t// Uniforms (refresh uniforms objects)\r\n\r\n\tfunction refreshUniformsCommon ( uniforms, material ) {\r\n\r\n\t\tuniforms.opacity.value = material.opacity;\r\n\r\n\t\tuniforms.diffuse.value = material.color;\r\n\r\n\t\tif ( material.emissive ) {\r\n\r\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\r\n\r\n\t\t}\r\n\r\n\t\tuniforms.map.value = material.map;\r\n\t\tuniforms.specularMap.value = material.specularMap;\r\n\t\tuniforms.alphaMap.value = material.alphaMap;\r\n\r\n\t\tif ( material.aoMap ) {\r\n\r\n\t\t\tuniforms.aoMap.value = material.aoMap;\r\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\r\n\r\n\t\t}\r\n\r\n\t\t// uv repeat and offset setting priorities\r\n\t\t// 1. color map\r\n\t\t// 2. specular map\r\n\t\t// 3. normal map\r\n\t\t// 4. bump map\r\n\t\t// 5. alpha map\r\n\t\t// 6. emissive map\r\n\r\n\t\tvar uvScaleMap;\r\n\r\n\t\tif ( material.map ) {\r\n\r\n\t\t\tuvScaleMap = material.map;\r\n\r\n\t\t} else if ( material.specularMap ) {\r\n\r\n\t\t\tuvScaleMap = material.specularMap;\r\n\r\n\t\t} else if ( material.displacementMap ) {\r\n\r\n\t\t\tuvScaleMap = material.displacementMap;\r\n\r\n\t\t} else if ( material.normalMap ) {\r\n\r\n\t\t\tuvScaleMap = material.normalMap;\r\n\r\n\t\t} else if ( material.bumpMap ) {\r\n\r\n\t\t\tuvScaleMap = material.bumpMap;\r\n\r\n\t\t} else if ( material.roughnessMap ) {\r\n\r\n\t\t\tuvScaleMap = material.roughnessMap;\r\n\r\n\t\t} else if ( material.metalnessMap ) {\r\n\r\n\t\t\tuvScaleMap = material.metalnessMap;\r\n\r\n\t\t} else if ( material.alphaMap ) {\r\n\r\n\t\t\tuvScaleMap = material.alphaMap;\r\n\r\n\t\t} else if ( material.emissiveMap ) {\r\n\r\n\t\t\tuvScaleMap = material.emissiveMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( uvScaleMap !== undefined ) {\r\n\r\n\t\t\t// backwards compatibility\r\n\t\t\tif ( uvScaleMap instanceof THREE.WebGLRenderTarget ) {\r\n\r\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar offset = uvScaleMap.offset;\r\n\t\t\tvar repeat = uvScaleMap.repeat;\r\n\r\n\t\t\tuniforms.offsetRepeat.value.set( offset.x, offset.y, repeat.x, repeat.y );\r\n\r\n\t\t}\r\n\r\n\t\tuniforms.envMap.value = material.envMap;\r\n\r\n\t\t// don't flip CubeTexture envMaps, flip everything else:\r\n\t\t//  WebGLRenderTargetCube will be flipped for backwards compatibility\r\n\t\t//  WebGLRenderTargetCube.texture will be flipped because it's a Texture and NOT a CubeTexture\r\n\t\t// this check must be handled differently, or removed entirely, if WebGLRenderTargetCube uses a CubeTexture in the future\r\n\t\tuniforms.flipEnvMap.value = ( ! ( material.envMap instanceof THREE.CubeTexture ) ) ? 1 : - 1;\r\n\r\n\t\tuniforms.reflectivity.value = material.reflectivity;\r\n\t\tuniforms.refractionRatio.value = material.refractionRatio;\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsLine ( uniforms, material ) {\r\n\r\n\t\tuniforms.diffuse.value = material.color;\r\n\t\tuniforms.opacity.value = material.opacity;\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsDash ( uniforms, material ) {\r\n\r\n\t\tuniforms.dashSize.value = material.dashSize;\r\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\r\n\t\tuniforms.scale.value = material.scale;\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsPoints ( uniforms, material ) {\r\n\r\n\t\tuniforms.diffuse.value = material.color;\r\n\t\tuniforms.opacity.value = material.opacity;\r\n\t\tuniforms.size.value = material.size * _pixelRatio;\r\n\t\tuniforms.scale.value = _canvas.clientHeight * 0.5;\r\n\r\n\t\tuniforms.map.value = material.map;\r\n\r\n\t\tif ( material.map !== null ) {\r\n\r\n\t\t\tvar offset = material.map.offset;\r\n\t\t\tvar repeat = material.map.repeat;\r\n\r\n\t\t\tuniforms.offsetRepeat.value.set( offset.x, offset.y, repeat.x, repeat.y );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsFog ( uniforms, fog ) {\r\n\r\n\t\tuniforms.fogColor.value = fog.color;\r\n\r\n\t\tif ( fog instanceof THREE.Fog ) {\r\n\r\n\t\t\tuniforms.fogNear.value = fog.near;\r\n\t\t\tuniforms.fogFar.value = fog.far;\r\n\r\n\t\t} else if ( fog instanceof THREE.FogExp2 ) {\r\n\r\n\t\t\tuniforms.fogDensity.value = fog.density;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsLambert ( uniforms, material ) {\r\n\r\n\t\tif ( material.lightMap ) {\r\n\r\n\t\t\tuniforms.lightMap.value = material.lightMap;\r\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.emissiveMap ) {\r\n\r\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsPhong ( uniforms, material ) {\r\n\r\n\t\tuniforms.specular.value = material.specular;\r\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\r\n\r\n\t\tif ( material.lightMap ) {\r\n\r\n\t\t\tuniforms.lightMap.value = material.lightMap;\r\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.emissiveMap ) {\r\n\r\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.bumpMap ) {\r\n\r\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\r\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.normalMap ) {\r\n\r\n\t\t\tuniforms.normalMap.value = material.normalMap;\r\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.displacementMap ) {\r\n\r\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\r\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\r\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsStandard ( uniforms, material ) {\r\n\r\n\t\tuniforms.roughness.value = material.roughness;\r\n\t\tuniforms.metalness.value = material.metalness;\r\n\r\n\t\tif ( material.roughnessMap ) {\r\n\r\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.metalnessMap ) {\r\n\r\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.lightMap ) {\r\n\r\n\t\t\tuniforms.lightMap.value = material.lightMap;\r\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.emissiveMap ) {\r\n\r\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.bumpMap ) {\r\n\r\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\r\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.normalMap ) {\r\n\r\n\t\t\tuniforms.normalMap.value = material.normalMap;\r\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.displacementMap ) {\r\n\r\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\r\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\r\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.envMap ) {\r\n\r\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\r\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction refreshUniformsPhysical ( uniforms, material ) {\r\n\r\n\t\trefreshUniformsStandard( uniforms, material );\r\n\r\n\t}\r\n\r\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\r\n\r\n\tfunction markUniformsLightsNeedsUpdate ( uniforms, value ) {\r\n\r\n\t\tuniforms.ambientLightColor.needsUpdate = value;\r\n\r\n\t\tuniforms.directionalLights.needsUpdate = value;\r\n\t\tuniforms.pointLights.needsUpdate = value;\r\n\t\tuniforms.spotLights.needsUpdate = value;\r\n\t\tuniforms.hemisphereLights.needsUpdate = value;\r\n\r\n\t}\r\n\r\n\t// Lighting\r\n\r\n\tfunction setupShadows ( lights ) {\r\n\r\n\t\tvar lightShadowsLength = 0;\r\n\r\n\t\tfor ( var i = 0, l = lights.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar light = lights[ i ];\r\n\r\n\t\t\tif ( light.castShadow ) {\r\n\r\n\t\t\t\t_lights.shadows[ lightShadowsLength ++ ] = light;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t_lights.shadows.length = lightShadowsLength;\r\n\r\n\t}\r\n\r\n\tfunction setupLights ( lights, camera ) {\r\n\r\n\t\tvar l, ll, light,\r\n\t\tr = 0, g = 0, b = 0,\r\n\t\tcolor,\r\n\t\tintensity,\r\n\t\tdistance,\r\n\t\tshadowMap,\r\n\r\n\t\tviewMatrix = camera.matrixWorldInverse,\r\n\r\n\t\tdirectionalLength = 0,\r\n\t\tpointLength = 0,\r\n\t\tspotLength = 0,\r\n\t\themiLength = 0;\r\n\r\n\t\tfor ( l = 0, ll = lights.length; l < ll; l ++ ) {\r\n\r\n\t\t\tlight = lights[ l ];\r\n\r\n\t\t\tcolor = light.color;\r\n\t\t\tintensity = light.intensity;\r\n\t\t\tdistance = light.distance;\r\n\r\n\t\t\tshadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\r\n\r\n\t\t\tif ( light instanceof THREE.AmbientLight ) {\r\n\r\n\t\t\t\tr += color.r * intensity;\r\n\t\t\t\tg += color.g * intensity;\r\n\t\t\t\tb += color.b * intensity;\r\n\r\n\t\t\t} else if ( light instanceof THREE.DirectionalLight ) {\r\n\r\n\t\t\t\tvar uniforms = lightCache.get( light );\r\n\r\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\r\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\r\n\t\t\t\t_vector3.setFromMatrixPosition( light.target.matrixWorld );\r\n\t\t\t\tuniforms.direction.sub( _vector3 );\r\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\r\n\r\n\t\t\t\tuniforms.shadow = light.castShadow;\r\n\r\n\t\t\t\tif ( light.castShadow ) {\r\n\r\n\t\t\t\t\tuniforms.shadowBias = light.shadow.bias;\r\n\t\t\t\t\tuniforms.shadowRadius = light.shadow.radius;\r\n\t\t\t\t\tuniforms.shadowMapSize = light.shadow.mapSize;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_lights.directionalShadowMap[ directionalLength ] = shadowMap;\r\n\t\t\t\t_lights.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\r\n\t\t\t\t_lights.directional[ directionalLength ++ ] = uniforms;\r\n\r\n\t\t\t} else if ( light instanceof THREE.SpotLight ) {\r\n\r\n\t\t\t\tvar uniforms = lightCache.get( light );\r\n\r\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\r\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\r\n\r\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\r\n\t\t\t\tuniforms.distance = distance;\r\n\r\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\r\n\t\t\t\t_vector3.setFromMatrixPosition( light.target.matrixWorld );\r\n\t\t\t\tuniforms.direction.sub( _vector3 );\r\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\r\n\r\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\r\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\r\n\t\t\t\tuniforms.decay = ( light.distance === 0 ) ? 0.0 : light.decay;\r\n\r\n\t\t\t\tuniforms.shadow = light.castShadow;\r\n\r\n\t\t\t\tif ( light.castShadow ) {\r\n\r\n\t\t\t\t\tuniforms.shadowBias = light.shadow.bias;\r\n\t\t\t\t\tuniforms.shadowRadius = light.shadow.radius;\r\n\t\t\t\t\tuniforms.shadowMapSize = light.shadow.mapSize;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_lights.spotShadowMap[ spotLength ] = shadowMap;\r\n\t\t\t\t_lights.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\r\n\t\t\t\t_lights.spot[ spotLength ++ ] = uniforms;\r\n\r\n\t\t\t} else if ( light instanceof THREE.PointLight ) {\r\n\r\n\t\t\t\tvar uniforms = lightCache.get( light );\r\n\r\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\r\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\r\n\r\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\r\n\t\t\t\tuniforms.distance = light.distance;\r\n\t\t\t\tuniforms.decay = ( light.distance === 0 ) ? 0.0 : light.decay;\r\n\r\n\t\t\t\tuniforms.shadow = light.castShadow;\r\n\r\n\t\t\t\tif ( light.castShadow ) {\r\n\r\n\t\t\t\t\tuniforms.shadowBias = light.shadow.bias;\r\n\t\t\t\t\tuniforms.shadowRadius = light.shadow.radius;\r\n\t\t\t\t\tuniforms.shadowMapSize = light.shadow.mapSize;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_lights.pointShadowMap[ pointLength ] = shadowMap;\r\n\r\n\t\t\t\tif ( _lights.pointShadowMatrix[ pointLength ] === undefined ) {\r\n\r\n\t\t\t\t\t_lights.pointShadowMatrix[ pointLength ] = new THREE.Matrix4();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// for point lights we set the shadow matrix to be a translation-only matrix\r\n\t\t\t\t// equal to inverse of the light's position\r\n\t\t\t\t_vector3.setFromMatrixPosition( light.matrixWorld ).negate();\r\n\t\t\t\t_lights.pointShadowMatrix[ pointLength ].identity().setPosition( _vector3 );\r\n\r\n\t\t\t\t_lights.point[ pointLength ++ ] = uniforms;\r\n\r\n\t\t\t} else if ( light instanceof THREE.HemisphereLight ) {\r\n\r\n\t\t\t\tvar uniforms = lightCache.get( light );\r\n\r\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\r\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\r\n\t\t\t\tuniforms.direction.normalize();\r\n\r\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity );\r\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity );\r\n\r\n\t\t\t\t_lights.hemi[ hemiLength ++ ] = uniforms;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t_lights.ambient[ 0 ] = r;\r\n\t\t_lights.ambient[ 1 ] = g;\r\n\t\t_lights.ambient[ 2 ] = b;\r\n\r\n\t\t_lights.directional.length = directionalLength;\r\n\t\t_lights.spot.length = spotLength;\r\n\t\t_lights.point.length = pointLength;\r\n\t\t_lights.hemi.length = hemiLength;\r\n\r\n\t\t_lights.hash = directionalLength + ',' + pointLength + ',' + spotLength + ',' + hemiLength + ',' + _lights.shadows.length;\r\n\r\n\t}\r\n\r\n\t// GL state setting\r\n\r\n\tthis.setFaceCulling = function ( cullFace, frontFaceDirection ) {\r\n\r\n\t\tstate.setCullFace( cullFace );\r\n\t\tstate.setFlipSided( frontFaceDirection === THREE.FrontFaceDirectionCW );\r\n\r\n\t};\r\n\r\n\t// Textures\r\n\r\n\tfunction allocTextureUnit() {\r\n\r\n\t\tvar textureUnit = _usedTextureUnits;\r\n\r\n\t\tif ( textureUnit >= capabilities.maxTextures ) {\r\n\r\n\t\t\tconsole.warn( 'WebGLRenderer: trying to use ' + textureUnit + ' texture units while this GPU supports only ' + capabilities.maxTextures );\r\n\r\n\t\t}\r\n\r\n\t\t_usedTextureUnits += 1;\r\n\r\n\t\treturn textureUnit;\r\n\r\n\t}\r\n\r\n\tfunction setTextureParameters ( textureType, texture, isPowerOfTwoImage ) {\r\n\r\n\t\tvar extension;\r\n\r\n\t\tif ( isPowerOfTwoImage ) {\r\n\r\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_S, paramThreeToGL( texture.wrapS ) );\r\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_T, paramThreeToGL( texture.wrapT ) );\r\n\r\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MAG_FILTER, paramThreeToGL( texture.magFilter ) );\r\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MIN_FILTER, paramThreeToGL( texture.minFilter ) );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_S, _gl.CLAMP_TO_EDGE );\r\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_T, _gl.CLAMP_TO_EDGE );\r\n\r\n\t\t\tif ( texture.wrapS !== THREE.ClampToEdgeWrapping || texture.wrapT !== THREE.ClampToEdgeWrapping ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.', texture );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MAG_FILTER, filterFallback( texture.magFilter ) );\r\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MIN_FILTER, filterFallback( texture.minFilter ) );\r\n\r\n\t\t\tif ( texture.minFilter !== THREE.NearestFilter && texture.minFilter !== THREE.LinearFilter ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.', texture );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\textension = extensions.get( 'EXT_texture_filter_anisotropic' );\r\n\r\n\t\tif ( extension ) {\r\n\r\n\t\t\tif ( texture.type === THREE.FloatType && extensions.get( 'OES_texture_float_linear' ) === null ) return;\r\n\t\t\tif ( texture.type === THREE.HalfFloatType && extensions.get( 'OES_texture_half_float_linear' ) === null ) return;\r\n\r\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\r\n\r\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, _this.getMaxAnisotropy() ) );\r\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction uploadTexture( textureProperties, texture, slot ) {\r\n\r\n\t\tif ( textureProperties.__webglInit === undefined ) {\r\n\r\n\t\t\ttextureProperties.__webglInit = true;\r\n\r\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\r\n\r\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\r\n\r\n\t\t\t_infoMemory.textures ++;\r\n\r\n\t\t}\r\n\r\n\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\r\n\t\tstate.bindTexture( _gl.TEXTURE_2D, textureProperties.__webglTexture );\r\n\r\n\t\t_gl.pixelStorei( _gl.UNPACK_FLIP_Y_WEBGL, texture.flipY );\r\n\t\t_gl.pixelStorei( _gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.premultiplyAlpha );\r\n\t\t_gl.pixelStorei( _gl.UNPACK_ALIGNMENT, texture.unpackAlignment );\r\n\r\n\t\tvar image = clampToMaxSize( texture.image, capabilities.maxTextureSize );\r\n\r\n\t\tif ( textureNeedsPowerOfTwo( texture ) && isPowerOfTwo( image ) === false ) {\r\n\r\n\t\t\timage = makePowerOfTwo( image );\r\n\r\n\t\t}\r\n\r\n\t\tvar isPowerOfTwoImage = isPowerOfTwo( image ),\r\n\t\tglFormat = paramThreeToGL( texture.format ),\r\n\t\tglType = paramThreeToGL( texture.type );\r\n\r\n\t\tsetTextureParameters( _gl.TEXTURE_2D, texture, isPowerOfTwoImage );\r\n\r\n\t\tvar mipmap, mipmaps = texture.mipmaps;\r\n\r\n\t\tif ( texture instanceof THREE.DepthTexture ) {\r\n\r\n\t\t\t// populate depth texture with dummy data\r\n\r\n\t\t\tvar internalFormat = _gl.DEPTH_COMPONENT;\r\n\r\n\t\t\tif ( texture.type === THREE.FloatType ) {\r\n\r\n\t\t\t\tif ( !_isWebGL2 ) throw new Error('Float Depth Texture only supported in WebGL2.0');\r\n\t\t\t\tinternalFormat = _gl.DEPTH_COMPONENT32F;\r\n\r\n\t\t\t} else if ( _isWebGL2 ) {\r\n\r\n\t\t\t\t// WebGL 2.0 requires signed internalformat for glTexImage2D\r\n\t\t\t\tinternalFormat = _gl.DEPTH_COMPONENT16;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tstate.texImage2D( _gl.TEXTURE_2D, 0, internalFormat, image.width, image.height, 0, glFormat, glType, null );\r\n\r\n\t\t} else if ( texture instanceof THREE.DataTexture ) {\r\n\r\n\t\t\t// use manually created mipmaps if available\r\n\t\t\t// if there are no manual mipmaps\r\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\r\n\r\n\t\t\tif ( mipmaps.length > 0 && isPowerOfTwoImage ) {\r\n\r\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tmipmap = mipmaps[ i ];\r\n\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttexture.generateMipmaps = false;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, 0, glFormat, image.width, image.height, 0, glFormat, glType, image.data );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( texture instanceof THREE.CompressedTexture ) {\r\n\r\n\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tmipmap = mipmaps[ i ];\r\n\r\n\t\t\t\tif ( texture.format !== THREE.RGBAFormat && texture.format !== THREE.RGBFormat ) {\r\n\r\n\t\t\t\t\tif ( state.getCompressedTextureFormats().indexOf( glFormat ) > - 1 ) {\r\n\r\n\t\t\t\t\t\tstate.compressedTexImage2D( _gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, mipmap.data );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.warn( \"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()\" );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// regular Texture (image, video, canvas)\r\n\r\n\t\t\t// use manually created mipmaps if available\r\n\t\t\t// if there are no manual mipmaps\r\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\r\n\r\n\t\t\tif ( mipmaps.length > 0 && isPowerOfTwoImage ) {\r\n\r\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tmipmap = mipmaps[ i ];\r\n\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, i, glFormat, glFormat, glType, mipmap );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttexture.generateMipmaps = false;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, 0, glFormat, glFormat, glType, image );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( texture.generateMipmaps && isPowerOfTwoImage ) _gl.generateMipmap( _gl.TEXTURE_2D );\r\n\r\n\t\ttextureProperties.__version = texture.version;\r\n\r\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\r\n\r\n\t}\r\n\r\n\tfunction setTexture2D( texture, slot ) {\r\n\r\n\t\tvar textureProperties = properties.get( texture );\r\n\r\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\r\n\r\n\t\t\tvar image = texture.image;\r\n\r\n\t\t\tif ( image === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined', texture );\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( image.complete === false ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete', texture );\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tuploadTexture( textureProperties, texture, slot );\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\r\n\t\tstate.bindTexture( _gl.TEXTURE_2D, textureProperties.__webglTexture );\r\n\r\n\t}\r\n\r\n\tfunction clampToMaxSize ( image, maxSize ) {\r\n\r\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\r\n\r\n\t\t\t// Warning: Scaling through the canvas will only work with images that use\r\n\t\t\t// premultiplied alpha.\r\n\r\n\t\t\tvar scale = maxSize / Math.max( image.width, image.height );\r\n\r\n\t\t\tvar canvas = document.createElement( 'canvas' );\r\n\t\t\tcanvas.width = Math.floor( image.width * scale );\r\n\t\t\tcanvas.height = Math.floor( image.height * scale );\r\n\r\n\t\t\tvar context = canvas.getContext( '2d' );\r\n\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height, 0, 0, canvas.width, canvas.height );\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: image is too big (' + image.width + 'x' + image.height + '). Resized to ' + canvas.width + 'x' + canvas.height, image );\r\n\r\n\t\t\treturn canvas;\r\n\r\n\t\t}\r\n\r\n\t\treturn image;\r\n\r\n\t}\r\n\r\n\tfunction isPowerOfTwo( image ) {\r\n\r\n\t\treturn THREE.Math.isPowerOfTwo( image.width ) && THREE.Math.isPowerOfTwo( image.height );\r\n\r\n\t}\r\n\r\n\tfunction textureNeedsPowerOfTwo( texture ) {\r\n\r\n\t\tif ( texture.wrapS !== THREE.ClampToEdgeWrapping || texture.wrapT !== THREE.ClampToEdgeWrapping ) return true;\r\n\t\tif ( texture.minFilter !== THREE.NearestFilter && texture.minFilter !== THREE.LinearFilter ) return true;\r\n\r\n\t\treturn false;\r\n\r\n\t}\r\n\r\n\tfunction makePowerOfTwo( image ) {\r\n\r\n\t\tif ( image instanceof HTMLImageElement || image instanceof HTMLCanvasElement ) {\r\n\r\n\t\t\tvar canvas = document.createElement( 'canvas' );\r\n\t\t\tcanvas.width = THREE.Math.nearestPowerOfTwo( image.width );\r\n\t\t\tcanvas.height = THREE.Math.nearestPowerOfTwo( image.height );\r\n\r\n\t\t\tvar context = canvas.getContext( '2d' );\r\n\t\t\tcontext.drawImage( image, 0, 0, canvas.width, canvas.height );\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: image is not power of two (' + image.width + 'x' + image.height + '). Resized to ' + canvas.width + 'x' + canvas.height, image );\r\n\r\n\t\t\treturn canvas;\r\n\r\n\t\t}\r\n\r\n\t\treturn image;\r\n\r\n\t}\r\n\r\n\tfunction setTextureCube ( texture, slot ) {\r\n\r\n\t\tvar textureProperties = properties.get( texture );\r\n\r\n\t\tif ( texture.image.length === 6 ) {\r\n\r\n\t\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\r\n\r\n\t\t\t\tif ( ! textureProperties.__image__webglTextureCube ) {\r\n\r\n\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\r\n\r\n\t\t\t\t\ttextureProperties.__image__webglTextureCube = _gl.createTexture();\r\n\r\n\t\t\t\t\t_infoMemory.textures ++;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\r\n\t\t\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__image__webglTextureCube );\r\n\r\n\t\t\t\t_gl.pixelStorei( _gl.UNPACK_FLIP_Y_WEBGL, texture.flipY );\r\n\r\n\t\t\t\tvar isCompressed = texture instanceof THREE.CompressedTexture;\r\n\t\t\t\tvar isDataTexture = texture.image[ 0 ] instanceof THREE.DataTexture;\r\n\r\n\t\t\t\tvar cubeImage = [];\r\n\r\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\t\t\tif ( _this.autoScaleCubemaps && ! isCompressed && ! isDataTexture ) {\r\n\r\n\t\t\t\t\t\tcubeImage[ i ] = clampToMaxSize( texture.image[ i ], capabilities.maxCubemapSize );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar image = cubeImage[ 0 ],\r\n\t\t\t\tisPowerOfTwoImage = isPowerOfTwo( image ),\r\n\t\t\t\tglFormat = paramThreeToGL( texture.format ),\r\n\t\t\t\tglType = paramThreeToGL( texture.type );\r\n\r\n\t\t\t\tsetTextureParameters( _gl.TEXTURE_CUBE_MAP, texture, isPowerOfTwoImage );\r\n\r\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\t\t\tif ( ! isCompressed ) {\r\n\r\n\t\t\t\t\t\tif ( isDataTexture ) {\r\n\r\n\t\t\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glFormat, glFormat, glType, cubeImage[ i ] );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tvar mipmap, mipmaps = cubeImage[ i ].mipmaps;\r\n\r\n\t\t\t\t\t\tfor ( var j = 0, jl = mipmaps.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tmipmap = mipmaps[ j ];\r\n\r\n\t\t\t\t\t\t\tif ( texture.format !== THREE.RGBAFormat && texture.format !== THREE.RGBFormat ) {\r\n\r\n\t\t\t\t\t\t\t\tif ( state.getCompressedTextureFormats().indexOf( glFormat ) > - 1 ) {\r\n\r\n\t\t\t\t\t\t\t\t\tstate.compressedTexImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glFormat, mipmap.width, mipmap.height, 0, mipmap.data );\r\n\r\n\t\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t\tconsole.warn( \"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()\" );\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( texture.generateMipmaps && isPowerOfTwoImage ) {\r\n\r\n\t\t\t\t\t_gl.generateMipmap( _gl.TEXTURE_CUBE_MAP );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttextureProperties.__version = texture.version;\r\n\r\n\t\t\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\r\n\t\t\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__image__webglTextureCube );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction setTextureCubeDynamic ( texture, slot ) {\r\n\r\n\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\r\n\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, properties.get( texture ).__webglTexture );\r\n\r\n\t}\r\n\r\n\tthis.allocTextureUnit = allocTextureUnit;\r\n\r\n\t//this.setTexture2D = setTexture2D;\r\n\tthis.setTexture2D = ( function() {\r\n\r\n\t\tvar warned = false;\r\n\r\n\t\t// backwards compatibility: peel texture.texture\r\n\t\treturn function( texture, slot ) {\r\n\r\n\t\t\tif ( texture instanceof THREE.WebGLRenderTarget ) {\r\n\r\n\t\t\t\tif ( ! warned ) {\r\n\r\n\t\t\t\t\tconsole.warn( \"THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead.\" );\r\n\t\t\t\t\twarned = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttexture = texture.texture;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tsetTexture2D( texture, slot );\r\n\r\n\t\t};\r\n\r\n\t}() );\r\n\r\n\tthis.setTexture = ( function() {\r\n\r\n\t\tvar warned = false;\r\n\r\n\t\treturn function( texture, slot ) {\r\n\r\n\t\t\tif ( ! warned ) {\r\n\r\n\t\t\t\tconsole.warn( \"THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead.\" );\r\n\t\t\t\twarned = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_this.setTexture2D( texture, slot );\r\n\r\n\t\t};\r\n\r\n\t}() );\r\n\r\n\tthis.setTextureCube = ( function() {\r\n\r\n\t\tvar warned = false;\r\n\r\n\t\treturn function( texture, slot ) {\r\n\r\n\t\t\t// backwards compatibility: peel texture.texture\r\n\t\t\tif ( texture instanceof THREE.WebGLRenderTargetCube ) {\r\n\r\n\t\t\t\tif ( ! warned ) {\r\n\r\n\t\t\t\t\tconsole.warn( \"THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead.\" );\r\n\t\t\t\t\twarned = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttexture = texture.texture;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// currently relying on the fact that WebGLRenderTargetCube.texture is a Texture and NOT a CubeTexture\r\n\t\t\t// TODO: unify these code paths\r\n\t\t\tif ( texture instanceof THREE.CubeTexture ||\r\n\t\t\t\t ( Array.isArray( texture.image ) && texture.image.length === 6 ) ) {\r\n\r\n\t\t\t\t// CompressedTexture can have Array in image :/\r\n\r\n\t\t\t\t// this function alone should take care of cube textures\r\n\t\t\t\tsetTextureCube( texture, slot );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// assumed: texture property of THREE.WebGLRenderTargetCube\r\n\r\n\t\t\t\tsetTextureCubeDynamic( texture, slot );\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}() );\r\n\r\n\t// Render targets\r\n\r\n\t// Setup storage for target texture and bind it to correct framebuffer\r\n\tfunction setupFrameBufferTexture ( framebuffer, renderTarget, attachment, textureTarget ) {\r\n\r\n\t\tvar glFormat = paramThreeToGL( renderTarget.texture.format );\r\n\t\tvar glType = paramThreeToGL( renderTarget.texture.type );\r\n\t\tstate.texImage2D( textureTarget, 0, glFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\r\n\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\r\n\t\t_gl.framebufferTexture2D( _gl.FRAMEBUFFER, attachment, textureTarget, properties.get( renderTarget.texture ).__webglTexture, 0 );\r\n\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, null );\r\n\r\n\t}\r\n\r\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\r\n\tfunction setupRenderBufferStorage ( renderbuffer, renderTarget ) {\r\n\r\n\t\t_gl.bindRenderbuffer( _gl.RENDERBUFFER, renderbuffer );\r\n\r\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\r\n\r\n\t\t\t_gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.DEPTH_COMPONENT16, renderTarget.width, renderTarget.height );\r\n\t\t\t_gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer );\r\n\r\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\r\n\r\n\t\t\t_gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.DEPTH_STENCIL, renderTarget.width, renderTarget.height );\r\n\t\t\t_gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// FIXME: We don't support !depth !stencil\r\n\t\t\t_gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.RGBA4, renderTarget.width, renderTarget.height );\r\n\r\n\t\t}\r\n\r\n\t\t_gl.bindRenderbuffer( _gl.RENDERBUFFER, null );\r\n\r\n\t}\r\n\r\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\r\n\tfunction setupDepthTexture ( framebuffer, renderTarget ) {\r\n\r\n\t\tvar isCube = ( renderTarget instanceof THREE.WebGLRenderTargetCube );\r\n\t\tif ( isCube ) throw new Error('Depth Texture with cube render targets is not supported!');\r\n\r\n\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\r\n\r\n\t\tif ( !( renderTarget.depthTexture instanceof THREE.DepthTexture ) ) {\r\n\r\n\t\t\tthrow new Error('renderTarget.depthTexture must be an instance of THREE.DepthTexture');\r\n\r\n\t\t}\r\n\r\n\t\t// upload an empty depth texture with framebuffer size\r\n\t\tif ( !properties.get( renderTarget.depthTexture ).__webglTexture ||\r\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\r\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\r\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\r\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\r\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\r\n\t\t}\r\n\r\n\t\t_this.setTexture2D( renderTarget.depthTexture, 0 );\r\n\r\n\t\tvar webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\r\n\t\t_gl.framebufferTexture2D( _gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0 );\r\n\r\n\t}\r\n\r\n\t// Setup GL resources for a non-texture depth buffer\r\n\tfunction setupDepthRenderbuffer( renderTarget ) {\r\n\r\n\t\tvar renderTargetProperties = properties.get( renderTarget );\r\n\r\n\t\tvar isCube = ( renderTarget instanceof THREE.WebGLRenderTargetCube );\r\n\r\n\t\tif ( renderTarget.depthTexture ) {\r\n\r\n\t\t\tif ( isCube ) throw new Error('target.depthTexture not supported in Cube render targets');\r\n\r\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ( isCube ) {\r\n\r\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\r\n\r\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer[ i ] );\r\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\r\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer );\r\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\r\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, null );\r\n\r\n\t}\r\n\r\n\t// Set up GL resources for the render target\r\n\tfunction setupRenderTarget( renderTarget ) {\r\n\r\n\t\tvar renderTargetProperties = properties.get( renderTarget );\r\n\t\tvar textureProperties = properties.get( renderTarget.texture );\r\n\r\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\r\n\r\n\t\ttextureProperties.__webglTexture = _gl.createTexture();\r\n\r\n\t\t_infoMemory.textures ++;\r\n\r\n\t\tvar isCube = ( renderTarget instanceof THREE.WebGLRenderTargetCube );\r\n\t\tvar isTargetPowerOfTwo = THREE.Math.isPowerOfTwo( renderTarget.width ) && THREE.Math.isPowerOfTwo( renderTarget.height );\r\n\r\n\t\t// Setup framebuffer\r\n\r\n\t\tif ( isCube ) {\r\n\r\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\r\n\r\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\r\n\r\n\t\t}\r\n\r\n\t\t// Setup color buffer\r\n\r\n\t\tif ( isCube ) {\r\n\r\n\t\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__webglTexture );\r\n\t\t\tsetTextureParameters( _gl.TEXTURE_CUBE_MAP, renderTarget.texture, isTargetPowerOfTwo );\r\n\r\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\r\n\r\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( renderTarget.texture.generateMipmaps && isTargetPowerOfTwo ) _gl.generateMipmap( _gl.TEXTURE_CUBE_MAP );\r\n\t\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, null );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tstate.bindTexture( _gl.TEXTURE_2D, textureProperties.__webglTexture );\r\n\t\t\tsetTextureParameters( _gl.TEXTURE_2D, renderTarget.texture, isTargetPowerOfTwo );\r\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_2D );\r\n\r\n\t\t\tif ( renderTarget.texture.generateMipmaps && isTargetPowerOfTwo ) _gl.generateMipmap( _gl.TEXTURE_2D );\r\n\t\t\tstate.bindTexture( _gl.TEXTURE_2D, null );\r\n\r\n\t\t}\r\n\r\n\t\t// Setup depth and stencil buffers\r\n\r\n\t\tif ( renderTarget.depthBuffer ) {\r\n\r\n\t\t\tsetupDepthRenderbuffer( renderTarget );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tthis.getCurrentRenderTarget = function() {\r\n\r\n\t\treturn _currentRenderTarget;\r\n\r\n\t};\r\n\r\n\tthis.setRenderTarget = function ( renderTarget ) {\r\n\r\n\t\t_currentRenderTarget = renderTarget;\r\n\r\n\t\tif ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\r\n\r\n\t\t\tsetupRenderTarget( renderTarget );\r\n\r\n\t\t}\r\n\r\n\t\tvar isCube = ( renderTarget instanceof THREE.WebGLRenderTargetCube );\r\n\t\tvar framebuffer;\r\n\r\n\t\tif ( renderTarget ) {\r\n\r\n\t\t\tvar renderTargetProperties = properties.get( renderTarget );\r\n\r\n\t\t\tif ( isCube ) {\r\n\r\n\t\t\t\tframebuffer = renderTargetProperties.__webglFramebuffer[ renderTarget.activeCubeFace ];\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tframebuffer = renderTargetProperties.__webglFramebuffer;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_currentScissor.copy( renderTarget.scissor );\r\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\r\n\r\n\t\t\t_currentViewport.copy( renderTarget.viewport );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tframebuffer = null;\r\n\r\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio );\r\n\t\t\t_currentScissorTest = _scissorTest;\r\n\r\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio );\r\n\r\n\t\t}\r\n\r\n\t\tif ( _currentFramebuffer !== framebuffer ) {\r\n\r\n\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\r\n\t\t\t_currentFramebuffer = framebuffer;\r\n\r\n\t\t}\r\n\r\n\t\tstate.scissor( _currentScissor );\r\n\t\tstate.setScissorTest( _currentScissorTest );\r\n\r\n\t\tstate.viewport( _currentViewport );\r\n\r\n\t\tif ( isCube ) {\r\n\r\n\t\t\tvar textureProperties = properties.get( renderTarget.texture );\r\n\t\t\t_gl.framebufferTexture2D( _gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + renderTarget.activeCubeFace, textureProperties.__webglTexture, renderTarget.activeMipMapLevel );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer ) {\r\n\r\n\t\tif ( renderTarget instanceof THREE.WebGLRenderTarget === false ) {\r\n\r\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tvar framebuffer = properties.get( renderTarget ).__webglFramebuffer;\r\n\r\n\t\tif ( framebuffer ) {\r\n\r\n\t\t\tvar restore = false;\r\n\r\n\t\t\tif ( framebuffer !== _currentFramebuffer ) {\r\n\r\n\t\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\r\n\r\n\t\t\t\trestore = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tvar texture = renderTarget.texture;\r\n\r\n\t\t\t\tif ( texture.format !== THREE.RGBAFormat && paramThreeToGL( texture.format ) !== _gl.getParameter( _gl.IMPLEMENTATION_COLOR_READ_FORMAT ) ) {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( texture.type !== THREE.UnsignedByteType &&\r\n\t\t\t\t     paramThreeToGL( texture.type ) !== _gl.getParameter( _gl.IMPLEMENTATION_COLOR_READ_TYPE ) &&\r\n\t\t\t\t     ! ( texture.type === THREE.FloatType && extensions.get( 'WEBGL_color_buffer_float' ) ) &&\r\n\t\t\t\t     ! ( texture.type === THREE.HalfFloatType && extensions.get( 'EXT_color_buffer_half_float' ) ) ) {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( _gl.checkFramebufferStatus( _gl.FRAMEBUFFER ) === _gl.FRAMEBUFFER_COMPLETE ) {\r\n\r\n\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\r\n\r\n\t\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\r\n\r\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, paramThreeToGL( texture.format ), paramThreeToGL( texture.type ), buffer );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} finally {\r\n\r\n\t\t\t\tif ( restore ) {\r\n\r\n\t\t\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, _currentFramebuffer );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tfunction updateRenderTargetMipmap( renderTarget ) {\r\n\r\n\t\tvar target = renderTarget instanceof THREE.WebGLRenderTargetCube ? _gl.TEXTURE_CUBE_MAP : _gl.TEXTURE_2D;\r\n\t\tvar texture = properties.get( renderTarget.texture ).__webglTexture;\r\n\r\n\t\tstate.bindTexture( target, texture );\r\n\t\t_gl.generateMipmap( target );\r\n\t\tstate.bindTexture( target, null );\r\n\r\n\t}\r\n\r\n\t// Fallback filters for non-power-of-2 textures\r\n\r\n\tfunction filterFallback ( f ) {\r\n\r\n\t\tif ( f === THREE.NearestFilter || f === THREE.NearestMipMapNearestFilter || f === THREE.NearestMipMapLinearFilter ) {\r\n\r\n\t\t\treturn _gl.NEAREST;\r\n\r\n\t\t}\r\n\r\n\t\treturn _gl.LINEAR;\r\n\r\n\t}\r\n\r\n\t// Map three.js constants to WebGL constants\r\n\r\n\tfunction paramThreeToGL ( p ) {\r\n\r\n\t\tvar extension;\r\n\r\n\t\tif ( p === THREE.RepeatWrapping ) return _gl.REPEAT;\r\n\t\tif ( p === THREE.ClampToEdgeWrapping ) return _gl.CLAMP_TO_EDGE;\r\n\t\tif ( p === THREE.MirroredRepeatWrapping ) return _gl.MIRRORED_REPEAT;\r\n\r\n\t\tif ( p === THREE.NearestFilter ) return _gl.NEAREST;\r\n\t\tif ( p === THREE.NearestMipMapNearestFilter ) return _gl.NEAREST_MIPMAP_NEAREST;\r\n\t\tif ( p === THREE.NearestMipMapLinearFilter ) return _gl.NEAREST_MIPMAP_LINEAR;\r\n\r\n\t\tif ( p === THREE.LinearFilter ) return _gl.LINEAR;\r\n\t\tif ( p === THREE.LinearMipMapNearestFilter ) return _gl.LINEAR_MIPMAP_NEAREST;\r\n\t\tif ( p === THREE.LinearMipMapLinearFilter ) return _gl.LINEAR_MIPMAP_LINEAR;\r\n\r\n\t\tif ( p === THREE.UnsignedByteType ) return _gl.UNSIGNED_BYTE;\r\n\t\tif ( p === THREE.UnsignedShort4444Type ) return _gl.UNSIGNED_SHORT_4_4_4_4;\r\n\t\tif ( p === THREE.UnsignedShort5551Type ) return _gl.UNSIGNED_SHORT_5_5_5_1;\r\n\t\tif ( p === THREE.UnsignedShort565Type ) return _gl.UNSIGNED_SHORT_5_6_5;\r\n\r\n\t\tif ( p === THREE.ByteType ) return _gl.BYTE;\r\n\t\tif ( p === THREE.ShortType ) return _gl.SHORT;\r\n\t\tif ( p === THREE.UnsignedShortType ) return _gl.UNSIGNED_SHORT;\r\n\t\tif ( p === THREE.IntType ) return _gl.INT;\r\n\t\tif ( p === THREE.UnsignedIntType ) return _gl.UNSIGNED_INT;\r\n\t\tif ( p === THREE.FloatType ) return _gl.FLOAT;\r\n\r\n\t\textension = extensions.get( 'OES_texture_half_float' );\r\n\r\n\t\tif ( extension !== null ) {\r\n\r\n\t\t\tif ( p === THREE.HalfFloatType ) return extension.HALF_FLOAT_OES;\r\n\r\n\t\t}\r\n\r\n\t\tif ( p === THREE.AlphaFormat ) return _gl.ALPHA;\r\n\t\tif ( p === THREE.RGBFormat ) return _gl.RGB;\r\n\t\tif ( p === THREE.RGBAFormat ) return _gl.RGBA;\r\n\t\tif ( p === THREE.LuminanceFormat ) return _gl.LUMINANCE;\r\n\t\tif ( p === THREE.LuminanceAlphaFormat ) return _gl.LUMINANCE_ALPHA;\r\n\t\tif ( p === THREE.DepthFormat ) return _gl.DEPTH_COMPONENT;\r\n\r\n\t\tif ( p === THREE.AddEquation ) return _gl.FUNC_ADD;\r\n\t\tif ( p === THREE.SubtractEquation ) return _gl.FUNC_SUBTRACT;\r\n\t\tif ( p === THREE.ReverseSubtractEquation ) return _gl.FUNC_REVERSE_SUBTRACT;\r\n\r\n\t\tif ( p === THREE.ZeroFactor ) return _gl.ZERO;\r\n\t\tif ( p === THREE.OneFactor ) return _gl.ONE;\r\n\t\tif ( p === THREE.SrcColorFactor ) return _gl.SRC_COLOR;\r\n\t\tif ( p === THREE.OneMinusSrcColorFactor ) return _gl.ONE_MINUS_SRC_COLOR;\r\n\t\tif ( p === THREE.SrcAlphaFactor ) return _gl.SRC_ALPHA;\r\n\t\tif ( p === THREE.OneMinusSrcAlphaFactor ) return _gl.ONE_MINUS_SRC_ALPHA;\r\n\t\tif ( p === THREE.DstAlphaFactor ) return _gl.DST_ALPHA;\r\n\t\tif ( p === THREE.OneMinusDstAlphaFactor ) return _gl.ONE_MINUS_DST_ALPHA;\r\n\r\n\t\tif ( p === THREE.DstColorFactor ) return _gl.DST_COLOR;\r\n\t\tif ( p === THREE.OneMinusDstColorFactor ) return _gl.ONE_MINUS_DST_COLOR;\r\n\t\tif ( p === THREE.SrcAlphaSaturateFactor ) return _gl.SRC_ALPHA_SATURATE;\r\n\r\n\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\r\n\r\n\t\tif ( extension !== null ) {\r\n\r\n\t\t\tif ( p === THREE.RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\r\n\t\t\tif ( p === THREE.RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\r\n\t\t\tif ( p === THREE.RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\r\n\t\t\tif ( p === THREE.RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\r\n\r\n\t\t}\r\n\r\n\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\r\n\r\n\t\tif ( extension !== null ) {\r\n\r\n\t\t\tif ( p === THREE.RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\r\n\t\t\tif ( p === THREE.RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\r\n\t\t\tif ( p === THREE.RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\r\n\t\t\tif ( p === THREE.RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\r\n\r\n\t\t}\r\n\r\n\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\r\n\r\n\t\tif ( extension !== null ) {\r\n\r\n\t\t\tif ( p === THREE.RGB_ETC1_Format ) return extension.COMPRESSED_RGB_ETC1_WEBGL;\r\n\r\n\t\t}\r\n\r\n\t\textension = extensions.get( 'EXT_blend_minmax' );\r\n\r\n\t\tif ( extension !== null ) {\r\n\r\n\t\t\tif ( p === THREE.MinEquation ) return extension.MIN_EXT;\r\n\t\t\tif ( p === THREE.MaxEquation ) return extension.MAX_EXT;\r\n\r\n\t\t}\r\n\r\n\t\treturn 0;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/renderers/WebGLRenderTarget.js\r\n\r\n/**\r\n * @author szimek / https://github.com/szimek/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author Marius Kintel / https://github.com/kintel\r\n */\r\n\r\n/*\r\n In options, we can specify:\r\n * Texture parameters for an auto-generated target texture\r\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\r\n*/\r\nTHREE.WebGLRenderTarget = function ( width, height, options ) {\r\n\r\n\tthis.uuid = THREE.Math.generateUUID();\r\n\r\n\tthis.width = width;\r\n\tthis.height = height;\r\n\r\n\tthis.scissor = new THREE.Vector4( 0, 0, width, height );\r\n\tthis.scissorTest = false;\r\n\r\n\tthis.viewport = new THREE.Vector4( 0, 0, width, height );\r\n\r\n\toptions = options || {};\r\n\r\n\tif ( options.minFilter === undefined ) options.minFilter = THREE.LinearFilter;\r\n\r\n\tthis.texture = new THREE.Texture( undefined, undefined, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\r\n\r\n\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\r\n\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : true;\r\n\tthis.depthTexture = null;\r\n\r\n};\r\n\r\nObject.assign( THREE.WebGLRenderTarget.prototype, THREE.EventDispatcher.prototype, {\r\n\r\n\tsetSize: function ( width, height ) {\r\n\r\n\t\tif ( this.width !== width || this.height !== height ) {\r\n\r\n\t\t\tthis.width = width;\r\n\t\t\tthis.height = height;\r\n\r\n\t\t\tthis.dispose();\r\n\r\n\t\t}\r\n\r\n\t\tthis.viewport.set( 0, 0, width, height );\r\n\t\tthis.scissor.set( 0, 0, width, height );\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().copy( this );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.width = source.width;\r\n\t\tthis.height = source.height;\r\n\r\n\t\tthis.viewport.copy( source.viewport );\r\n\r\n\t\tthis.texture = source.texture.clone();\r\n\r\n\t\tthis.depthBuffer = source.depthBuffer;\r\n\t\tthis.stencilBuffer = source.stencilBuffer;\r\n\t\tthis.depthTexture = source.depthTexture;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdispose: function () {\r\n\r\n\t\tthis.dispatchEvent( { type: 'dispose' } );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/renderers/WebGLRenderTargetCube.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com\r\n */\r\n\r\nTHREE.WebGLRenderTargetCube = function ( width, height, options ) {\r\n\r\n\tTHREE.WebGLRenderTarget.call( this, width, height, options );\r\n\r\n\tthis.activeCubeFace = 0; // PX 0, NX 1, PY 2, NY 3, PZ 4, NZ 5\r\n\tthis.activeMipMapLevel = 0;\r\n\r\n};\r\n\r\nTHREE.WebGLRenderTargetCube.prototype = Object.create( THREE.WebGLRenderTarget.prototype );\r\nTHREE.WebGLRenderTargetCube.prototype.constructor = THREE.WebGLRenderTargetCube;\r\n\r\n// File:src/renderers/webgl/WebGLBufferRenderer.js\r\n\r\n/**\r\n* @author mrdoob / http://mrdoob.com/\r\n*/\r\n\r\nTHREE.WebGLBufferRenderer = function ( _gl, extensions, _infoRender ) {\r\n\r\n\tvar mode;\r\n\r\n\tfunction setMode( value ) {\r\n\r\n\t\tmode = value;\r\n\r\n\t}\r\n\r\n\tfunction render( start, count ) {\r\n\r\n\t\t_gl.drawArrays( mode, start, count );\r\n\r\n\t\t_infoRender.calls ++;\r\n\t\t_infoRender.vertices += count;\r\n\t\tif ( mode === _gl.TRIANGLES ) _infoRender.faces += count / 3;\r\n\r\n\t}\r\n\r\n\tfunction renderInstances( geometry ) {\r\n\r\n\t\tvar extension = extensions.get( 'ANGLE_instanced_arrays' );\r\n\r\n\t\tif ( extension === null ) {\r\n\r\n\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tvar position = geometry.attributes.position;\r\n\r\n\t\tvar count = 0;\r\n\r\n\t\tif ( position instanceof THREE.InterleavedBufferAttribute ) {\r\n\r\n\t\t\tcount = position.data.count;\r\n\r\n\t\t\textension.drawArraysInstancedANGLE( mode, 0, count, geometry.maxInstancedCount );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tcount = position.count;\r\n\r\n\t\t\textension.drawArraysInstancedANGLE( mode, 0, count, geometry.maxInstancedCount );\r\n\r\n\t\t}\r\n\r\n\t\t_infoRender.calls ++;\r\n\t\t_infoRender.vertices += count * geometry.maxInstancedCount;\r\n\t\tif ( mode === _gl.TRIANGLES ) _infoRender.faces += geometry.maxInstancedCount * count / 3;\r\n\r\n\t}\r\n\r\n\tthis.setMode = setMode;\r\n\tthis.render = render;\r\n\tthis.renderInstances = renderInstances;\r\n\r\n};\r\n\r\n// File:src/renderers/webgl/WebGLClipping.js\r\n\r\nTHREE.WebGLClipping = function() {\r\n\r\n\tvar scope = this,\r\n\r\n\t\tglobalState = null,\r\n\t\tnumGlobalPlanes = 0,\r\n\t\tlocalClippingEnabled = false,\r\n\t\trenderingShadows = false,\r\n\r\n\t\tplane = new THREE.Plane(),\r\n\t\tviewNormalMatrix = new THREE.Matrix3(),\r\n\r\n\t\tuniform = { value: null, needsUpdate: false };\r\n\r\n\tthis.uniform = uniform;\r\n\tthis.numPlanes = 0;\r\n\r\n\tthis.init = function( planes, enableLocalClipping, camera ) {\r\n\r\n\t\tvar enabled =\r\n\t\t\tplanes.length !== 0 ||\r\n\t\t\tenableLocalClipping ||\r\n\t\t\t// enable state of previous frame - the clipping code has to\r\n\t\t\t// run another frame in order to reset the state:\r\n\t\t\tnumGlobalPlanes !== 0 ||\r\n\t\t\tlocalClippingEnabled;\r\n\r\n\t\tlocalClippingEnabled = enableLocalClipping;\r\n\r\n\t\tglobalState = projectPlanes( planes, camera, 0 );\r\n\t\tnumGlobalPlanes = planes.length;\r\n\r\n\t\treturn enabled;\r\n\r\n\t};\r\n\r\n\tthis.beginShadows = function() {\r\n\r\n\t\trenderingShadows = true;\r\n\t\tprojectPlanes( null );\r\n\r\n\t};\r\n\r\n\tthis.endShadows = function() {\r\n\r\n\t\trenderingShadows = false;\r\n\t\tresetGlobalState();\r\n\r\n\t};\r\n\r\n\tthis.setState = function( planes, clipShadows, camera, cache, fromCache ) {\r\n\r\n\t\tif ( ! localClippingEnabled ||\r\n\t\t\t\tplanes === null || planes.length === 0 ||\r\n\t\t\t\trenderingShadows && ! clipShadows ) {\r\n\t\t\t// there's no local clipping\r\n\r\n\t\t\tif ( renderingShadows ) {\r\n\t\t\t\t// there's no global clipping\r\n\r\n\t\t\t\tprojectPlanes( null );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tresetGlobalState();\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar nGlobal = renderingShadows ? 0 : numGlobalPlanes,\r\n\t\t\t\tlGlobal = nGlobal * 4,\r\n\r\n\t\t\t\tdstArray = cache.clippingState || null;\r\n\r\n\t\t\tuniform.value = dstArray; // ensure unique state\r\n\r\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, fromCache );\r\n\r\n\t\t\tfor ( var i = 0; i !== lGlobal; ++ i ) {\r\n\r\n\t\t\t\tdstArray[ i ] = globalState[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcache.clippingState = dstArray;\r\n\t\t\tthis.numPlanes += nGlobal;\r\n\r\n\t\t}\r\n\r\n\r\n\t};\r\n\r\n\tfunction resetGlobalState() {\r\n\r\n\t\tif ( uniform.value !== globalState ) {\r\n\r\n\t\t\tuniform.value = globalState;\r\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\r\n\r\n\t\t}\r\n\r\n\t\tscope.numPlanes = numGlobalPlanes;\r\n\r\n\t}\r\n\r\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\r\n\r\n\t\tvar nPlanes = planes !== null ? planes.length : 0,\r\n\t\t\tdstArray = null;\r\n\r\n\t\tif ( nPlanes !== 0 ) {\r\n\r\n\t\t\tdstArray = uniform.value;\r\n\r\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\r\n\r\n\t\t\t\tvar flatSize = dstOffset + nPlanes * 4,\r\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\r\n\r\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\r\n\r\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\r\n\r\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( var i = 0, i4 = dstOffset;\r\n\t\t\t\t\t\t\t\t\ti !== nPlanes; ++ i, i4 += 4 ) {\r\n\r\n\t\t\t\t\tplane.copy( planes[ i ] ).\r\n\t\t\t\t\t\t\tapplyMatrix4( viewMatrix, viewNormalMatrix );\r\n\r\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\r\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tuniform.value = dstArray;\r\n\t\t\tuniform.needsUpdate = true;\r\n\r\n\t\t}\r\n\r\n\t\tscope.numPlanes = nPlanes;\r\n\t\treturn dstArray;\r\n\r\n\t}\r\n\r\n};\r\n\r\n\r\n// File:src/renderers/webgl/WebGLIndexedBufferRenderer.js\r\n\r\n/**\r\n* @author mrdoob / http://mrdoob.com/\r\n*/\r\n\r\nTHREE.WebGLIndexedBufferRenderer = function ( _gl, extensions, _infoRender ) {\r\n\r\n\tvar mode;\r\n\r\n\tfunction setMode( value ) {\r\n\r\n\t\tmode = value;\r\n\r\n\t}\r\n\r\n\tvar type, size;\r\n\r\n\tfunction setIndex( index ) {\r\n\r\n\t\tif ( index.array instanceof Uint32Array && extensions.get( 'OES_element_index_uint' ) ) {\r\n\r\n\t\t\ttype = _gl.UNSIGNED_INT;\r\n\t\t\tsize = 4;\r\n\r\n\t\t} else {\r\n\r\n\t\t\ttype = _gl.UNSIGNED_SHORT;\r\n\t\t\tsize = 2;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction render( start, count ) {\r\n\r\n\t\t_gl.drawElements( mode, count, type, start * size );\r\n\r\n\t\t_infoRender.calls ++;\r\n\t\t_infoRender.vertices += count;\r\n\t\tif ( mode === _gl.TRIANGLES ) _infoRender.faces += count / 3;\r\n\r\n\t}\r\n\r\n\tfunction renderInstances( geometry, start, count ) {\r\n\r\n\t\tvar extension = extensions.get( 'ANGLE_instanced_arrays' );\r\n\r\n\t\tif ( extension === null ) {\r\n\r\n\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\textension.drawElementsInstancedANGLE( mode, count, type, start * size, geometry.maxInstancedCount );\r\n\r\n\t\t_infoRender.calls ++;\r\n\t\t_infoRender.vertices += count * geometry.maxInstancedCount;\r\n\t\tif ( mode === _gl.TRIANGLES ) _infoRender.faces += geometry.maxInstancedCount * count / 3;\r\n\t}\r\n\r\n\tthis.setMode = setMode;\r\n\tthis.setIndex = setIndex;\r\n\tthis.render = render;\r\n\tthis.renderInstances = renderInstances;\r\n\r\n};\r\n\r\n// File:src/renderers/webgl/WebGLExtensions.js\r\n\r\n/**\r\n* @author mrdoob / http://mrdoob.com/\r\n*/\r\n\r\nTHREE.WebGLExtensions = function ( gl ) {\r\n\r\n\tvar extensions = {};\r\n\r\n\tthis.get = function ( name ) {\r\n\r\n\t\tif ( extensions[ name ] !== undefined ) {\r\n\r\n\t\t\treturn extensions[ name ];\r\n\r\n\t\t}\r\n\r\n\t\tvar extension;\r\n\r\n\t\tswitch ( name ) {\r\n\r\n\t\t\tcase 'WEBGL_depth_texture':\r\n\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'EXT_texture_filter_anisotropic':\r\n\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'WEBGL_compressed_texture_s3tc':\r\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\r\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'WEBGL_compressed_texture_etc1':\r\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_etc1' );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\textension = gl.getExtension( name );\r\n\r\n\t\t}\r\n\r\n\t\tif ( extension === null ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\r\n\r\n\t\t}\r\n\r\n\t\textensions[ name ] = extension;\r\n\r\n\t\treturn extension;\r\n\r\n\t};\r\n\r\n};\r\n\r\n// File:src/renderers/webgl/WebGLCapabilities.js\r\n\r\nTHREE.WebGLCapabilities = function ( gl, extensions, parameters ) {\r\n\r\n\tfunction getMaxPrecision( precision ) {\r\n\r\n\t\tif ( precision === 'highp' ) {\r\n\r\n\t\t\tif ( gl.getShaderPrecisionFormat( gl.VERTEX_SHADER, gl.HIGH_FLOAT ).precision > 0 &&\r\n\t\t\t     gl.getShaderPrecisionFormat( gl.FRAGMENT_SHADER, gl.HIGH_FLOAT ).precision > 0 ) {\r\n\r\n\t\t\t\treturn 'highp';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tprecision = 'mediump';\r\n\r\n\t\t}\r\n\r\n\t\tif ( precision === 'mediump' ) {\r\n\r\n\t\t\tif ( gl.getShaderPrecisionFormat( gl.VERTEX_SHADER, gl.MEDIUM_FLOAT ).precision > 0 &&\r\n\t\t\t     gl.getShaderPrecisionFormat( gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT ).precision > 0 ) {\r\n\r\n\t\t\t\treturn 'mediump';\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn 'lowp';\r\n\r\n\t}\r\n\r\n\tthis.getMaxPrecision = getMaxPrecision;\r\n\r\n\tthis.precision = parameters.precision !== undefined ? parameters.precision : 'highp';\r\n\tthis.logarithmicDepthBuffer = parameters.logarithmicDepthBuffer !== undefined ? parameters.logarithmicDepthBuffer : false;\r\n\r\n\tthis.maxTextures = gl.getParameter( gl.MAX_TEXTURE_IMAGE_UNITS );\r\n\tthis.maxVertexTextures = gl.getParameter( gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS );\r\n\tthis.maxTextureSize = gl.getParameter( gl.MAX_TEXTURE_SIZE );\r\n\tthis.maxCubemapSize = gl.getParameter( gl.MAX_CUBE_MAP_TEXTURE_SIZE );\r\n\r\n\tthis.maxAttributes = gl.getParameter( gl.MAX_VERTEX_ATTRIBS );\r\n\tthis.maxVertexUniforms = gl.getParameter( gl.MAX_VERTEX_UNIFORM_VECTORS );\r\n\tthis.maxVaryings = gl.getParameter( gl.MAX_VARYING_VECTORS );\r\n\tthis.maxFragmentUniforms = gl.getParameter( gl.MAX_FRAGMENT_UNIFORM_VECTORS );\r\n\r\n\tthis.vertexTextures = this.maxVertexTextures > 0;\r\n\tthis.floatFragmentTextures = !! extensions.get( 'OES_texture_float' );\r\n\tthis.floatVertexTextures = this.vertexTextures && this.floatFragmentTextures;\r\n\r\n\tvar _maxPrecision = getMaxPrecision( this.precision );\r\n\r\n\tif ( _maxPrecision !== this.precision ) {\r\n\r\n\t\tconsole.warn( 'THREE.WebGLRenderer:', this.precision, 'not supported, using', _maxPrecision, 'instead.' );\r\n\t\tthis.precision = _maxPrecision;\r\n\r\n\t}\r\n\r\n\tif ( this.logarithmicDepthBuffer ) {\r\n\r\n\t\tthis.logarithmicDepthBuffer = !! extensions.get( 'EXT_frag_depth' );\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/renderers/webgl/WebGLGeometries.js\r\n\r\n/**\r\n* @author mrdoob / http://mrdoob.com/\r\n*/\r\n\r\nTHREE.WebGLGeometries = function ( gl, properties, info ) {\r\n\r\n\tvar geometries = {};\r\n\r\n\tfunction get( object ) {\r\n\r\n\t\tvar geometry = object.geometry;\r\n\r\n\t\tif ( geometries[ geometry.id ] !== undefined ) {\r\n\r\n\t\t\treturn geometries[ geometry.id ];\r\n\r\n\t\t}\r\n\r\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\r\n\r\n\t\tvar buffergeometry;\r\n\r\n\t\tif ( geometry instanceof THREE.BufferGeometry ) {\r\n\r\n\t\t\tbuffergeometry = geometry;\r\n\r\n\t\t} else if ( geometry instanceof THREE.Geometry ) {\r\n\r\n\t\t\tif ( geometry._bufferGeometry === undefined ) {\r\n\r\n\t\t\t\tgeometry._bufferGeometry = new THREE.BufferGeometry().setFromObject( object );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbuffergeometry = geometry._bufferGeometry;\r\n\r\n\t\t}\r\n\r\n\t\tgeometries[ geometry.id ] = buffergeometry;\r\n\r\n\t\tinfo.memory.geometries ++;\r\n\r\n\t\treturn buffergeometry;\r\n\r\n\t}\r\n\r\n\tfunction onGeometryDispose( event ) {\r\n\r\n\t\tvar geometry = event.target;\r\n\t\tvar buffergeometry = geometries[ geometry.id ];\r\n\r\n\t\tif ( buffergeometry.index !== null ) {\r\n\r\n\t\t\tdeleteAttribute( buffergeometry.index );\r\n\r\n\t\t}\r\n\r\n\t\tdeleteAttributes( buffergeometry.attributes );\r\n\r\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\r\n\r\n\t\tdelete geometries[ geometry.id ];\r\n\r\n\t\t// TODO\r\n\r\n\t\tvar property = properties.get( geometry );\r\n\r\n\t\tif ( property.wireframe ) {\r\n\r\n\t\t\tdeleteAttribute( property.wireframe );\r\n\r\n\t\t}\r\n\r\n\t\tproperties.delete( geometry );\r\n\r\n\t\tvar bufferproperty = properties.get( buffergeometry );\r\n\r\n\t\tif ( bufferproperty.wireframe ) {\r\n\r\n\t\t\tdeleteAttribute( bufferproperty.wireframe );\r\n\r\n\t\t}\r\n\r\n\t\tproperties.delete( buffergeometry );\r\n\r\n\t\t//\r\n\r\n\t\tinfo.memory.geometries --;\r\n\r\n\t}\r\n\r\n\tfunction getAttributeBuffer( attribute ) {\r\n\r\n\t\tif ( attribute instanceof THREE.InterleavedBufferAttribute ) {\r\n\r\n\t\t\treturn properties.get( attribute.data ).__webglBuffer;\r\n\r\n\t\t}\r\n\r\n\t\treturn properties.get( attribute ).__webglBuffer;\r\n\r\n\t}\r\n\r\n\tfunction deleteAttribute( attribute ) {\r\n\r\n\t\tvar buffer = getAttributeBuffer( attribute );\r\n\r\n\t\tif ( buffer !== undefined ) {\r\n\r\n\t\t\tgl.deleteBuffer( buffer );\r\n\t\t\tremoveAttributeBuffer( attribute );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction deleteAttributes( attributes ) {\r\n\r\n\t\tfor ( var name in attributes ) {\r\n\r\n\t\t\tdeleteAttribute( attributes[ name ] );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction removeAttributeBuffer( attribute ) {\r\n\r\n\t\tif ( attribute instanceof THREE.InterleavedBufferAttribute ) {\r\n\r\n\t\t\tproperties.delete( attribute.data );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tproperties.delete( attribute );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tthis.get = get;\r\n\r\n};\r\n\r\n// File:src/renderers/webgl/WebGLLights.js\r\n\r\n/**\r\n* @author mrdoob / http://mrdoob.com/\r\n*/\r\n\r\nTHREE.WebGLLights = function () {\r\n\r\n\tvar lights = {};\r\n\r\n\tthis.get = function ( light ) {\r\n\r\n\t\tif ( lights[ light.id ] !== undefined ) {\r\n\r\n\t\t\treturn lights[ light.id ];\r\n\r\n\t\t}\r\n\r\n\t\tvar uniforms;\r\n\r\n\t\tswitch ( light.type ) {\r\n\r\n\t\t\tcase 'DirectionalLight':\r\n\t\t\t\tuniforms = {\r\n\t\t\t\t\tdirection: new THREE.Vector3(),\r\n\t\t\t\t\tcolor: new THREE.Color(),\r\n\r\n\t\t\t\t\tshadow: false,\r\n\t\t\t\t\tshadowBias: 0,\r\n\t\t\t\t\tshadowRadius: 1,\r\n\t\t\t\t\tshadowMapSize: new THREE.Vector2()\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'SpotLight':\r\n\t\t\t\tuniforms = {\r\n\t\t\t\t\tposition: new THREE.Vector3(),\r\n\t\t\t\t\tdirection: new THREE.Vector3(),\r\n\t\t\t\t\tcolor: new THREE.Color(),\r\n\t\t\t\t\tdistance: 0,\r\n\t\t\t\t\tconeCos: 0,\r\n\t\t\t\t\tpenumbraCos: 0,\r\n\t\t\t\t\tdecay: 0,\r\n\r\n\t\t\t\t\tshadow: false,\r\n\t\t\t\t\tshadowBias: 0,\r\n\t\t\t\t\tshadowRadius: 1,\r\n\t\t\t\t\tshadowMapSize: new THREE.Vector2()\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'PointLight':\r\n\t\t\t\tuniforms = {\r\n\t\t\t\t\tposition: new THREE.Vector3(),\r\n\t\t\t\t\tcolor: new THREE.Color(),\r\n\t\t\t\t\tdistance: 0,\r\n\t\t\t\t\tdecay: 0,\r\n\r\n\t\t\t\t\tshadow: false,\r\n\t\t\t\t\tshadowBias: 0,\r\n\t\t\t\t\tshadowRadius: 1,\r\n\t\t\t\t\tshadowMapSize: new THREE.Vector2()\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'HemisphereLight':\r\n\t\t\t\tuniforms = {\r\n\t\t\t\t\tdirection: new THREE.Vector3(),\r\n\t\t\t\t\tskyColor: new THREE.Color(),\r\n\t\t\t\t\tgroundColor: new THREE.Color()\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tlights[ light.id ] = uniforms;\r\n\r\n\t\treturn uniforms;\r\n\r\n\t};\r\n\r\n};\r\n\r\n// File:src/renderers/webgl/WebGLObjects.js\r\n\r\n/**\r\n* @author mrdoob / http://mrdoob.com/\r\n*/\r\n\r\nTHREE.WebGLObjects = function ( gl, properties, info ) {\r\n\r\n\tvar geometries = new THREE.WebGLGeometries( gl, properties, info );\r\n\r\n\t//\r\n\r\n\tfunction update( object ) {\r\n\r\n\t\t// TODO: Avoid updating twice (when using shadowMap). Maybe add frame counter.\r\n\r\n\t\tvar geometry = geometries.get( object );\r\n\r\n\t\tif ( object.geometry instanceof THREE.Geometry ) {\r\n\r\n\t\t\tgeometry.updateFromObject( object );\r\n\r\n\t\t}\r\n\r\n\t\tvar index = geometry.index;\r\n\t\tvar attributes = geometry.attributes;\r\n\r\n\t\tif ( index !== null ) {\r\n\r\n\t\t\tupdateAttribute( index, gl.ELEMENT_ARRAY_BUFFER );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var name in attributes ) {\r\n\r\n\t\t\tupdateAttribute( attributes[ name ], gl.ARRAY_BUFFER );\r\n\r\n\t\t}\r\n\r\n\t\t// morph targets\r\n\r\n\t\tvar morphAttributes = geometry.morphAttributes;\r\n\r\n\t\tfor ( var name in morphAttributes ) {\r\n\r\n\t\t\tvar array = morphAttributes[ name ];\r\n\r\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tupdateAttribute( array[ i ], gl.ARRAY_BUFFER );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn geometry;\r\n\r\n\t}\r\n\r\n\tfunction updateAttribute( attribute, bufferType ) {\r\n\r\n\t\tvar data = ( attribute instanceof THREE.InterleavedBufferAttribute ) ? attribute.data : attribute;\r\n\r\n\t\tvar attributeProperties = properties.get( data );\r\n\r\n\t\tif ( attributeProperties.__webglBuffer === undefined ) {\r\n\r\n\t\t\tcreateBuffer( attributeProperties, data, bufferType );\r\n\r\n\t\t} else if ( attributeProperties.version !== data.version ) {\r\n\r\n\t\t\tupdateBuffer( attributeProperties, data, bufferType );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction createBuffer( attributeProperties, data, bufferType ) {\r\n\r\n\t\tattributeProperties.__webglBuffer = gl.createBuffer();\r\n\t\tgl.bindBuffer( bufferType, attributeProperties.__webglBuffer );\r\n\r\n\t\tvar usage = data.dynamic ? gl.DYNAMIC_DRAW : gl.STATIC_DRAW;\r\n\r\n\t\tgl.bufferData( bufferType, data.array, usage );\r\n\r\n\t\tattributeProperties.version = data.version;\r\n\r\n\t}\r\n\r\n\tfunction updateBuffer( attributeProperties, data, bufferType ) {\r\n\r\n\t\tgl.bindBuffer( bufferType, attributeProperties.__webglBuffer );\r\n\r\n\t\tif ( data.dynamic === false || data.updateRange.count === - 1 ) {\r\n\r\n\t\t\t// Not using update ranges\r\n\r\n\t\t\tgl.bufferSubData( bufferType, 0, data.array );\r\n\r\n\t\t} else if ( data.updateRange.count === 0 ) {\r\n\r\n\t\t\tconsole.error( 'THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.' );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tgl.bufferSubData( bufferType, data.updateRange.offset * data.array.BYTES_PER_ELEMENT,\r\n\t\t\t\t\t\t\t  data.array.subarray( data.updateRange.offset, data.updateRange.offset + data.updateRange.count ) );\r\n\r\n\t\t\tdata.updateRange.count = 0; // reset range\r\n\r\n\t\t}\r\n\r\n\t\tattributeProperties.version = data.version;\r\n\r\n\t}\r\n\r\n\tfunction getAttributeBuffer( attribute ) {\r\n\r\n\t\tif ( attribute instanceof THREE.InterleavedBufferAttribute ) {\r\n\r\n\t\t\treturn properties.get( attribute.data ).__webglBuffer;\r\n\r\n\t\t}\r\n\r\n\t\treturn properties.get( attribute ).__webglBuffer;\r\n\r\n\t}\r\n\r\n\tfunction getWireframeAttribute( geometry ) {\r\n\r\n\t\tvar property = properties.get( geometry );\r\n\r\n\t\tif ( property.wireframe !== undefined ) {\r\n\r\n\t\t\treturn property.wireframe;\r\n\r\n\t\t}\r\n\r\n\t\tvar indices = [];\r\n\r\n\t\tvar index = geometry.index;\r\n\t\tvar attributes = geometry.attributes;\r\n\t\tvar position = attributes.position;\r\n\r\n\t\t// console.time( 'wireframe' );\r\n\r\n\t\tif ( index !== null ) {\r\n\r\n\t\t\tvar edges = {};\r\n\t\t\tvar array = index.array;\r\n\r\n\t\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\r\n\r\n\t\t\t\tvar a = array[ i + 0 ];\r\n\t\t\t\tvar b = array[ i + 1 ];\r\n\t\t\t\tvar c = array[ i + 2 ];\r\n\r\n\t\t\t\tif ( checkEdge( edges, a, b ) ) indices.push( a, b );\r\n\t\t\t\tif ( checkEdge( edges, b, c ) ) indices.push( b, c );\r\n\t\t\t\tif ( checkEdge( edges, c, a ) ) indices.push( c, a );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar array = attributes.position.array;\r\n\r\n\t\t\tfor ( var i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\r\n\r\n\t\t\t\tvar a = i + 0;\r\n\t\t\t\tvar b = i + 1;\r\n\t\t\t\tvar c = i + 2;\r\n\r\n\t\t\t\tindices.push( a, b, b, c, c, a );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// console.timeEnd( 'wireframe' );\r\n\r\n\t\tvar TypeArray = position.count > 65535 ? Uint32Array : Uint16Array;\r\n\t\tvar attribute = new THREE.BufferAttribute( new TypeArray( indices ), 1 );\r\n\r\n\t\tupdateAttribute( attribute, gl.ELEMENT_ARRAY_BUFFER );\r\n\r\n\t\tproperty.wireframe = attribute;\r\n\r\n\t\treturn attribute;\r\n\r\n\t}\r\n\r\n\tfunction checkEdge( edges, a, b ) {\r\n\r\n\t\tif ( a > b ) {\r\n\r\n\t\t\tvar tmp = a;\r\n\t\t\ta = b;\r\n\t\t\tb = tmp;\r\n\r\n\t\t}\r\n\r\n\t\tvar list = edges[ a ];\r\n\r\n\t\tif ( list === undefined ) {\r\n\r\n\t\t\tedges[ a ] = [ b ];\r\n\t\t\treturn true;\r\n\r\n\t\t} else if ( list.indexOf( b ) === -1 ) {\r\n\r\n\t\t\tlist.push( b );\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\r\n\t}\r\n\r\n\tthis.getAttributeBuffer = getAttributeBuffer;\r\n\tthis.getWireframeAttribute = getWireframeAttribute;\r\n\r\n\tthis.update = update;\r\n\r\n};\r\n\r\n// File:src/renderers/webgl/WebGLProgram.js\r\n\r\nTHREE.WebGLProgram = ( function () {\r\n\r\n\tvar programIdCount = 0;\r\n\r\n\tfunction getEncodingComponents( encoding ) {\r\n\r\n\t\tswitch ( encoding ) {\r\n\r\n\t\t\tcase THREE.LinearEncoding:\r\n\t\t\t\treturn [ 'Linear','( value )' ];\r\n\t\t\tcase THREE.sRGBEncoding:\r\n\t\t\t\treturn [ 'sRGB','( value )' ];\r\n\t\t\tcase THREE.RGBEEncoding:\r\n\t\t\t\treturn [ 'RGBE','( value )' ];\r\n\t\t\tcase THREE.RGBM7Encoding:\r\n\t\t\t\treturn [ 'RGBM','( value, 7.0 )' ];\r\n\t\t\tcase THREE.RGBM16Encoding:\r\n\t\t\t\treturn [ 'RGBM','( value, 16.0 )' ];\r\n\t\t\tcase THREE.RGBDEncoding:\r\n\t\t\t\treturn [ 'RGBD','( value, 256.0 )' ];\r\n\t\t\tcase THREE.GammaEncoding:\r\n\t\t\t\treturn [ 'Gamma','( value, float( GAMMA_FACTOR ) )' ];\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error( 'unsupported encoding: ' + encoding );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction getTexelDecodingFunction( functionName, encoding ) {\r\n\r\n\t\tvar components = getEncodingComponents( encoding );\r\n\t\treturn \"vec4 \" + functionName + \"( vec4 value ) { return \" + components[ 0 ] + \"ToLinear\" + components[ 1 ] + \"; }\";\r\n\r\n\t}\r\n\r\n\tfunction getTexelEncodingFunction( functionName, encoding ) {\r\n\r\n\t\tvar components = getEncodingComponents( encoding );\r\n\t\treturn \"vec4 \" + functionName + \"( vec4 value ) { return LinearTo\" + components[ 0 ] + components[ 1 ] + \"; }\";\r\n\r\n\t}\r\n\r\n\tfunction getToneMappingFunction( functionName, toneMapping ) {\r\n\r\n\t\tvar toneMappingName;\r\n\r\n\t\tswitch ( toneMapping ) {\r\n\r\n\t\t\tcase THREE.LinearToneMapping:\r\n\t\t\t\ttoneMappingName = \"Linear\";\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase THREE.ReinhardToneMapping:\r\n\t\t\t\ttoneMappingName = \"Reinhard\";\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase THREE.Uncharted2ToneMapping:\r\n\t\t\t\ttoneMappingName = \"Uncharted2\";\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase THREE.CineonToneMapping:\r\n\t\t\t\ttoneMappingName = \"OptimizedCineon\";\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error( 'unsupported toneMapping: ' + toneMapping );\r\n\r\n\t\t}\r\n\r\n\t\treturn \"vec3 \" + functionName + \"( vec3 color ) { return \" + toneMappingName + \"ToneMapping( color ); }\";\r\n\r\n\t}\r\n\r\n\tfunction generateExtensions( extensions, parameters, rendererExtensions ) {\r\n\r\n\t\textensions = extensions || {};\r\n\r\n\t\tvar chunks = [\r\n\t\t\t( extensions.derivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.normalMap || parameters.flatShading ) ? '#extension GL_OES_standard_derivatives : enable' : '',\r\n\t\t\t( extensions.fragDepth || parameters.logarithmicDepthBuffer ) && rendererExtensions.get( 'EXT_frag_depth' ) ? '#extension GL_EXT_frag_depth : enable' : '',\r\n\t\t\t( extensions.drawBuffers ) && rendererExtensions.get( 'WEBGL_draw_buffers' ) ? '#extension GL_EXT_draw_buffers : require' : '',\r\n\t\t\t( extensions.shaderTextureLOD || parameters.envMap ) && rendererExtensions.get( 'EXT_shader_texture_lod' ) ? '#extension GL_EXT_shader_texture_lod : enable' : '',\r\n\t\t];\r\n\r\n\t\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\r\n\r\n\t}\r\n\r\n\tfunction generateDefines( defines ) {\r\n\r\n\t\tvar chunks = [];\r\n\r\n\t\tfor ( var name in defines ) {\r\n\r\n\t\t\tvar value = defines[ name ];\r\n\r\n\t\t\tif ( value === false ) continue;\r\n\r\n\t\t\tchunks.push( '#define ' + name + ' ' + value );\r\n\r\n\t\t}\r\n\r\n\t\treturn chunks.join( '\\n' );\r\n\r\n\t}\r\n\r\n\tfunction fetchAttributeLocations( gl, program, identifiers ) {\r\n\r\n\t\tvar attributes = {};\r\n\r\n\t\tvar n = gl.getProgramParameter( program, gl.ACTIVE_ATTRIBUTES );\r\n\r\n\t\tfor ( var i = 0; i < n; i ++ ) {\r\n\r\n\t\t\tvar info = gl.getActiveAttrib( program, i );\r\n\t\t\tvar name = info.name;\r\n\r\n\t\t\t// console.log(\"THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:\", name, i );\r\n\r\n\t\t\tattributes[ name ] = gl.getAttribLocation( program, name );\r\n\r\n\t\t}\r\n\r\n\t\treturn attributes;\r\n\r\n\t}\r\n\r\n\tfunction filterEmptyLine( string ) {\r\n\r\n\t\treturn string !== '';\r\n\r\n\t}\r\n\r\n\tfunction replaceLightNums( string, parameters ) {\r\n\r\n\t\treturn string\r\n\t\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\r\n\t\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\r\n\t\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\r\n\t\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights );\r\n\r\n\t}\r\n\r\n\tfunction parseIncludes( string ) {\r\n\r\n\t\tvar pattern = /#include +<([\\w\\d.]+)>/g;\r\n\r\n\t\tfunction replace( match, include ) {\r\n\r\n\t\t\tvar replace = THREE.ShaderChunk[ include ];\r\n\r\n\t\t\tif ( replace === undefined ) {\r\n\r\n\t\t\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn parseIncludes( replace );\r\n\r\n\t\t}\r\n\r\n\t\treturn string.replace( pattern, replace );\r\n\r\n\t}\r\n\r\n\tfunction unrollLoops( string ) {\r\n\r\n\t\tvar pattern = /for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\r\n\r\n\t\tfunction replace( match, start, end, snippet ) {\r\n\r\n\t\t\tvar unroll = '';\r\n\r\n\t\t\tfor ( var i = parseInt( start ); i < parseInt( end ); i ++ ) {\r\n\r\n\t\t\t\tunroll += snippet.replace( /\\[ i \\]/g, '[ ' + i + ' ]' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn unroll;\r\n\r\n\t\t}\r\n\r\n\t\treturn string.replace( pattern, replace );\r\n\r\n\t}\r\n\r\n\treturn function WebGLProgram( renderer, code, material, parameters ) {\r\n\r\n\t\tvar gl = renderer.context;\r\n\r\n\t\tvar extensions = material.extensions;\r\n\t\tvar defines = material.defines;\r\n\r\n\t\tvar vertexShader = material.__webglShader.vertexShader;\r\n\t\tvar fragmentShader = material.__webglShader.fragmentShader;\r\n\r\n\t\tvar shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\r\n\r\n\t\tif ( parameters.shadowMapType === THREE.PCFShadowMap ) {\r\n\r\n\t\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\r\n\r\n\t\t} else if ( parameters.shadowMapType === THREE.PCFSoftShadowMap ) {\r\n\r\n\t\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\r\n\r\n\t\t}\r\n\r\n\t\tvar envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\r\n\t\tvar envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\r\n\t\tvar envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\r\n\r\n\t\tif ( parameters.envMap ) {\r\n\r\n\t\t\tswitch ( material.envMap.mapping ) {\r\n\r\n\t\t\t\tcase THREE.CubeReflectionMapping:\r\n\t\t\t\tcase THREE.CubeRefractionMapping:\r\n\t\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase THREE.CubeUVReflectionMapping:\r\n\t\t\t\tcase THREE.CubeUVRefractionMapping:\r\n\t\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase THREE.EquirectangularReflectionMapping:\r\n\t\t\t\tcase THREE.EquirectangularRefractionMapping:\r\n\t\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_EQUIREC';\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase THREE.SphericalReflectionMapping:\r\n\t\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_SPHERE';\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tswitch ( material.envMap.mapping ) {\r\n\r\n\t\t\t\tcase THREE.CubeRefractionMapping:\r\n\t\t\t\tcase THREE.EquirectangularRefractionMapping:\r\n\t\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tswitch ( material.combine ) {\r\n\r\n\t\t\t\tcase THREE.MultiplyOperation:\r\n\t\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase THREE.MixOperation:\r\n\t\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase THREE.AddOperation:\r\n\t\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\r\n\r\n\t\t// console.log( 'building new program ' );\r\n\r\n\t\t//\r\n\r\n\t\tvar customExtensions = generateExtensions( extensions, parameters, renderer.extensions );\r\n\r\n\t\tvar customDefines = generateDefines( defines );\r\n\r\n\t\t//\r\n\r\n\t\tvar program = gl.createProgram();\r\n\r\n\t\tvar prefixVertex, prefixFragment;\r\n\r\n\t\tif ( material instanceof THREE.RawShaderMaterial ) {\r\n\r\n\t\t\tprefixVertex = '';\r\n\t\t\tprefixFragment = '';\r\n\r\n\t\t} else {\r\n\r\n\t\t\tprefixVertex = [\r\n\r\n\t\t\t\t'precision ' + parameters.precision + ' float;',\r\n\t\t\t\t'precision ' + parameters.precision + ' int;',\r\n\r\n\t\t\t\t'#define SHADER_NAME ' + material.__webglShader.name,\r\n\r\n\t\t\t\tcustomDefines,\r\n\r\n\t\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\r\n\r\n\t\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\r\n\r\n\t\t\t\t'#define MAX_BONES ' + parameters.maxBones,\r\n\r\n\t\t\t\tparameters.map ? '#define USE_MAP' : '',\r\n\t\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\r\n\t\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\r\n\t\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\r\n\t\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\r\n\t\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\r\n\t\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\r\n\t\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\r\n\t\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\r\n\t\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\r\n\t\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\r\n\t\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\r\n\t\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\r\n\t\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\r\n\r\n\t\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\r\n\r\n\t\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\r\n\t\t\t\tparameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\r\n\r\n\t\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\r\n\t\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\r\n\t\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\r\n\t\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\r\n\r\n\t\t\t\t'#define NUM_CLIPPING_PLANES ' + parameters.numClippingPlanes,\r\n\r\n\t\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\r\n\t\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\r\n\r\n\t\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\r\n\r\n\t\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\r\n\t\t\t\tparameters.logarithmicDepthBuffer && renderer.extensions.get( 'EXT_frag_depth' ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\r\n\r\n\t\t\t\t'uniform mat4 modelMatrix;',\r\n\t\t\t\t'uniform mat4 modelViewMatrix;',\r\n\t\t\t\t'uniform mat4 projectionMatrix;',\r\n\t\t\t\t'uniform mat4 viewMatrix;',\r\n\t\t\t\t'uniform mat3 normalMatrix;',\r\n\t\t\t\t'uniform vec3 cameraPosition;',\r\n\r\n\t\t\t\t'attribute vec3 position;',\r\n\t\t\t\t'attribute vec3 normal;',\r\n\t\t\t\t'attribute vec2 uv;',\r\n\r\n\t\t\t\t'#ifdef USE_COLOR',\r\n\r\n\t\t\t\t'\tattribute vec3 color;',\r\n\r\n\t\t\t\t'#endif',\r\n\r\n\t\t\t\t'#ifdef USE_MORPHTARGETS',\r\n\r\n\t\t\t\t'\tattribute vec3 morphTarget0;',\r\n\t\t\t\t'\tattribute vec3 morphTarget1;',\r\n\t\t\t\t'\tattribute vec3 morphTarget2;',\r\n\t\t\t\t'\tattribute vec3 morphTarget3;',\r\n\r\n\t\t\t\t'\t#ifdef USE_MORPHNORMALS',\r\n\r\n\t\t\t\t'\t\tattribute vec3 morphNormal0;',\r\n\t\t\t\t'\t\tattribute vec3 morphNormal1;',\r\n\t\t\t\t'\t\tattribute vec3 morphNormal2;',\r\n\t\t\t\t'\t\tattribute vec3 morphNormal3;',\r\n\r\n\t\t\t\t'\t#else',\r\n\r\n\t\t\t\t'\t\tattribute vec3 morphTarget4;',\r\n\t\t\t\t'\t\tattribute vec3 morphTarget5;',\r\n\t\t\t\t'\t\tattribute vec3 morphTarget6;',\r\n\t\t\t\t'\t\tattribute vec3 morphTarget7;',\r\n\r\n\t\t\t\t'\t#endif',\r\n\r\n\t\t\t\t'#endif',\r\n\r\n\t\t\t\t'#ifdef USE_SKINNING',\r\n\r\n\t\t\t\t'\tattribute vec4 skinIndex;',\r\n\t\t\t\t'\tattribute vec4 skinWeight;',\r\n\r\n\t\t\t\t'#endif',\r\n\r\n\t\t\t\t'\\n'\r\n\r\n\t\t\t].filter( filterEmptyLine ).join( '\\n' );\r\n\r\n\t\t\tprefixFragment = [\r\n\r\n\t\t\t\tcustomExtensions,\r\n\r\n\t\t\t\t'precision ' + parameters.precision + ' float;',\r\n\t\t\t\t'precision ' + parameters.precision + ' int;',\r\n\r\n\t\t\t\t'#define SHADER_NAME ' + material.__webglShader.name,\r\n\r\n\t\t\t\tcustomDefines,\r\n\r\n\t\t\t\tparameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest : '',\r\n\r\n\t\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\r\n\r\n\t\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\r\n\t\t\t\t( parameters.useFog && parameters.fogExp ) ? '#define FOG_EXP2' : '',\r\n\r\n\t\t\t\tparameters.map ? '#define USE_MAP' : '',\r\n\t\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\r\n\t\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\r\n\t\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\r\n\t\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\r\n\t\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\r\n\t\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\r\n\t\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\r\n\t\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\r\n\t\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\r\n\t\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\r\n\t\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\r\n\t\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\r\n\t\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\r\n\t\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\r\n\r\n\t\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\r\n\r\n\t\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\r\n\t\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\r\n\r\n\t\t\t\t'#define NUM_CLIPPING_PLANES ' + parameters.numClippingPlanes,\r\n\r\n\t\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\r\n\t\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\r\n\r\n\t\t\t\tparameters.premultipliedAlpha ? \"#define PREMULTIPLIED_ALPHA\" : '',\r\n\r\n\t\t\t\tparameters.physicallyCorrectLights ? \"#define PHYSICALLY_CORRECT_LIGHTS\" : '',\r\n\r\n\t\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\r\n\t\t\t\tparameters.logarithmicDepthBuffer && renderer.extensions.get( 'EXT_frag_depth' ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\r\n\r\n\t\t\t\tparameters.envMap && renderer.extensions.get( 'EXT_shader_texture_lod' ) ? '#define TEXTURE_LOD_EXT' : '',\r\n\r\n\t\t\t\t'uniform mat4 viewMatrix;',\r\n\t\t\t\t'uniform vec3 cameraPosition;',\r\n\r\n\t\t\t\t( parameters.toneMapping !== THREE.NoToneMapping ) ? \"#define TONE_MAPPING\" : '',\r\n\t\t\t\t( parameters.toneMapping !== THREE.NoToneMapping ) ? THREE.ShaderChunk[ 'tonemapping_pars_fragment' ] : '',  // this code is required here because it is used by the toneMapping() function defined below\r\n\t\t\t\t( parameters.toneMapping !== THREE.NoToneMapping ) ? getToneMappingFunction( \"toneMapping\", parameters.toneMapping ) : '',\r\n\r\n\t\t\t\t( parameters.outputEncoding || parameters.mapEncoding || parameters.envMapEncoding || parameters.emissiveMapEncoding ) ? THREE.ShaderChunk[ 'encodings_pars_fragment' ] : '', // this code is required here because it is used by the various encoding/decoding function defined below\r\n\t\t\t\tparameters.mapEncoding ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\r\n\t\t\t\tparameters.envMapEncoding ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\r\n\t\t\t\tparameters.emissiveMapEncoding ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\r\n\t\t\t\tparameters.outputEncoding ? getTexelEncodingFunction( \"linearToOutputTexel\", parameters.outputEncoding ) : '',\r\n\r\n\t\t\t\tparameters.depthPacking ? \"#define DEPTH_PACKING \" + material.depthPacking : '',\r\n\r\n\t\t\t\t'\\n'\r\n\r\n\t\t\t].filter( filterEmptyLine ).join( '\\n' );\r\n\r\n\t\t}\r\n\r\n\t\tvertexShader = parseIncludes( vertexShader, parameters );\r\n\t\tvertexShader = replaceLightNums( vertexShader, parameters );\r\n\r\n\t\tfragmentShader = parseIncludes( fragmentShader, parameters );\r\n\t\tfragmentShader = replaceLightNums( fragmentShader, parameters );\r\n\r\n\t\tif ( material instanceof THREE.ShaderMaterial === false ) {\r\n\r\n\t\t\tvertexShader = unrollLoops( vertexShader );\r\n\t\t\tfragmentShader = unrollLoops( fragmentShader );\r\n\r\n\t\t}\r\n\r\n\t\tvar vertexGlsl = prefixVertex + vertexShader;\r\n\t\tvar fragmentGlsl = prefixFragment + fragmentShader;\r\n\r\n\t\t// console.log( '*VERTEX*', vertexGlsl );\r\n\t\t// console.log( '*FRAGMENT*', fragmentGlsl );\r\n\r\n\t\tvar glVertexShader = THREE.WebGLShader( gl, gl.VERTEX_SHADER, vertexGlsl );\r\n\t\tvar glFragmentShader = THREE.WebGLShader( gl, gl.FRAGMENT_SHADER, fragmentGlsl );\r\n\r\n\t\tgl.attachShader( program, glVertexShader );\r\n\t\tgl.attachShader( program, glFragmentShader );\r\n\r\n\t\t// Force a particular attribute to index 0.\r\n\r\n\t\tif ( material.index0AttributeName !== undefined ) {\r\n\r\n\t\t\tgl.bindAttribLocation( program, 0, material.index0AttributeName );\r\n\r\n\t\t} else if ( parameters.morphTargets === true ) {\r\n\r\n\t\t\t// programs with morphTargets displace position out of attribute 0\r\n\t\t\tgl.bindAttribLocation( program, 0, 'position' );\r\n\r\n\t\t}\r\n\r\n\t\tgl.linkProgram( program );\r\n\r\n\t\tvar programLog = gl.getProgramInfoLog( program );\r\n\t\tvar vertexLog = gl.getShaderInfoLog( glVertexShader );\r\n\t\tvar fragmentLog = gl.getShaderInfoLog( glFragmentShader );\r\n\r\n\t\tvar runnable = true;\r\n\t\tvar haveDiagnostics = true;\r\n\r\n\t\t// console.log( '**VERTEX**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glVertexShader ) );\r\n\t\t// console.log( '**FRAGMENT**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glFragmentShader ) );\r\n\r\n\t\tif ( gl.getProgramParameter( program, gl.LINK_STATUS ) === false ) {\r\n\r\n\t\t\trunnable = false;\r\n\r\n\t\t\tconsole.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), 'gl.VALIDATE_STATUS', gl.getProgramParameter( program, gl.VALIDATE_STATUS ), 'gl.getProgramInfoLog', programLog, vertexLog, fragmentLog );\r\n\r\n\t\t} else if ( programLog !== '' ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\r\n\r\n\t\t} else if ( vertexLog === '' || fragmentLog === '' ) {\r\n\r\n\t\t\thaveDiagnostics = false;\r\n\r\n\t\t}\r\n\r\n\t\tif ( haveDiagnostics ) {\r\n\r\n\t\t\tthis.diagnostics = {\r\n\r\n\t\t\t\trunnable: runnable,\r\n\t\t\t\tmaterial: material,\r\n\r\n\t\t\t\tprogramLog: programLog,\r\n\r\n\t\t\t\tvertexShader: {\r\n\r\n\t\t\t\t\tlog: vertexLog,\r\n\t\t\t\t\tprefix: prefixVertex\r\n\r\n\t\t\t\t},\r\n\r\n\t\t\t\tfragmentShader: {\r\n\r\n\t\t\t\t\tlog: fragmentLog,\r\n\t\t\t\t\tprefix: prefixFragment\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\t// clean up\r\n\r\n\t\tgl.deleteShader( glVertexShader );\r\n\t\tgl.deleteShader( glFragmentShader );\r\n\r\n\t\t// set up caching for uniform locations\r\n\r\n\t\tvar cachedUniforms;\r\n\r\n\t\tthis.getUniforms = function() {\r\n\r\n\t\t\tif ( cachedUniforms === undefined ) {\r\n\r\n\t\t\t\tcachedUniforms =\r\n\t\t\t\t\t\tnew THREE.WebGLUniforms( gl, program, renderer );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn cachedUniforms;\r\n\r\n\t\t};\r\n\r\n\t\t// set up caching for attribute locations\r\n\r\n\t\tvar cachedAttributes;\r\n\r\n\t\tthis.getAttributes = function() {\r\n\r\n\t\t\tif ( cachedAttributes === undefined ) {\r\n\r\n\t\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn cachedAttributes;\r\n\r\n\t\t};\r\n\r\n\t\t// free resource\r\n\r\n\t\tthis.destroy = function() {\r\n\r\n\t\t\tgl.deleteProgram( program );\r\n\t\t\tthis.program = undefined;\r\n\r\n\t\t};\r\n\r\n\t\t// DEPRECATED\r\n\r\n\t\tObject.defineProperties( this, {\r\n\r\n\t\t\tuniforms: {\r\n\t\t\t\tget: function() {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.WebGLProgram: .uniforms is now .getUniforms().' );\r\n\t\t\t\t\treturn this.getUniforms();\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tattributes: {\r\n\t\t\t\tget: function() {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.WebGLProgram: .attributes is now .getAttributes().' );\r\n\t\t\t\t\treturn this.getAttributes();\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\r\n\r\n\t\t//\r\n\r\n\t\tthis.id = programIdCount ++;\r\n\t\tthis.code = code;\r\n\t\tthis.usedTimes = 1;\r\n\t\tthis.program = program;\r\n\t\tthis.vertexShader = glVertexShader;\r\n\t\tthis.fragmentShader = glFragmentShader;\r\n\r\n\t\treturn this;\r\n\r\n\t};\r\n\r\n} )();\r\n\r\n// File:src/renderers/webgl/WebGLPrograms.js\r\n\r\nTHREE.WebGLPrograms = function ( renderer, capabilities ) {\r\n\r\n\tvar programs = [];\r\n\r\n\tvar shaderIDs = {\r\n\t\tMeshDepthMaterial: 'depth',\r\n\t\tMeshNormalMaterial: 'normal',\r\n\t\tMeshBasicMaterial: 'basic',\r\n\t\tMeshLambertMaterial: 'lambert',\r\n\t\tMeshPhongMaterial: 'phong',\r\n\t\tMeshStandardMaterial: 'physical',\r\n\t\tMeshPhysicalMaterial: 'physical',\r\n\t\tLineBasicMaterial: 'basic',\r\n\t\tLineDashedMaterial: 'dashed',\r\n\t\tPointsMaterial: 'points'\r\n\t};\r\n\r\n\tvar parameterNames = [\r\n\t\t\"precision\", \"supportsVertexTextures\", \"map\", \"mapEncoding\", \"envMap\", \"envMapMode\", \"envMapEncoding\",\r\n\t\t\"lightMap\", \"aoMap\", \"emissiveMap\", \"emissiveMapEncoding\", \"bumpMap\", \"normalMap\", \"displacementMap\", \"specularMap\",\r\n\t\t\"roughnessMap\", \"metalnessMap\",\r\n\t\t\"alphaMap\", \"combine\", \"vertexColors\", \"fog\", \"useFog\", \"fogExp\",\r\n\t\t\"flatShading\", \"sizeAttenuation\", \"logarithmicDepthBuffer\", \"skinning\",\r\n\t\t\"maxBones\", \"useVertexTexture\", \"morphTargets\", \"morphNormals\",\r\n\t\t\"maxMorphTargets\", \"maxMorphNormals\", \"premultipliedAlpha\",\r\n\t\t\"numDirLights\", \"numPointLights\", \"numSpotLights\", \"numHemiLights\",\r\n\t\t\"shadowMapEnabled\", \"shadowMapType\", \"toneMapping\", 'physicallyCorrectLights',\r\n\t\t\"alphaTest\", \"doubleSided\", \"flipSided\", \"numClippingPlanes\", \"depthPacking\"\r\n\t];\r\n\r\n\r\n\tfunction allocateBones ( object ) {\r\n\r\n\t\tif ( capabilities.floatVertexTextures && object && object.skeleton && object.skeleton.useVertexTexture ) {\r\n\r\n\t\t\treturn 1024;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// default for when object is not specified\r\n\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\r\n\t\t\t//\r\n\t\t\t//  - leave some extra space for other uniforms\r\n\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\r\n\t\t\t//    (up to 54 should be safe)\r\n\r\n\t\t\tvar nVertexUniforms = capabilities.maxVertexUniforms;\r\n\t\t\tvar nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\r\n\r\n\t\t\tvar maxBones = nVertexMatrices;\r\n\r\n\t\t\tif ( object !== undefined && object instanceof THREE.SkinnedMesh ) {\r\n\r\n\t\t\t\tmaxBones = Math.min( object.skeleton.bones.length, maxBones );\r\n\r\n\t\t\t\tif ( maxBones < object.skeleton.bones.length ) {\r\n\r\n\t\t\t\t\tconsole.warn( 'WebGLRenderer: too many bones - ' + object.skeleton.bones.length + ', this GPU supports just ' + maxBones + ' (try OpenGL instead of ANGLE)' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn maxBones;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction getTextureEncodingFromMap( map, gammaOverrideLinear ) {\r\n\r\n\t\tvar encoding;\r\n\r\n\t\tif ( ! map ) {\r\n\r\n\t\t\tencoding = THREE.LinearEncoding;\r\n\r\n\t\t} else if ( map instanceof THREE.Texture ) {\r\n\r\n\t\t\tencoding = map.encoding;\r\n\r\n\t\t} else if ( map instanceof THREE.WebGLRenderTarget ) {\r\n\r\n\t\t\tconsole.warn( \"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\" );\r\n\t\t\tencoding = map.texture.encoding;\r\n\r\n\t\t}\r\n\r\n\t\t// add backwards compatibility for WebGLRenderer.gammaInput/gammaOutput parameter, should probably be removed at some point.\r\n\t\tif ( encoding === THREE.LinearEncoding && gammaOverrideLinear ) {\r\n\r\n\t\t\tencoding = THREE.GammaEncoding;\r\n\r\n\t\t}\r\n\r\n\t\treturn encoding;\r\n\r\n\t}\r\n\r\n\tthis.getParameters = function ( material, lights, fog, nClipPlanes, object ) {\r\n\r\n\t\tvar shaderID = shaderIDs[ material.type ];\r\n\r\n\t\t// heuristics to create shader parameters according to lights in the scene\r\n\t\t// (not to blow over maxLights budget)\r\n\r\n\t\tvar maxBones = allocateBones( object );\r\n\t\tvar precision = renderer.getPrecision();\r\n\r\n\t\tif ( material.precision !== null ) {\r\n\r\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\r\n\r\n\t\t\tif ( precision !== material.precision ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar currentRenderTarget = renderer.getCurrentRenderTarget();\r\n\r\n\t\tvar parameters = {\r\n\r\n\t\t\tshaderID: shaderID,\r\n\r\n\t\t\tprecision: precision,\r\n\t\t\tsupportsVertexTextures: capabilities.vertexTextures,\r\n\t\t\toutputEncoding: getTextureEncodingFromMap( ( ! currentRenderTarget ) ? null : currentRenderTarget.texture, renderer.gammaOutput ),\r\n\t\t\tmap: !! material.map,\r\n\t\t\tmapEncoding: getTextureEncodingFromMap( material.map, renderer.gammaInput ),\r\n\t\t\tenvMap: !! material.envMap,\r\n\t\t\tenvMapMode: material.envMap && material.envMap.mapping,\r\n\t\t\tenvMapEncoding: getTextureEncodingFromMap( material.envMap, renderer.gammaInput ),\r\n\t\t\tenvMapCubeUV: ( !! material.envMap ) && ( ( material.envMap.mapping === THREE.CubeUVReflectionMapping ) || ( material.envMap.mapping === THREE.CubeUVRefractionMapping ) ),\r\n\t\t\tlightMap: !! material.lightMap,\r\n\t\t\taoMap: !! material.aoMap,\r\n\t\t\temissiveMap: !! material.emissiveMap,\r\n\t\t\temissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap, renderer.gammaInput ),\r\n\t\t\tbumpMap: !! material.bumpMap,\r\n\t\t\tnormalMap: !! material.normalMap,\r\n\t\t\tdisplacementMap: !! material.displacementMap,\r\n\t\t\troughnessMap: !! material.roughnessMap,\r\n\t\t\tmetalnessMap: !! material.metalnessMap,\r\n\t\t\tspecularMap: !! material.specularMap,\r\n\t\t\talphaMap: !! material.alphaMap,\r\n\r\n\t\t\tcombine: material.combine,\r\n\r\n\t\t\tvertexColors: material.vertexColors,\r\n\r\n\t\t\tfog: fog,\r\n\t\t\tuseFog: material.fog,\r\n\t\t\tfogExp: fog instanceof THREE.FogExp2,\r\n\r\n\t\t\tflatShading: material.shading === THREE.FlatShading,\r\n\r\n\t\t\tsizeAttenuation: material.sizeAttenuation,\r\n\t\t\tlogarithmicDepthBuffer: capabilities.logarithmicDepthBuffer,\r\n\r\n\t\t\tskinning: material.skinning,\r\n\t\t\tmaxBones: maxBones,\r\n\t\t\tuseVertexTexture: capabilities.floatVertexTextures && object && object.skeleton && object.skeleton.useVertexTexture,\r\n\r\n\t\t\tmorphTargets: material.morphTargets,\r\n\t\t\tmorphNormals: material.morphNormals,\r\n\t\t\tmaxMorphTargets: renderer.maxMorphTargets,\r\n\t\t\tmaxMorphNormals: renderer.maxMorphNormals,\r\n\r\n\t\t\tnumDirLights: lights.directional.length,\r\n\t\t\tnumPointLights: lights.point.length,\r\n\t\t\tnumSpotLights: lights.spot.length,\r\n\t\t\tnumHemiLights: lights.hemi.length,\r\n\r\n\t\t\tnumClippingPlanes: nClipPlanes,\r\n\r\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && object.receiveShadow && lights.shadows.length > 0,\r\n\t\t\tshadowMapType: renderer.shadowMap.type,\r\n\r\n\t\t\ttoneMapping: renderer.toneMapping,\r\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\r\n\r\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\r\n\r\n\t\t\talphaTest: material.alphaTest,\r\n\t\t\tdoubleSided: material.side === THREE.DoubleSide,\r\n\t\t\tflipSided: material.side === THREE.BackSide,\r\n\r\n\t\t\tdepthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false\r\n\r\n\t\t};\r\n\r\n\t\treturn parameters;\r\n\r\n\t};\r\n\r\n\tthis.getProgramCode = function ( material, parameters ) {\r\n\r\n\t\tvar array = [];\r\n\r\n\t\tif ( parameters.shaderID ) {\r\n\r\n\t\t\tarray.push( parameters.shaderID );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tarray.push( material.fragmentShader );\r\n\t\t\tarray.push( material.vertexShader );\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.defines !== undefined ) {\r\n\r\n\t\t\tfor ( var name in material.defines ) {\r\n\r\n\t\t\t\tarray.push( name );\r\n\t\t\t\tarray.push( material.defines[ name ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0; i < parameterNames.length; i ++ ) {\r\n\r\n\t\t\tarray.push( parameters[ parameterNames[ i ] ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn array.join();\r\n\r\n\t};\r\n\r\n\tthis.acquireProgram = function ( material, parameters, code ) {\r\n\r\n\t\tvar program;\r\n\r\n\t\t// Check if code has been already compiled\r\n\t\tfor ( var p = 0, pl = programs.length; p < pl; p ++ ) {\r\n\r\n\t\t\tvar programInfo = programs[ p ];\r\n\r\n\t\t\tif ( programInfo.code === code ) {\r\n\r\n\t\t\t\tprogram = programInfo;\r\n\t\t\t\t++ program.usedTimes;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( program === undefined ) {\r\n\r\n\t\t\tprogram = new THREE.WebGLProgram( renderer, code, material, parameters );\r\n\t\t\tprograms.push( program );\r\n\r\n\t\t}\r\n\r\n\t\treturn program;\r\n\r\n\t};\r\n\r\n\tthis.releaseProgram = function( program ) {\r\n\r\n\t\tif ( -- program.usedTimes === 0 ) {\r\n\r\n\t\t\t// Remove from unordered set\r\n\t\t\tvar i = programs.indexOf( program );\r\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\r\n\t\t\tprograms.pop();\r\n\r\n\t\t\t// Free WebGL resources\r\n\t\t\tprogram.destroy();\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t// Exposed for resource monitoring & error feedback via renderer.info:\r\n\tthis.programs = programs;\r\n\r\n};\r\n\r\n// File:src/renderers/webgl/WebGLProperties.js\r\n\r\n/**\r\n* @author fordacious / fordacious.github.io\r\n*/\r\n\r\nTHREE.WebGLProperties = function () {\r\n\r\n\tvar properties = {};\r\n\r\n\tthis.get = function ( object ) {\r\n\r\n\t\tvar uuid = object.uuid;\r\n\t\tvar map = properties[ uuid ];\r\n\r\n\t\tif ( map === undefined ) {\r\n\r\n\t\t\tmap = {};\r\n\t\t\tproperties[ uuid ] = map;\r\n\r\n\t\t}\r\n\r\n\t\treturn map;\r\n\r\n\t};\r\n\r\n\tthis.delete = function ( object ) {\r\n\r\n\t\tdelete properties[ object.uuid ];\r\n\r\n\t};\r\n\r\n\tthis.clear = function () {\r\n\r\n\t\tproperties = {};\r\n\r\n\t};\r\n\r\n};\r\n\r\n// File:src/renderers/webgl/WebGLShader.js\r\n\r\nTHREE.WebGLShader = ( function () {\r\n\r\n\tfunction addLineNumbers( string ) {\r\n\r\n\t\tvar lines = string.split( '\\n' );\r\n\r\n\t\tfor ( var i = 0; i < lines.length; i ++ ) {\r\n\r\n\t\t\tlines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\r\n\r\n\t\t}\r\n\r\n\t\treturn lines.join( '\\n' );\r\n\r\n\t}\r\n\r\n\treturn function WebGLShader( gl, type, string ) {\r\n\r\n\t\tvar shader = gl.createShader( type );\r\n\r\n\t\tgl.shaderSource( shader, string );\r\n\t\tgl.compileShader( shader );\r\n\r\n\t\tif ( gl.getShaderParameter( shader, gl.COMPILE_STATUS ) === false ) {\r\n\r\n\t\t\tconsole.error( 'THREE.WebGLShader: Shader couldn\\'t compile.' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( gl.getShaderInfoLog( shader ) !== '' ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.WebGLShader: gl.getShaderInfoLog()', type === gl.VERTEX_SHADER ? 'vertex' : 'fragment', gl.getShaderInfoLog( shader ), addLineNumbers( string ) );\r\n\r\n\t\t}\r\n\r\n\t\t// --enable-privileged-webgl-extension\r\n\t\t// console.log( type, gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\r\n\r\n\t\treturn shader;\r\n\r\n\t};\r\n\r\n} )();\r\n\r\n// File:src/renderers/webgl/WebGLShadowMap.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.WebGLShadowMap = function ( _renderer, _lights, _objects ) {\r\n\r\n\tvar _gl = _renderer.context,\r\n\t_state = _renderer.state,\r\n\t_frustum = new THREE.Frustum(),\r\n\t_projScreenMatrix = new THREE.Matrix4(),\r\n\r\n\t_lightShadows = _lights.shadows,\r\n\r\n\t_shadowMapSize = new THREE.Vector2(),\r\n\r\n\t_lookTarget = new THREE.Vector3(),\r\n\t_lightPositionWorld = new THREE.Vector3(),\r\n\r\n\t_renderList = [],\r\n\r\n\t_MorphingFlag = 1,\r\n\t_SkinningFlag = 2,\r\n\r\n\t_NumberOfMaterialVariants = ( _MorphingFlag | _SkinningFlag ) + 1,\r\n\r\n\t_depthMaterials = new Array( _NumberOfMaterialVariants ),\r\n\t_distanceMaterials = new Array( _NumberOfMaterialVariants ),\r\n\r\n\t_materialCache = {};\r\n\r\n\tvar cubeDirections = [\r\n\t\tnew THREE.Vector3( 1, 0, 0 ), new THREE.Vector3( - 1, 0, 0 ), new THREE.Vector3( 0, 0, 1 ),\r\n\t\tnew THREE.Vector3( 0, 0, - 1 ), new THREE.Vector3( 0, 1, 0 ), new THREE.Vector3( 0, - 1, 0 )\r\n\t];\r\n\r\n\tvar cubeUps = [\r\n\t\tnew THREE.Vector3( 0, 1, 0 ), new THREE.Vector3( 0, 1, 0 ), new THREE.Vector3( 0, 1, 0 ),\r\n\t\tnew THREE.Vector3( 0, 1, 0 ), new THREE.Vector3( 0, 0, 1 ),\tnew THREE.Vector3( 0, 0, - 1 )\r\n\t];\r\n\r\n\tvar cube2DViewPorts = [\r\n\t\tnew THREE.Vector4(), new THREE.Vector4(), new THREE.Vector4(),\r\n\t\tnew THREE.Vector4(), new THREE.Vector4(), new THREE.Vector4()\r\n\t];\r\n\r\n\t// init\r\n\r\n\tvar depthMaterialTemplate = new THREE.MeshDepthMaterial();\r\n\tdepthMaterialTemplate.depthPacking = THREE.RGBADepthPacking;\r\n\tdepthMaterialTemplate.clipping = true;\r\n\r\n\tvar distanceShader = THREE.ShaderLib[ \"distanceRGBA\" ];\r\n\tvar distanceUniforms = THREE.UniformsUtils.clone( distanceShader.uniforms );\r\n\r\n\tfor ( var i = 0; i !== _NumberOfMaterialVariants; ++ i ) {\r\n\r\n\t\tvar useMorphing = ( i & _MorphingFlag ) !== 0;\r\n\t\tvar useSkinning = ( i & _SkinningFlag ) !== 0;\r\n\r\n\t\tvar depthMaterial = depthMaterialTemplate.clone();\r\n\t\tdepthMaterial.morphTargets = useMorphing;\r\n\t\tdepthMaterial.skinning = useSkinning;\r\n\r\n\t\t_depthMaterials[ i ] = depthMaterial;\r\n\r\n\t\tvar distanceMaterial = new THREE.ShaderMaterial( {\r\n\t\t\tdefines: {\r\n\t\t\t\t'USE_SHADOWMAP': ''\r\n\t\t\t},\r\n\t\t\tuniforms: distanceUniforms,\r\n\t\t\tvertexShader: distanceShader.vertexShader,\r\n\t\t\tfragmentShader: distanceShader.fragmentShader,\r\n\t\t\tmorphTargets: useMorphing,\r\n\t\t\tskinning: useSkinning,\r\n\t\t\tclipping: true\r\n\t\t} );\r\n\r\n\t\t_distanceMaterials[ i ] = distanceMaterial;\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tvar scope = this;\r\n\r\n\tthis.enabled = false;\r\n\r\n\tthis.autoUpdate = true;\r\n\tthis.needsUpdate = false;\r\n\r\n\tthis.type = THREE.PCFShadowMap;\r\n\r\n\tthis.renderReverseSided = true;\r\n\tthis.renderSingleSided = true;\r\n\r\n\tthis.render = function ( scene, camera ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\r\n\r\n\t\tif ( _lightShadows.length === 0 ) return;\r\n\r\n\t\t// Set GL state for depth map.\r\n\t\t_state.clearColor( 1, 1, 1, 1 );\r\n\t\t_state.disable( _gl.BLEND );\r\n\t\t_state.setDepthTest( true );\r\n\t\t_state.setScissorTest( false );\r\n\r\n\t\t// render depth map\r\n\r\n\t\tvar faceCount, isPointLight;\r\n\r\n\t\tfor ( var i = 0, il = _lightShadows.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar light = _lightShadows[ i ];\r\n\t\t\tvar shadow = light.shadow;\r\n\r\n\t\t\tif ( shadow === undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar shadowCamera = shadow.camera;\r\n\r\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\r\n\r\n\t\t\tif ( light instanceof THREE.PointLight ) {\r\n\r\n\t\t\t\tfaceCount = 6;\r\n\t\t\t\tisPointLight = true;\r\n\r\n\t\t\t\tvar vpWidth = _shadowMapSize.x;\r\n\t\t\t\tvar vpHeight = _shadowMapSize.y;\r\n\r\n\t\t\t\t// These viewports map a cube-map onto a 2D texture with the\r\n\t\t\t\t// following orientation:\r\n\t\t\t\t//\r\n\t\t\t\t//  xzXZ\r\n\t\t\t\t//   y Y\r\n\t\t\t\t//\r\n\t\t\t\t// X - Positive x direction\r\n\t\t\t\t// x - Negative x direction\r\n\t\t\t\t// Y - Positive y direction\r\n\t\t\t\t// y - Negative y direction\r\n\t\t\t\t// Z - Positive z direction\r\n\t\t\t\t// z - Negative z direction\r\n\r\n\t\t\t\t// positive X\r\n\t\t\t\tcube2DViewPorts[ 0 ].set( vpWidth * 2, vpHeight, vpWidth, vpHeight );\r\n\t\t\t\t// negative X\r\n\t\t\t\tcube2DViewPorts[ 1 ].set( 0, vpHeight, vpWidth, vpHeight );\r\n\t\t\t\t// positive Z\r\n\t\t\t\tcube2DViewPorts[ 2 ].set( vpWidth * 3, vpHeight, vpWidth, vpHeight );\r\n\t\t\t\t// negative Z\r\n\t\t\t\tcube2DViewPorts[ 3 ].set( vpWidth, vpHeight, vpWidth, vpHeight );\r\n\t\t\t\t// positive Y\r\n\t\t\t\tcube2DViewPorts[ 4 ].set( vpWidth * 3, 0, vpWidth, vpHeight );\r\n\t\t\t\t// negative Y\r\n\t\t\t\tcube2DViewPorts[ 5 ].set( vpWidth, 0, vpWidth, vpHeight );\r\n\r\n\t\t\t\t_shadowMapSize.x *= 4.0;\r\n\t\t\t\t_shadowMapSize.y *= 2.0;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tfaceCount = 1;\r\n\t\t\t\tisPointLight = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( shadow.map === null ) {\r\n\r\n\t\t\t\tvar pars = { minFilter: THREE.NearestFilter, magFilter: THREE.NearestFilter, format: THREE.RGBAFormat };\r\n\r\n\t\t\t\tshadow.map = new THREE.WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\r\n\r\n\t\t\t\tshadowCamera.updateProjectionMatrix();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( shadow instanceof THREE.SpotLightShadow ) {\r\n\r\n\t\t\t\tshadow.update( light );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar shadowMap = shadow.map;\r\n\t\t\tvar shadowMatrix = shadow.matrix;\r\n\r\n\t\t\t_lightPositionWorld.setFromMatrixPosition( light.matrixWorld );\r\n\t\t\tshadowCamera.position.copy( _lightPositionWorld );\r\n\r\n\t\t\t_renderer.setRenderTarget( shadowMap );\r\n\t\t\t_renderer.clear();\r\n\r\n\t\t\t// render shadow map for each cube face (if omni-directional) or\r\n\t\t\t// run a single pass if not\r\n\r\n\t\t\tfor ( var face = 0; face < faceCount; face ++ ) {\r\n\r\n\t\t\t\tif ( isPointLight ) {\r\n\r\n\t\t\t\t\t_lookTarget.copy( shadowCamera.position );\r\n\t\t\t\t\t_lookTarget.add( cubeDirections[ face ] );\r\n\t\t\t\t\tshadowCamera.up.copy( cubeUps[ face ] );\r\n\t\t\t\t\tshadowCamera.lookAt( _lookTarget );\r\n\r\n\t\t\t\t\tvar vpDimensions = cube2DViewPorts[ face ];\r\n\t\t\t\t\t_state.viewport( vpDimensions );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t_lookTarget.setFromMatrixPosition( light.target.matrixWorld );\r\n\t\t\t\t\tshadowCamera.lookAt( _lookTarget );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tshadowCamera.updateMatrixWorld();\r\n\t\t\t\tshadowCamera.matrixWorldInverse.getInverse( shadowCamera.matrixWorld );\r\n\r\n\t\t\t\t// compute shadow matrix\r\n\r\n\t\t\t\tshadowMatrix.set(\r\n\t\t\t\t\t0.5, 0.0, 0.0, 0.5,\r\n\t\t\t\t\t0.0, 0.5, 0.0, 0.5,\r\n\t\t\t\t\t0.0, 0.0, 0.5, 0.5,\r\n\t\t\t\t\t0.0, 0.0, 0.0, 1.0\r\n\t\t\t\t);\r\n\r\n\t\t\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\r\n\t\t\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\r\n\r\n\t\t\t\t// update camera matrices and frustum\r\n\r\n\t\t\t\t_projScreenMatrix.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\r\n\t\t\t\t_frustum.setFromMatrix( _projScreenMatrix );\r\n\r\n\t\t\t\t// set object matrices & frustum culling\r\n\r\n\t\t\t\t_renderList.length = 0;\r\n\r\n\t\t\t\tprojectObject( scene, camera, shadowCamera );\r\n\r\n\t\t\t\t// render shadow map\r\n\t\t\t\t// render regular objects\r\n\r\n\t\t\t\tfor ( var j = 0, jl = _renderList.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\tvar object = _renderList[ j ];\r\n\t\t\t\t\tvar geometry = _objects.update( object );\r\n\t\t\t\t\tvar material = object.material;\r\n\r\n\t\t\t\t\tif ( material instanceof THREE.MultiMaterial ) {\r\n\r\n\t\t\t\t\t\tvar groups = geometry.groups;\r\n\t\t\t\t\t\tvar materials = material.materials;\r\n\r\n\t\t\t\t\t\tfor ( var k = 0, kl = groups.length; k < kl; k ++ ) {\r\n\r\n\t\t\t\t\t\t\tvar group = groups[ k ];\r\n\t\t\t\t\t\t\tvar groupMaterial = materials[ group.materialIndex ];\r\n\r\n\t\t\t\t\t\t\tif ( groupMaterial.visible === true ) {\r\n\r\n\t\t\t\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, groupMaterial, isPointLight, _lightPositionWorld );\r\n\t\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, material, isPointLight, _lightPositionWorld );\r\n\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Restore GL state.\r\n\t\tvar clearColor = _renderer.getClearColor(),\r\n\t\tclearAlpha = _renderer.getClearAlpha();\r\n\t\t_renderer.setClearColor( clearColor, clearAlpha );\r\n\r\n\t\tscope.needsUpdate = false;\r\n\r\n\t};\r\n\r\n\tfunction getDepthMaterial( object, material, isPointLight, lightPositionWorld ) {\r\n\r\n\t\tvar geometry = object.geometry;\r\n\r\n\t\tvar result = null;\r\n\r\n\t\tvar materialVariants = _depthMaterials;\r\n\t\tvar customMaterial = object.customDepthMaterial;\r\n\r\n\t\tif ( isPointLight ) {\r\n\r\n\t\t\tmaterialVariants = _distanceMaterials;\r\n\t\t\tcustomMaterial = object.customDistanceMaterial;\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! customMaterial ) {\r\n\r\n\t\t\tvar useMorphing = geometry.morphTargets !== undefined &&\r\n\t\t\t\t\tgeometry.morphTargets.length > 0 && material.morphTargets;\r\n\r\n\t\t\tvar useSkinning = object instanceof THREE.SkinnedMesh && material.skinning;\r\n\r\n\t\t\tvar variantIndex = 0;\r\n\r\n\t\t\tif ( useMorphing ) variantIndex |= _MorphingFlag;\r\n\t\t\tif ( useSkinning ) variantIndex |= _SkinningFlag;\r\n\r\n\t\t\tresult = materialVariants[ variantIndex ];\r\n\r\n\t\t} else {\r\n\r\n\t\t\tresult = customMaterial;\r\n\r\n\t\t}\r\n\r\n\t\tif ( _renderer.localClippingEnabled &&\r\n\t\t\t material.clipShadows === true &&\r\n\t\t\t\tmaterial.clippingPlanes.length !== 0 ) {\r\n\r\n\t\t\t// in this case we need a unique material instance reflecting the\r\n\t\t\t// appropriate state\r\n\r\n\t\t\tvar keyA = result.uuid, keyB = material.uuid;\r\n\r\n\t\t\tvar materialsForVariant = _materialCache[ keyA ];\r\n\r\n\t\t\tif ( materialsForVariant === undefined ) {\r\n\r\n\t\t\t\tmaterialsForVariant = {};\r\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar cachedMaterial = materialsForVariant[ keyB ];\r\n\r\n\t\t\tif ( cachedMaterial === undefined ) {\r\n\r\n\t\t\t\tcachedMaterial = result.clone();\r\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tresult = cachedMaterial;\r\n\r\n\t\t}\r\n\r\n\t\tresult.visible = material.visible;\r\n\t\tresult.wireframe = material.wireframe;\r\n\r\n\t\tvar side = material.side;\r\n\r\n\t\tif ( scope.renderSingleSided && side == THREE.DoubleSide ) {\r\n\r\n\t\t\tside = THREE.FrontSide;\r\n\r\n\t\t}\r\n\r\n\t\tif ( scope.renderReverseSided ) {\r\n\r\n\t\t\tif ( side === THREE.FrontSide ) side = THREE.BackSide;\r\n\t\t\telse if ( side === THREE.BackSide ) side = THREE.FrontSide;\r\n\r\n\t\t}\r\n\r\n\t\tresult.side = side;\r\n\r\n\t\tresult.clipShadows = material.clipShadows;\r\n\t\tresult.clippingPlanes = material.clippingPlanes;\r\n\r\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\r\n\t\tresult.linewidth = material.linewidth;\r\n\r\n\t\tif ( isPointLight && result.uniforms.lightPos !== undefined ) {\r\n\r\n\t\t\tresult.uniforms.lightPos.value.copy( lightPositionWorld );\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n\tfunction projectObject( object, camera, shadowCamera ) {\r\n\r\n\t\tif ( object.visible === false ) return;\r\n\r\n\t\tif ( object.layers.test( camera.layers ) && ( object instanceof THREE.Mesh || object instanceof THREE.Line || object instanceof THREE.Points ) ) {\r\n\r\n\t\t\tif ( object.castShadow && ( object.frustumCulled === false || _frustum.intersectsObject( object ) === true ) ) {\r\n\r\n\t\t\t\tvar material = object.material;\r\n\r\n\t\t\t\tif ( material.visible === true ) {\r\n\r\n\t\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\r\n\t\t\t\t\t_renderList.push( object );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar children = object.children;\r\n\r\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\r\n\r\n\t\t\tprojectObject( children[ i ], camera, shadowCamera );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/renderers/webgl/WebGLState.js\r\n\r\n/**\r\n* @author mrdoob / http://mrdoob.com/\r\n*/\r\n\r\nTHREE.WebGLState = function ( gl, extensions, paramThreeToGL ) {\r\n\r\n\tvar _this = this;\r\n\r\n\tthis.buffers = {\r\n\t\tcolor: new THREE.WebGLColorBuffer( gl, this ),\r\n\t\tdepth: new THREE.WebGLDepthBuffer( gl, this ),\r\n\t\tstencil: new THREE.WebGLStencilBuffer( gl, this )\r\n\t};\r\n\r\n\tvar maxVertexAttributes = gl.getParameter( gl.MAX_VERTEX_ATTRIBS );\r\n\tvar newAttributes = new Uint8Array( maxVertexAttributes );\r\n\tvar enabledAttributes = new Uint8Array( maxVertexAttributes );\r\n\tvar attributeDivisors = new Uint8Array( maxVertexAttributes );\r\n\r\n\tvar capabilities = {};\r\n\r\n\tvar compressedTextureFormats = null;\r\n\r\n\tvar currentBlending = null;\r\n\tvar currentBlendEquation = null;\r\n\tvar currentBlendSrc = null;\r\n\tvar currentBlendDst = null;\r\n\tvar currentBlendEquationAlpha = null;\r\n\tvar currentBlendSrcAlpha = null;\r\n\tvar currentBlendDstAlpha = null;\r\n\tvar currentPremultipledAlpha = false;\r\n\r\n\tvar currentFlipSided = null;\r\n\tvar currentCullFace = null;\r\n\r\n\tvar currentLineWidth = null;\r\n\r\n\tvar currentPolygonOffsetFactor = null;\r\n\tvar currentPolygonOffsetUnits = null;\r\n\r\n\tvar currentScissorTest = null;\r\n\r\n\tvar maxTextures = gl.getParameter( gl.MAX_TEXTURE_IMAGE_UNITS );\r\n\r\n\tvar currentTextureSlot = null;\r\n\tvar currentBoundTextures = {};\r\n\r\n\tvar currentScissor = new THREE.Vector4();\r\n\tvar currentViewport = new THREE.Vector4();\r\n\r\n\tfunction createTexture( type, target, count ) {\r\n\r\n\t\tvar data = new Uint8Array( 3 );\r\n\t\tvar texture = gl.createTexture();\r\n\r\n\t\tgl.bindTexture( type, texture );\r\n\t\tgl.texParameteri( type, gl.TEXTURE_MIN_FILTER, gl.NEAREST );\r\n\t\tgl.texParameteri( type, gl.TEXTURE_MAG_FILTER, gl.NEAREST );\r\n\r\n\t\tfor ( var i = 0; i < count; i ++ ) {\r\n\r\n\t\t\tgl.texImage2D( target + i, 0, gl.RGB, 1, 1, 0, gl.RGB, gl.UNSIGNED_BYTE, data );\r\n\r\n\t\t}\r\n\r\n\t\treturn texture;\r\n\r\n\t}\r\n\r\n\tvar emptyTextures = {};\r\n\temptyTextures[ gl.TEXTURE_2D ] = createTexture( gl.TEXTURE_2D, gl.TEXTURE_2D, 1 );\r\n\temptyTextures[ gl.TEXTURE_CUBE_MAP ] = createTexture( gl.TEXTURE_CUBE_MAP, gl.TEXTURE_CUBE_MAP_POSITIVE_X, 6 );\r\n\r\n\t//\r\n\r\n\tthis.init = function () {\r\n\r\n\t\tthis.clearColor( 0, 0, 0, 1 );\r\n\t\tthis.clearDepth( 1 );\r\n\t\tthis.clearStencil( 0 );\r\n\r\n\t\tthis.enable( gl.DEPTH_TEST );\r\n\t\tthis.setDepthFunc( THREE.LessEqualDepth );\r\n\r\n\t\tthis.setFlipSided( false );\r\n\t\tthis.setCullFace( THREE.CullFaceBack );\r\n\t\tthis.enable( gl.CULL_FACE );\r\n\r\n\t\tthis.enable( gl.BLEND );\r\n\t\tthis.setBlending( THREE.NormalBlending );\r\n\r\n\t};\r\n\r\n\tthis.initAttributes = function () {\r\n\r\n\t\tfor ( var i = 0, l = newAttributes.length; i < l; i ++ ) {\r\n\r\n\t\t\tnewAttributes[ i ] = 0;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.enableAttribute = function ( attribute ) {\r\n\r\n\t\tnewAttributes[ attribute ] = 1;\r\n\r\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\r\n\r\n\t\t\tgl.enableVertexAttribArray( attribute );\r\n\t\t\tenabledAttributes[ attribute ] = 1;\r\n\r\n\t\t}\r\n\r\n\t\tif ( attributeDivisors[ attribute ] !== 0 ) {\r\n\r\n\t\t\tvar extension = extensions.get( 'ANGLE_instanced_arrays' );\r\n\r\n\t\t\textension.vertexAttribDivisorANGLE( attribute, 0 );\r\n\t\t\tattributeDivisors[ attribute ] = 0;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.enableAttributeAndDivisor = function ( attribute, meshPerAttribute, extension ) {\r\n\r\n\t\tnewAttributes[ attribute ] = 1;\r\n\r\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\r\n\r\n\t\t\tgl.enableVertexAttribArray( attribute );\r\n\t\t\tenabledAttributes[ attribute ] = 1;\r\n\r\n\t\t}\r\n\r\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\r\n\r\n\t\t\textension.vertexAttribDivisorANGLE( attribute, meshPerAttribute );\r\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.disableUnusedAttributes = function () {\r\n\r\n\t\tfor ( var i = 0, l = enabledAttributes.length; i !== l; ++ i ) {\r\n\r\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\r\n\r\n\t\t\t\tgl.disableVertexAttribArray( i );\r\n\t\t\t\tenabledAttributes[ i ] = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.enable = function ( id ) {\r\n\r\n\t\tif ( capabilities[ id ] !== true ) {\r\n\r\n\t\t\tgl.enable( id );\r\n\t\t\tcapabilities[ id ] = true;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.disable = function ( id ) {\r\n\r\n\t\tif ( capabilities[ id ] !== false ) {\r\n\r\n\t\t\tgl.disable( id );\r\n\t\t\tcapabilities[ id ] = false;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.getCompressedTextureFormats = function () {\r\n\r\n\t\tif ( compressedTextureFormats === null ) {\r\n\r\n\t\t\tcompressedTextureFormats = [];\r\n\r\n\t\t\tif ( extensions.get( 'WEBGL_compressed_texture_pvrtc' ) ||\r\n\t\t\t     extensions.get( 'WEBGL_compressed_texture_s3tc' ) ||\r\n\t\t\t     extensions.get( 'WEBGL_compressed_texture_etc1' ) ) {\r\n\r\n\t\t\t\tvar formats = gl.getParameter( gl.COMPRESSED_TEXTURE_FORMATS );\r\n\r\n\t\t\t\tfor ( var i = 0; i < formats.length; i ++ ) {\r\n\r\n\t\t\t\t\tcompressedTextureFormats.push( formats[ i ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn compressedTextureFormats;\r\n\r\n\t};\r\n\r\n\tthis.setBlending = function ( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\r\n\r\n\t\tif ( blending !== THREE.NoBlending ) {\r\n\r\n\t\t\tthis.enable( gl.BLEND );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.disable( gl.BLEND );\r\n\t\t\tcurrentBlending = blending; // no blending, that is\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\r\n\r\n\t\t\tif ( blending === THREE.AdditiveBlending ) {\r\n\r\n\t\t\t\tif ( premultipliedAlpha ) {\r\n\r\n\t\t\t\t\tgl.blendEquationSeparate( gl.FUNC_ADD, gl.FUNC_ADD );\r\n\t\t\t\t\tgl.blendFuncSeparate( gl.ONE, gl.ONE, gl.ONE, gl.ONE );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tgl.blendEquation( gl.FUNC_ADD );\r\n\t\t\t\t\tgl.blendFunc( gl.SRC_ALPHA, gl.ONE );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( blending === THREE.SubtractiveBlending ) {\r\n\r\n\t\t\t\tif ( premultipliedAlpha ) {\r\n\r\n\t\t\t\t\tgl.blendEquationSeparate( gl.FUNC_ADD, gl.FUNC_ADD );\r\n\t\t\t\t\tgl.blendFuncSeparate( gl.ZERO, gl.ZERO, gl.ONE_MINUS_SRC_COLOR, gl.ONE_MINUS_SRC_ALPHA );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tgl.blendEquation( gl.FUNC_ADD );\r\n\t\t\t\t\tgl.blendFunc( gl.ZERO, gl.ONE_MINUS_SRC_COLOR );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( blending === THREE.MultiplyBlending ) {\r\n\r\n\t\t\t\tif ( premultipliedAlpha ) {\r\n\r\n\t\t\t\t\tgl.blendEquationSeparate( gl.FUNC_ADD, gl.FUNC_ADD );\r\n\t\t\t\t\tgl.blendFuncSeparate( gl.ZERO, gl.SRC_COLOR, gl.ZERO, gl.SRC_ALPHA );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tgl.blendEquation( gl.FUNC_ADD );\r\n\t\t\t\t\tgl.blendFunc( gl.ZERO, gl.SRC_COLOR );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( premultipliedAlpha ) {\r\n\r\n\t\t\t\t\tgl.blendEquationSeparate( gl.FUNC_ADD, gl.FUNC_ADD );\r\n\t\t\t\t\tgl.blendFuncSeparate( gl.ONE, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tgl.blendEquationSeparate( gl.FUNC_ADD, gl.FUNC_ADD );\r\n\t\t\t\t\tgl.blendFuncSeparate( gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcurrentBlending = blending;\r\n\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\r\n\r\n\t\t}\r\n\r\n\t\tif ( blending === THREE.CustomBlending ) {\r\n\r\n\t\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\r\n\t\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\r\n\t\t\tblendDstAlpha = blendDstAlpha || blendDst;\r\n\r\n\t\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\r\n\r\n\t\t\t\tgl.blendEquationSeparate( paramThreeToGL( blendEquation ), paramThreeToGL( blendEquationAlpha ) );\r\n\r\n\t\t\t\tcurrentBlendEquation = blendEquation;\r\n\t\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\r\n\r\n\t\t\t\tgl.blendFuncSeparate( paramThreeToGL( blendSrc ), paramThreeToGL( blendDst ), paramThreeToGL( blendSrcAlpha ), paramThreeToGL( blendDstAlpha ) );\r\n\r\n\t\t\t\tcurrentBlendSrc = blendSrc;\r\n\t\t\t\tcurrentBlendDst = blendDst;\r\n\t\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\r\n\t\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tcurrentBlendEquation = null;\r\n\t\t\tcurrentBlendSrc = null;\r\n\t\t\tcurrentBlendDst = null;\r\n\t\t\tcurrentBlendEquationAlpha = null;\r\n\t\t\tcurrentBlendSrcAlpha = null;\r\n\t\t\tcurrentBlendDstAlpha = null;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t// TODO Deprecate\r\n\r\n\tthis.setColorWrite = function ( colorWrite ) {\r\n\r\n\t\tthis.buffers.color.setMask( colorWrite );\r\n\r\n\t};\r\n\r\n\tthis.setDepthTest = function ( depthTest ) {\r\n\r\n\t\tthis.buffers.depth.setTest( depthTest );\r\n\r\n\t};\r\n\r\n\tthis.setDepthWrite = function ( depthWrite ) {\r\n\r\n\t\tthis.buffers.depth.setMask( depthWrite );\r\n\r\n\t};\r\n\r\n\tthis.setDepthFunc = function ( depthFunc ) {\r\n\r\n\t\tthis.buffers.depth.setFunc( depthFunc );\r\n\r\n\t};\r\n\r\n\tthis.setStencilTest = function ( stencilTest ) {\r\n\r\n\t\tthis.buffers.stencil.setTest( stencilTest );\r\n\r\n\t};\r\n\r\n\tthis.setStencilWrite = function ( stencilWrite ) {\r\n\r\n\t\tthis.buffers.stencil.setMask( stencilWrite );\r\n\r\n\t};\r\n\r\n\tthis.setStencilFunc = function ( stencilFunc, stencilRef, stencilMask ) {\r\n\r\n\t\tthis.buffers.stencil.setFunc( stencilFunc, stencilRef, stencilMask );\r\n\r\n\t};\r\n\r\n\tthis.setStencilOp = function ( stencilFail, stencilZFail, stencilZPass ) {\r\n\r\n\t\tthis.buffers.stencil.setOp( stencilFail, stencilZFail, stencilZPass );\r\n\r\n\t};\r\n\r\n\t//\r\n\r\n\tthis.setFlipSided = function ( flipSided ) {\r\n\r\n\t\tif ( currentFlipSided !== flipSided ) {\r\n\r\n\t\t\tif ( flipSided ) {\r\n\r\n\t\t\t\tgl.frontFace( gl.CW );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tgl.frontFace( gl.CCW );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcurrentFlipSided = flipSided;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.setCullFace = function ( cullFace ) {\r\n\r\n\t\tif ( cullFace !== THREE.CullFaceNone ) {\r\n\r\n\t\t\tthis.enable( gl.CULL_FACE );\r\n\r\n\t\t\tif ( cullFace !== currentCullFace ) {\r\n\r\n\t\t\t\tif ( cullFace === THREE.CullFaceBack ) {\r\n\r\n\t\t\t\t\tgl.cullFace( gl.BACK );\r\n\r\n\t\t\t\t} else if ( cullFace === THREE.CullFaceFront ) {\r\n\r\n\t\t\t\t\tgl.cullFace( gl.FRONT );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tgl.cullFace( gl.FRONT_AND_BACK );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.disable( gl.CULL_FACE );\r\n\r\n\t\t}\r\n\r\n\t\tcurrentCullFace = cullFace;\r\n\r\n\t};\r\n\r\n\tthis.setLineWidth = function ( width ) {\r\n\r\n\t\tif ( width !== currentLineWidth ) {\r\n\r\n\t\t\tgl.lineWidth( width );\r\n\r\n\t\t\tcurrentLineWidth = width;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.setPolygonOffset = function ( polygonOffset, factor, units ) {\r\n\r\n\t\tif ( polygonOffset ) {\r\n\r\n\t\t\tthis.enable( gl.POLYGON_OFFSET_FILL );\r\n\r\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\r\n\r\n\t\t\t\tgl.polygonOffset( factor, units );\r\n\r\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\r\n\t\t\t\tcurrentPolygonOffsetUnits = units;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.disable( gl.POLYGON_OFFSET_FILL );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.getScissorTest = function () {\r\n\r\n\t\treturn currentScissorTest;\r\n\r\n\t};\r\n\r\n\tthis.setScissorTest = function ( scissorTest ) {\r\n\r\n\t\tcurrentScissorTest = scissorTest;\r\n\r\n\t\tif ( scissorTest ) {\r\n\r\n\t\t\tthis.enable( gl.SCISSOR_TEST );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.disable( gl.SCISSOR_TEST );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t// texture\r\n\r\n\tthis.activeTexture = function ( webglSlot ) {\r\n\r\n\t\tif ( webglSlot === undefined ) webglSlot = gl.TEXTURE0 + maxTextures - 1;\r\n\r\n\t\tif ( currentTextureSlot !== webglSlot ) {\r\n\r\n\t\t\tgl.activeTexture( webglSlot );\r\n\t\t\tcurrentTextureSlot = webglSlot;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.bindTexture = function ( webglType, webglTexture ) {\r\n\r\n\t\tif ( currentTextureSlot === null ) {\r\n\r\n\t\t\t_this.activeTexture();\r\n\r\n\t\t}\r\n\r\n\t\tvar boundTexture = currentBoundTextures[ currentTextureSlot ];\r\n\r\n\t\tif ( boundTexture === undefined ) {\r\n\r\n\t\t\tboundTexture = { type: undefined, texture: undefined };\r\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\r\n\r\n\t\t}\r\n\r\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\r\n\r\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\r\n\r\n\t\t\tboundTexture.type = webglType;\r\n\t\t\tboundTexture.texture = webglTexture;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.compressedTexImage2D = function () {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\r\n\r\n\t\t} catch ( error ) {\r\n\r\n\t\t\tconsole.error( error );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.texImage2D = function () {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tgl.texImage2D.apply( gl, arguments );\r\n\r\n\t\t} catch ( error ) {\r\n\r\n\t\t\tconsole.error( error );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t// TODO Deprecate\r\n\r\n\tthis.clearColor = function ( r, g, b, a ) {\r\n\r\n\t\tthis.buffers.color.setClear( r, g, b, a );\r\n\r\n\t};\r\n\r\n\tthis.clearDepth = function ( depth ) {\r\n\r\n\t\tthis.buffers.depth.setClear( depth );\r\n\r\n\t};\r\n\r\n\tthis.clearStencil = function ( stencil ) {\r\n\r\n\t\tthis.buffers.stencil.setClear( stencil );\r\n\r\n\t};\r\n\r\n\t//\r\n\r\n\tthis.scissor = function ( scissor ) {\r\n\r\n\t\tif ( currentScissor.equals( scissor ) === false ) {\r\n\r\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\r\n\t\t\tcurrentScissor.copy( scissor );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.viewport = function ( viewport ) {\r\n\r\n\t\tif ( currentViewport.equals( viewport ) === false ) {\r\n\r\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\r\n\t\t\tcurrentViewport.copy( viewport );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//\r\n\r\n\tthis.reset = function () {\r\n\r\n\t\tfor ( var i = 0; i < enabledAttributes.length; i ++ ) {\r\n\r\n\t\t\tif ( enabledAttributes[ i ] === 1 ) {\r\n\r\n\t\t\t\tgl.disableVertexAttribArray( i );\r\n\t\t\t\tenabledAttributes[ i ] = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tcapabilities = {};\r\n\r\n\t\tcompressedTextureFormats = null;\r\n\r\n\t\tcurrentTextureSlot = null;\r\n\t\tcurrentBoundTextures = {};\r\n\r\n\t\tcurrentBlending = null;\r\n\r\n\t\tcurrentFlipSided = null;\r\n\t\tcurrentCullFace = null;\r\n\r\n\t\tthis.buffers.color.reset();\r\n\t\tthis.buffers.depth.reset();\r\n\t\tthis.buffers.stencil.reset();\r\n\r\n\t};\r\n\r\n};\r\n\r\nTHREE.WebGLColorBuffer = function ( gl, state ) {\r\n\r\n\tvar locked = false;\r\n\r\n\tvar color = new THREE.Vector4();\r\n\tvar currentColorMask = null;\r\n\tvar currentColorClear = new THREE.Vector4();\r\n\r\n\tthis.setMask = function ( colorMask ) {\r\n\r\n\t\tif ( currentColorMask !== colorMask && ! locked ) {\r\n\r\n\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\r\n\t\t\tcurrentColorMask = colorMask;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.setLocked = function ( lock ) {\r\n\r\n\t\tlocked = lock;\r\n\r\n\t};\r\n\r\n\tthis.setClear = function ( r, g, b, a ) {\r\n\r\n\t\tcolor.set( r, g, b, a );\r\n\r\n\t\tif ( currentColorClear.equals( color ) === false ) {\r\n\r\n\t\t\tgl.clearColor( r, g, b, a );\r\n\t\t\tcurrentColorClear.copy( color );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.reset = function () {\r\n\r\n\t\tlocked = false;\r\n\r\n\t\tcurrentColorMask = null;\r\n\t\tcurrentColorClear = new THREE.Vector4();\r\n\r\n\t};\r\n\r\n};\r\n\r\nTHREE.WebGLDepthBuffer = function( gl, state ) {\r\n\r\n\tvar locked = false;\r\n\r\n\tvar currentDepthMask = null;\r\n\tvar currentDepthFunc = null;\r\n\tvar currentDepthClear = null;\r\n\r\n\tthis.setTest = function ( depthTest ) {\r\n\r\n\t\tif ( depthTest ) {\r\n\r\n\t\t\tstate.enable( gl.DEPTH_TEST );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tstate.disable( gl.DEPTH_TEST );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.setMask = function( depthMask ){\r\n\r\n\t\tif ( currentDepthMask !== depthMask && ! locked ) {\r\n\r\n\t\t\tgl.depthMask( depthMask );\r\n\t\t\tcurrentDepthMask = depthMask;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.setFunc = function ( depthFunc ) {\r\n\r\n\t\tif ( currentDepthFunc !== depthFunc ) {\r\n\r\n\t\t\tif ( depthFunc ) {\r\n\r\n\t\t\t\tswitch ( depthFunc ) {\r\n\r\n\t\t\t\t\tcase THREE.NeverDepth:\r\n\r\n\t\t\t\t\t\tgl.depthFunc( gl.NEVER );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase THREE.AlwaysDepth:\r\n\r\n\t\t\t\t\t\tgl.depthFunc( gl.ALWAYS );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase THREE.LessDepth:\r\n\r\n\t\t\t\t\t\tgl.depthFunc( gl.LESS );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase THREE.LessEqualDepth:\r\n\r\n\t\t\t\t\t\tgl.depthFunc( gl.LEQUAL );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase THREE.EqualDepth:\r\n\r\n\t\t\t\t\t\tgl.depthFunc( gl.EQUAL );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase THREE.GreaterEqualDepth:\r\n\r\n\t\t\t\t\t\tgl.depthFunc( gl.GEQUAL );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase THREE.GreaterDepth:\r\n\r\n\t\t\t\t\t\tgl.depthFunc( gl.GREATER );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase THREE.NotEqualDepth:\r\n\r\n\t\t\t\t\t\tgl.depthFunc( gl.NOTEQUAL );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tgl.depthFunc( gl.LEQUAL );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tgl.depthFunc( gl.LEQUAL );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcurrentDepthFunc = depthFunc;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.setLocked = function ( lock ) {\r\n\r\n\t\tlocked = lock;\r\n\r\n\t};\r\n\r\n\tthis.setClear = function ( depth ) {\r\n\r\n\t\tif ( currentDepthClear !== depth ) {\r\n\r\n\t\t\tgl.clearDepth( depth );\r\n\t\t\tcurrentDepthClear = depth;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.reset = function () {\r\n\r\n\t\tlocked = false;\r\n\r\n\t\tcurrentDepthMask = null;\r\n\t\tcurrentDepthFunc = null;\r\n\t\tcurrentDepthClear = null;\r\n\r\n\t};\r\n\r\n};\r\n\r\nTHREE.WebGLStencilBuffer = function ( gl, state ) {\r\n\r\n\tvar locked = false;\r\n\r\n\tvar currentStencilMask = null;\r\n\tvar currentStencilFunc = null;\r\n\tvar currentStencilRef = null;\r\n\tvar currentStencilFuncMask = null;\r\n\tvar currentStencilFail  = null;\r\n\tvar currentStencilZFail = null;\r\n\tvar currentStencilZPass = null;\r\n\tvar currentStencilClear = null;\r\n\r\n\tthis.setTest = function ( stencilTest ) {\r\n\r\n\t\tif ( stencilTest ) {\r\n\r\n\t\t\tstate.enable( gl.STENCIL_TEST );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tstate.disable( gl.STENCIL_TEST );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.setMask = function ( stencilMask ) {\r\n\r\n\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\r\n\r\n\t\t\tgl.stencilMask( stencilMask );\r\n\t\t\tcurrentStencilMask = stencilMask;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.setFunc = function ( stencilFunc, stencilRef, stencilMask ) {\r\n\r\n\t\tif ( currentStencilFunc !== stencilFunc ||\r\n\t\t     currentStencilRef \t!== stencilRef \t||\r\n\t\t     currentStencilFuncMask !== stencilMask ) {\r\n\r\n\t\t\tgl.stencilFunc( stencilFunc,  stencilRef, stencilMask );\r\n\r\n\t\t\tcurrentStencilFunc = stencilFunc;\r\n\t\t\tcurrentStencilRef  = stencilRef;\r\n\t\t\tcurrentStencilFuncMask = stencilMask;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.setOp\t = function ( stencilFail, stencilZFail, stencilZPass ) {\r\n\r\n\t\tif ( currentStencilFail\t !== stencilFail \t||\r\n\t\t     currentStencilZFail !== stencilZFail ||\r\n\t\t     currentStencilZPass !== stencilZPass ) {\r\n\r\n\t\t\tgl.stencilOp( stencilFail,  stencilZFail, stencilZPass );\r\n\r\n\t\t\tcurrentStencilFail  = stencilFail;\r\n\t\t\tcurrentStencilZFail = stencilZFail;\r\n\t\t\tcurrentStencilZPass = stencilZPass;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.setLocked = function ( lock ) {\r\n\r\n\t\tlocked = lock;\r\n\r\n\t};\r\n\r\n\tthis.setClear = function ( stencil ) {\r\n\r\n\t\tif ( currentStencilClear !== stencil ) {\r\n\r\n\t\t\tgl.clearStencil( stencil );\r\n\t\t\tcurrentStencilClear = stencil;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.reset = function () {\r\n\r\n\t\tlocked = false;\r\n\r\n\t\tcurrentStencilMask = null;\r\n\t\tcurrentStencilFunc = null;\r\n\t\tcurrentStencilRef = null;\r\n\t\tcurrentStencilFuncMask = null;\r\n\t\tcurrentStencilFail = null;\r\n\t\tcurrentStencilZFail = null;\r\n\t\tcurrentStencilZPass = null;\r\n\t\tcurrentStencilClear = null;\r\n\r\n\t};\r\n\r\n};\r\n\r\n// File:src/renderers/webgl/WebGLUniforms.js\r\n\r\n/**\r\n *\r\n * Uniforms of a program.\r\n * Those form a tree structure with a special top-level container for the root,\r\n * which you get by calling 'new WebGLUniforms( gl, program, renderer )'.\r\n *\r\n *\r\n * Properties of inner nodes including the top-level container:\r\n *\r\n * .seq - array of nested uniforms\r\n * .map - nested uniforms by name\r\n *\r\n *\r\n * Methods of all nodes except the top-level container:\r\n *\r\n * .setValue( gl, value, [renderer] )\r\n *\r\n * \t\tuploads a uniform value(s)\r\n *  \tthe 'renderer' parameter is needed for sampler uniforms\r\n *\r\n *\r\n * Static methods of the top-level container (renderer factorizations):\r\n *\r\n * .upload( gl, seq, values, renderer )\r\n *\r\n * \t\tsets uniforms in 'seq' to 'values[id].value'\r\n *\r\n * .seqWithValue( seq, values ) : filteredSeq\r\n *\r\n * \t\tfilters 'seq' entries with corresponding entry in values\r\n *\r\n * .splitDynamic( seq, values ) : filteredSeq\r\n *\r\n * \t\tfilters 'seq' entries with dynamic entry and removes them from 'seq'\r\n *\r\n *\r\n * Methods of the top-level container (renderer factorizations):\r\n *\r\n * .setValue( gl, name, value )\r\n *\r\n * \t\tsets uniform with  name 'name' to 'value'\r\n *\r\n * .set( gl, obj, prop )\r\n *\r\n * \t\tsets uniform from object and property with same name than uniform\r\n *\r\n * .setOptional( gl, obj, prop )\r\n *\r\n * \t\tlike .set for an optional property of the object\r\n *\r\n *\r\n * @author tschw\r\n *\r\n */\r\n\r\nTHREE.WebGLUniforms = ( function() { // scope\r\n\r\n\t// --- Base for inner nodes (including the root) ---\r\n\r\n\tvar UniformContainer = function() {\r\n\r\n\t\t\tthis.seq = [];\r\n\t\t\tthis.map = {};\r\n\r\n\t\t},\r\n\r\n\t// --- Utilities ---\r\n\r\n\t// Array Caches (provide typed arrays for temporary by size)\r\n\r\n\t\tarrayCacheF32 = [],\r\n\t\tarrayCacheI32 = [],\r\n\r\n\t\tuncacheTemporaryArrays = function() {\r\n\r\n\t\t\tarrayCacheF32.length = 0;\r\n\t\t\tarrayCacheI32.length = 0;\r\n\r\n\t\t},\r\n\r\n\t// Flattening for arrays of vectors and matrices\r\n\r\n\t\tflatten = function( array, nBlocks, blockSize ) {\r\n\r\n\t\t\tvar firstElem = array[ 0 ];\r\n\r\n\t\t\tif ( firstElem <= 0 || firstElem > 0 ) return array;\r\n\t\t\t// unoptimized: ! isNaN( firstElem )\r\n\t\t\t// see http://jacksondunstan.com/articles/983\r\n\r\n\t\t\tvar n = nBlocks * blockSize,\r\n\t\t\t\tr = arrayCacheF32[ n ];\r\n\r\n\t\t\tif ( r === undefined ) {\r\n\r\n\t\t\t\tr = new Float32Array( n );\r\n\t\t\t\tarrayCacheF32[ n ] = r;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( nBlocks !== 0 ) {\r\n\r\n\t\t\t\tfirstElem.toArray( r, 0 );\r\n\r\n\t\t\t\tfor ( var i = 1, offset = 0; i !== nBlocks; ++ i ) {\r\n\r\n\t\t\t\t\toffset += blockSize;\r\n\t\t\t\t\tarray[ i ].toArray( r, offset );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn r;\r\n\r\n\t\t},\r\n\r\n\t// Texture unit allocation\r\n\r\n\t\tallocTexUnits = function( renderer, n ) {\r\n\r\n\t\t\tvar r = arrayCacheI32[ n ];\r\n\r\n\t\t\tif ( r === undefined ) {\r\n\r\n\t\t\t\tr = new Int32Array( n );\r\n\t\t\t\tarrayCacheI32[ n ] = r;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var i = 0; i !== n; ++ i )\r\n\t\t\t\tr[ i ] = renderer.allocTextureUnit();\r\n\r\n\t\t\treturn r;\r\n\r\n\t\t},\r\n\r\n\t// --- Setters ---\r\n\r\n\t// Note: Defining these methods externally, because they come in a bunch\r\n\t// and this way their names minify.\r\n\r\n\t\t// Single scalar\r\n\r\n\t\tsetValue1f = function( gl, v ) { gl.uniform1f( this.addr, v ); },\r\n\t\tsetValue1i = function( gl, v ) { gl.uniform1i( this.addr, v ); },\r\n\r\n\t\t// Single float vector (from flat array or THREE.VectorN)\r\n\r\n\t\tsetValue2fv = function( gl, v ) {\r\n\r\n\t\t\tif ( v.x === undefined ) gl.uniform2fv( this.addr, v );\r\n\t\t\telse gl.uniform2f( this.addr, v.x, v.y );\r\n\r\n\t\t},\r\n\r\n\t\tsetValue3fv = function( gl, v ) {\r\n\r\n\t\t\tif ( v.x !== undefined )\r\n\t\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\r\n\t\t\telse if ( v.r !== undefined )\r\n\t\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\r\n\t\t\telse\r\n\t\t\t\tgl.uniform3fv( this.addr, v );\r\n\r\n\t\t},\r\n\r\n\t\tsetValue4fv = function( gl, v ) {\r\n\r\n\t\t\tif ( v.x === undefined ) gl.uniform4fv( this.addr, v );\r\n\t\t\telse gl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\r\n\r\n\t\t},\r\n\r\n\t\t// Single matrix (from flat array or MatrixN)\r\n\r\n\t\tsetValue2fm = function( gl, v ) {\r\n\r\n\t\t\tgl.uniformMatrix2fv( this.addr, false, v.elements || v );\r\n\r\n\t\t},\r\n\r\n\t\tsetValue3fm = function( gl, v ) {\r\n\r\n\t\t\tgl.uniformMatrix3fv( this.addr, false, v.elements || v );\r\n\r\n\t\t},\r\n\r\n\t\tsetValue4fm = function( gl, v ) {\r\n\r\n\t\t\tgl.uniformMatrix4fv( this.addr, false, v.elements || v );\r\n\r\n\t\t},\r\n\r\n\t\t// Single texture (2D / Cube)\r\n\r\n\t\tsetValueT1 = function( gl, v, renderer ) {\r\n\r\n\t\t\tvar unit = renderer.allocTextureUnit();\r\n\t\t\tgl.uniform1i( this.addr, unit );\r\n\t\t\tif ( v ) renderer.setTexture2D( v, unit );\r\n\r\n\t\t},\r\n\r\n\t\tsetValueT6 = function( gl, v, renderer ) {\r\n\r\n\t\t\tvar unit = renderer.allocTextureUnit();\r\n\t\t\tgl.uniform1i( this.addr, unit );\r\n\t\t\tif ( v ) renderer.setTextureCube( v, unit );\r\n\r\n\t\t},\r\n\r\n\t\t// Integer / Boolean vectors or arrays thereof (always flat arrays)\r\n\r\n\t\tsetValue2iv = function( gl, v ) { gl.uniform2iv( this.addr, v ); },\r\n\t\tsetValue3iv = function( gl, v ) { gl.uniform3iv( this.addr, v ); },\r\n\t\tsetValue4iv = function( gl, v ) { gl.uniform4iv( this.addr, v ); },\r\n\r\n\t\t// Helper to pick the right setter for the singular case\r\n\r\n\t\tgetSingularSetter = function( type ) {\r\n\r\n\t\t\tswitch ( type ) {\r\n\r\n\t\t\t\tcase 0x1406: return setValue1f; // FLOAT\r\n\t\t\t\tcase 0x8b50: return setValue2fv; // _VEC2\r\n\t\t\t\tcase 0x8b51: return setValue3fv; // _VEC3\r\n\t\t\t\tcase 0x8b52: return setValue4fv; // _VEC4\r\n\r\n\t\t\t\tcase 0x8b5a: return setValue2fm; // _MAT2\r\n\t\t\t\tcase 0x8b5b: return setValue3fm; // _MAT3\r\n\t\t\t\tcase 0x8b5c: return setValue4fm; // _MAT4\r\n\r\n\t\t\t\tcase 0x8b5e: return setValueT1; // SAMPLER_2D\r\n\t\t\t\tcase 0x8b60: return setValueT6; // SAMPLER_CUBE\r\n\r\n\t\t\t\tcase 0x1404: case 0x8b56: return setValue1i; // INT, BOOL\r\n\t\t\t\tcase 0x8b53: case 0x8b57: return setValue2iv; // _VEC2\r\n\t\t\t\tcase 0x8b54: case 0x8b58: return setValue3iv; // _VEC3\r\n\t\t\t\tcase 0x8b55: case 0x8b59: return setValue4iv; // _VEC4\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t// Array of scalars\r\n\r\n\t\tsetValue1fv = function( gl, v ) { gl.uniform1fv( this.addr, v ); },\r\n\t\tsetValue1iv = function( gl, v ) { gl.uniform1iv( this.addr, v ); },\r\n\r\n\t\t// Array of vectors (flat or from THREE classes)\r\n\r\n\t\tsetValueV2a = function( gl, v ) {\r\n\r\n\t\t\tgl.uniform2fv( this.addr, flatten( v, this.size, 2 ) );\r\n\r\n\t\t},\r\n\r\n\t\tsetValueV3a = function( gl, v ) {\r\n\r\n\t\t\tgl.uniform3fv( this.addr, flatten( v, this.size, 3 ) );\r\n\r\n\t\t},\r\n\r\n\t\tsetValueV4a = function( gl, v ) {\r\n\r\n\t\t\tgl.uniform4fv( this.addr, flatten( v, this.size, 4 ) );\r\n\r\n\t\t},\r\n\r\n\t\t// Array of matrices (flat or from THREE clases)\r\n\r\n\t\tsetValueM2a = function( gl, v ) {\r\n\r\n\t\t\tgl.uniformMatrix2fv( this.addr, false, flatten( v, this.size, 4 ) );\r\n\r\n\t\t},\r\n\r\n\t\tsetValueM3a = function( gl, v ) {\r\n\r\n\t\t\tgl.uniformMatrix3fv( this.addr, false, flatten( v, this.size, 9 ) );\r\n\r\n\t\t},\r\n\r\n\t\tsetValueM4a = function( gl, v ) {\r\n\r\n\t\t\tgl.uniformMatrix4fv( this.addr, false, flatten( v, this.size, 16 ) );\r\n\r\n\t\t},\r\n\r\n\t\t// Array of textures (2D / Cube)\r\n\r\n\t\tsetValueT1a = function( gl, v, renderer ) {\r\n\r\n\t\t\tvar n = v.length,\r\n\t\t\t\tunits = allocTexUnits( renderer, n );\r\n\r\n\t\t\tgl.uniform1iv( this.addr, units );\r\n\r\n\t\t\tfor ( var i = 0; i !== n; ++ i ) {\r\n\r\n\t\t\t\tvar tex = v[ i ];\r\n\t\t\t\tif ( tex ) renderer.setTexture2D( tex, units[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tsetValueT6a = function( gl, v, renderer ) {\r\n\r\n\t\t\tvar n = v.length,\r\n\t\t\t\tunits = allocTexUnits( renderer, n );\r\n\r\n\t\t\tgl.uniform1iv( this.addr, units );\r\n\r\n\t\t\tfor ( var i = 0; i !== n; ++ i ) {\r\n\r\n\t\t\t\tvar tex = v[ i ];\r\n\t\t\t\tif ( tex ) renderer.setTextureCube( tex, units[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\r\n\t\t// Helper to pick the right setter for a pure (bottom-level) array\r\n\r\n\t\tgetPureArraySetter = function( type ) {\r\n\r\n\t\t\tswitch ( type ) {\r\n\r\n\t\t\t\tcase 0x1406: return setValue1fv; // FLOAT\r\n\t\t\t\tcase 0x8b50: return setValueV2a; // _VEC2\r\n\t\t\t\tcase 0x8b51: return setValueV3a; // _VEC3\r\n\t\t\t\tcase 0x8b52: return setValueV4a; // _VEC4\r\n\r\n\t\t\t\tcase 0x8b5a: return setValueM2a; // _MAT2\r\n\t\t\t\tcase 0x8b5b: return setValueM3a; // _MAT3\r\n\t\t\t\tcase 0x8b5c: return setValueM4a; // _MAT4\r\n\r\n\t\t\t\tcase 0x8b5e: return setValueT1a; // SAMPLER_2D\r\n\t\t\t\tcase 0x8b60: return setValueT6a; // SAMPLER_CUBE\r\n\r\n\t\t\t\tcase 0x1404: case 0x8b56: return setValue1iv; // INT, BOOL\r\n\t\t\t\tcase 0x8b53: case 0x8b57: return setValue2iv; // _VEC2\r\n\t\t\t\tcase 0x8b54: case 0x8b58: return setValue3iv; // _VEC3\r\n\t\t\t\tcase 0x8b55: case 0x8b59: return setValue4iv; // _VEC4\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t// --- Uniform Classes ---\r\n\r\n\t\tSingleUniform = function SingleUniform( id, activeInfo, addr ) {\r\n\r\n\t\t\tthis.id = id;\r\n\t\t\tthis.addr = addr;\r\n\t\t\tthis.setValue = getSingularSetter( activeInfo.type );\r\n\r\n\t\t\t// this.path = activeInfo.name; // DEBUG\r\n\r\n\t\t},\r\n\r\n\t\tPureArrayUniform = function( id, activeInfo, addr ) {\r\n\r\n\t\t\tthis.id = id;\r\n\t\t\tthis.addr = addr;\r\n\t\t\tthis.size = activeInfo.size;\r\n\t\t\tthis.setValue = getPureArraySetter( activeInfo.type );\r\n\r\n\t\t\t// this.path = activeInfo.name; // DEBUG\r\n\r\n\t\t},\r\n\r\n\t\tStructuredUniform = function( id ) {\r\n\r\n\t\t\tthis.id = id;\r\n\r\n\t\t\tUniformContainer.call( this ); // mix-in\r\n\r\n\t\t};\r\n\r\n\tStructuredUniform.prototype.setValue = function( gl, value ) {\r\n\r\n\t\t// Note: Don't need an extra 'renderer' parameter, since samplers\r\n\t\t// are not allowed in structured uniforms.\r\n\r\n\t\tvar seq = this.seq;\r\n\r\n\t\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\r\n\r\n\t\t\tvar u = seq[ i ];\r\n\t\t\tu.setValue( gl, value[ u.id ] );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t// --- Top-level ---\r\n\r\n\t// Parser - builds up the property tree from the path strings\r\n\r\n\tvar RePathPart = /([\\w\\d_]+)(\\])?(\\[|\\.)?/g,\r\n\t\t// extracts\r\n\t\t// \t- the identifier (member name or array index)\r\n\t\t//  - followed by an optional right bracket (found when array index)\r\n\t\t//  - followed by an optional left bracket or dot (type of subscript)\r\n\t\t//\r\n\t\t// Note: These portions can be read in a non-overlapping fashion and\r\n\t\t// allow straightforward parsing of the hierarchy that WebGL encodes\r\n\t\t// in the uniform names.\r\n\r\n\t\taddUniform = function( container, uniformObject ) {\r\n\r\n\t\t\tcontainer.seq.push( uniformObject );\r\n\t\t\tcontainer.map[ uniformObject.id ] = uniformObject;\r\n\r\n\t\t},\r\n\r\n\t\tparseUniform = function( activeInfo, addr, container ) {\r\n\r\n\t\t\tvar path = activeInfo.name,\r\n\t\t\t\tpathLength = path.length;\r\n\r\n\t\t\t// reset RegExp object, because of the early exit of a previous run\r\n\t\t\tRePathPart.lastIndex = 0;\r\n\r\n\t\t\tfor (; ;) {\r\n\r\n\t\t\t\tvar match = RePathPart.exec( path ),\r\n\t\t\t\t\tmatchEnd = RePathPart.lastIndex,\r\n\r\n\t\t\t\t\tid = match[ 1 ],\r\n\t\t\t\t\tidIsIndex = match[ 2 ] === ']',\r\n\t\t\t\t\tsubscript = match[ 3 ];\r\n\r\n\t\t\t\tif ( idIsIndex ) id = id | 0; // convert to integer\r\n\r\n\t\t\t\tif ( subscript === undefined ||\r\n\t\t\t\t\t\tsubscript === '[' && matchEnd + 2 === pathLength ) {\r\n\t\t\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\r\n\r\n\t\t\t\t\taddUniform( container, subscript === undefined ?\r\n\t\t\t\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\r\n\t\t\t\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// step into inner node / create it in case it doesn't exist\r\n\r\n\t\t\t\t\tvar map = container.map,\r\n\t\t\t\t\t\tnext = map[ id ];\r\n\r\n\t\t\t\t\tif ( next === undefined ) {\r\n\r\n\t\t\t\t\t\tnext = new StructuredUniform( id );\r\n\t\t\t\t\t\taddUniform( container, next );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcontainer = next;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t// Root Container\r\n\r\n\t\tWebGLUniforms = function WebGLUniforms( gl, program, renderer ) {\r\n\r\n\t\t\tUniformContainer.call( this );\r\n\r\n\t\t\tthis.renderer = renderer;\r\n\r\n\t\t\tvar n = gl.getProgramParameter( program, gl.ACTIVE_UNIFORMS );\r\n\r\n\t\t\tfor ( var i = 0; i !== n; ++ i ) {\r\n\r\n\t\t\t\tvar info = gl.getActiveUniform( program, i ),\r\n\t\t\t\t\tpath = info.name,\r\n\t\t\t\t\taddr = gl.getUniformLocation( program, path );\r\n\r\n\t\t\t\tparseUniform( info, addr, this );\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\r\n\tWebGLUniforms.prototype.setValue = function( gl, name, value ) {\r\n\r\n\t\tvar u = this.map[ name ];\r\n\r\n\t\tif ( u !== undefined ) u.setValue( gl, value, this.renderer );\r\n\r\n\t};\r\n\r\n\tWebGLUniforms.prototype.set = function( gl, object, name ) {\r\n\r\n\t\tvar u = this.map[ name ];\r\n\r\n\t\tif ( u !== undefined ) u.setValue( gl, object[ name ], this.renderer );\r\n\r\n\t};\r\n\r\n\tWebGLUniforms.prototype.setOptional = function( gl, object, name ) {\r\n\r\n\t\tvar v = object[ name ];\r\n\r\n\t\tif ( v !== undefined ) this.setValue( gl, name, v );\r\n\r\n\t};\r\n\r\n\r\n\t// Static interface\r\n\r\n\tWebGLUniforms.upload = function( gl, seq, values, renderer ) {\r\n\r\n\t\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\r\n\r\n\t\t\tvar u = seq[ i ],\r\n\t\t\t\tv = values[ u.id ];\r\n\r\n\t\t\tif ( v.needsUpdate !== false ) {\r\n\t\t\t\t// note: always updating when .needsUpdate is undefined\r\n\r\n\t\t\t\tu.setValue( gl, v.value, renderer );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tWebGLUniforms.seqWithValue = function( seq, values ) {\r\n\r\n\t\tvar r = [];\r\n\r\n\t\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\r\n\r\n\t\t\tvar u = seq[ i ];\r\n\t\t\tif ( u.id in values ) r.push( u );\r\n\r\n\t\t}\r\n\r\n\t\treturn r;\r\n\r\n\t};\r\n\r\n\tWebGLUniforms.splitDynamic = function( seq, values ) {\r\n\r\n\t\tvar r = null,\r\n\t\t\tn = seq.length,\r\n\t\t\tw = 0;\r\n\r\n\t\tfor ( var i = 0; i !== n; ++ i ) {\r\n\r\n\t\t\tvar u = seq[ i ],\r\n\t\t\t\tv = values[ u.id ];\r\n\r\n\t\t\tif ( v && v.dynamic === true ) {\r\n\r\n\t\t\t\tif ( r === null ) r = [];\r\n\t\t\t\tr.push( u );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// in-place compact 'seq', removing the matches\r\n\t\t\t\tif ( w < i ) seq[ w ] = u;\r\n\t\t\t\t++ w;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( w < n ) seq.length = w;\r\n\r\n\t\treturn r;\r\n\r\n\t};\r\n\r\n\tWebGLUniforms.evalDynamic = function( seq, values, object, camera ) {\r\n\r\n\t\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\r\n\r\n\t\t\tvar v = values[ seq[ i ].id ],\r\n\t\t\t\tf = v.onUpdateCallback;\r\n\r\n\t\t\tif ( f !== undefined ) f.call( v, object, camera );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\treturn WebGLUniforms;\r\n\r\n} )();\r\n\r\n\r\n// File:src/renderers/webgl/plugins/LensFlarePlugin.js\r\n\r\n/**\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.LensFlarePlugin = function ( renderer, flares ) {\r\n\r\n\tvar gl = renderer.context;\r\n\tvar state = renderer.state;\r\n\r\n\tvar vertexBuffer, elementBuffer;\r\n\tvar shader, program, attributes, uniforms;\r\n\r\n\tvar tempTexture, occlusionTexture;\r\n\r\n\tfunction init() {\r\n\r\n\t\tvar vertices = new Float32Array( [\r\n\t\t\t- 1, - 1,  0, 0,\r\n\t\t\t 1, - 1,  1, 0,\r\n\t\t\t 1,  1,  1, 1,\r\n\t\t\t- 1,  1,  0, 1\r\n\t\t] );\r\n\r\n\t\tvar faces = new Uint16Array( [\r\n\t\t\t0, 1, 2,\r\n\t\t\t0, 2, 3\r\n\t\t] );\r\n\r\n\t\t// buffers\r\n\r\n\t\tvertexBuffer     = gl.createBuffer();\r\n\t\telementBuffer    = gl.createBuffer();\r\n\r\n\t\tgl.bindBuffer( gl.ARRAY_BUFFER, vertexBuffer );\r\n\t\tgl.bufferData( gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW );\r\n\r\n\t\tgl.bindBuffer( gl.ELEMENT_ARRAY_BUFFER, elementBuffer );\r\n\t\tgl.bufferData( gl.ELEMENT_ARRAY_BUFFER, faces, gl.STATIC_DRAW );\r\n\r\n\t\t// textures\r\n\r\n\t\ttempTexture      = gl.createTexture();\r\n\t\tocclusionTexture = gl.createTexture();\r\n\r\n\t\tstate.bindTexture( gl.TEXTURE_2D, tempTexture );\r\n\t\tgl.texImage2D( gl.TEXTURE_2D, 0, gl.RGB, 16, 16, 0, gl.RGB, gl.UNSIGNED_BYTE, null );\r\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE );\r\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE );\r\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST );\r\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST );\r\n\r\n\t\tstate.bindTexture( gl.TEXTURE_2D, occlusionTexture );\r\n\t\tgl.texImage2D( gl.TEXTURE_2D, 0, gl.RGBA, 16, 16, 0, gl.RGBA, gl.UNSIGNED_BYTE, null );\r\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE );\r\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE );\r\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST );\r\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST );\r\n\r\n\t\tshader = {\r\n\r\n\t\t\tvertexShader: [\r\n\r\n\t\t\t\t\"uniform lowp int renderType;\",\r\n\r\n\t\t\t\t\"uniform vec3 screenPosition;\",\r\n\t\t\t\t\"uniform vec2 scale;\",\r\n\t\t\t\t\"uniform float rotation;\",\r\n\r\n\t\t\t\t\"uniform sampler2D occlusionMap;\",\r\n\r\n\t\t\t\t\"attribute vec2 position;\",\r\n\t\t\t\t\"attribute vec2 uv;\",\r\n\r\n\t\t\t\t\"varying vec2 vUV;\",\r\n\t\t\t\t\"varying float vVisibility;\",\r\n\r\n\t\t\t\t\"void main() {\",\r\n\r\n\t\t\t\t\t\"vUV = uv;\",\r\n\r\n\t\t\t\t\t\"vec2 pos = position;\",\r\n\r\n\t\t\t\t\t\"if ( renderType == 2 ) {\",\r\n\r\n\t\t\t\t\t\t\"vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\",\r\n\t\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\",\r\n\t\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\",\r\n\t\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\",\r\n\t\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\",\r\n\t\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\",\r\n\t\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\",\r\n\t\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\",\r\n\t\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\",\r\n\r\n\t\t\t\t\t\t\"vVisibility =        visibility.r / 9.0;\",\r\n\t\t\t\t\t\t\"vVisibility *= 1.0 - visibility.g / 9.0;\",\r\n\t\t\t\t\t\t\"vVisibility *=       visibility.b / 9.0;\",\r\n\t\t\t\t\t\t\"vVisibility *= 1.0 - visibility.a / 9.0;\",\r\n\r\n\t\t\t\t\t\t\"pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\",\r\n\t\t\t\t\t\t\"pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\",\r\n\r\n\t\t\t\t\t\"}\",\r\n\r\n\t\t\t\t\t\"gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\",\r\n\r\n\t\t\t\t\"}\"\r\n\r\n\t\t\t].join( \"\\n\" ),\r\n\r\n\t\t\tfragmentShader: [\r\n\r\n\t\t\t\t\"uniform lowp int renderType;\",\r\n\r\n\t\t\t\t\"uniform sampler2D map;\",\r\n\t\t\t\t\"uniform float opacity;\",\r\n\t\t\t\t\"uniform vec3 color;\",\r\n\r\n\t\t\t\t\"varying vec2 vUV;\",\r\n\t\t\t\t\"varying float vVisibility;\",\r\n\r\n\t\t\t\t\"void main() {\",\r\n\r\n\t\t\t\t\t// pink square\r\n\r\n\t\t\t\t\t\"if ( renderType == 0 ) {\",\r\n\r\n\t\t\t\t\t\t\"gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\",\r\n\r\n\t\t\t\t\t// restore\r\n\r\n\t\t\t\t\t\"} else if ( renderType == 1 ) {\",\r\n\r\n\t\t\t\t\t\t\"gl_FragColor = texture2D( map, vUV );\",\r\n\r\n\t\t\t\t\t// flare\r\n\r\n\t\t\t\t\t\"} else {\",\r\n\r\n\t\t\t\t\t\t\"vec4 texture = texture2D( map, vUV );\",\r\n\t\t\t\t\t\t\"texture.a *= opacity * vVisibility;\",\r\n\t\t\t\t\t\t\"gl_FragColor = texture;\",\r\n\t\t\t\t\t\t\"gl_FragColor.rgb *= color;\",\r\n\r\n\t\t\t\t\t\"}\",\r\n\r\n\t\t\t\t\"}\"\r\n\r\n\t\t\t].join( \"\\n\" )\r\n\r\n\t\t};\r\n\r\n\t\tprogram = createProgram( shader );\r\n\r\n\t\tattributes = {\r\n\t\t\tvertex: gl.getAttribLocation ( program, \"position\" ),\r\n\t\t\tuv:     gl.getAttribLocation ( program, \"uv\" )\r\n\t\t};\r\n\r\n\t\tuniforms = {\r\n\t\t\trenderType:     gl.getUniformLocation( program, \"renderType\" ),\r\n\t\t\tmap:            gl.getUniformLocation( program, \"map\" ),\r\n\t\t\tocclusionMap:   gl.getUniformLocation( program, \"occlusionMap\" ),\r\n\t\t\topacity:        gl.getUniformLocation( program, \"opacity\" ),\r\n\t\t\tcolor:          gl.getUniformLocation( program, \"color\" ),\r\n\t\t\tscale:          gl.getUniformLocation( program, \"scale\" ),\r\n\t\t\trotation:       gl.getUniformLocation( program, \"rotation\" ),\r\n\t\t\tscreenPosition: gl.getUniformLocation( program, \"screenPosition\" )\r\n\t\t};\r\n\r\n\t}\r\n\r\n\t/*\r\n\t * Render lens flares\r\n\t * Method: renders 16x16 0xff00ff-colored points scattered over the light source area,\r\n\t *         reads these back and calculates occlusion.\r\n\t */\r\n\r\n\tthis.render = function ( scene, camera, viewport ) {\r\n\r\n\t\tif ( flares.length === 0 ) return;\r\n\r\n\t\tvar tempPosition = new THREE.Vector3();\r\n\r\n\t\tvar invAspect = viewport.w / viewport.z,\r\n\t\t\thalfViewportWidth = viewport.z * 0.5,\r\n\t\t\thalfViewportHeight = viewport.w * 0.5;\r\n\r\n\t\tvar size = 16 / viewport.w,\r\n\t\t\tscale = new THREE.Vector2( size * invAspect, size );\r\n\r\n\t\tvar screenPosition = new THREE.Vector3( 1, 1, 0 ),\r\n\t\t\tscreenPositionPixels = new THREE.Vector2( 1, 1 );\r\n\r\n\t\tvar validArea = new THREE.Box2();\r\n\r\n\t\tvalidArea.min.set( 0, 0 );\r\n\t\tvalidArea.max.set( viewport.z - 16, viewport.w - 16 );\r\n\r\n\t\tif ( program === undefined ) {\r\n\r\n\t\t\tinit();\r\n\r\n\t\t}\r\n\r\n\t\tgl.useProgram( program );\r\n\r\n\t\tstate.initAttributes();\r\n\t\tstate.enableAttribute( attributes.vertex );\r\n\t\tstate.enableAttribute( attributes.uv );\r\n\t\tstate.disableUnusedAttributes();\r\n\r\n\t\t// loop through all lens flares to update their occlusion and positions\r\n\t\t// setup gl and common used attribs/uniforms\r\n\r\n\t\tgl.uniform1i( uniforms.occlusionMap, 0 );\r\n\t\tgl.uniform1i( uniforms.map, 1 );\r\n\r\n\t\tgl.bindBuffer( gl.ARRAY_BUFFER, vertexBuffer );\r\n\t\tgl.vertexAttribPointer( attributes.vertex, 2, gl.FLOAT, false, 2 * 8, 0 );\r\n\t\tgl.vertexAttribPointer( attributes.uv, 2, gl.FLOAT, false, 2 * 8, 8 );\r\n\r\n\t\tgl.bindBuffer( gl.ELEMENT_ARRAY_BUFFER, elementBuffer );\r\n\r\n\t\tstate.disable( gl.CULL_FACE );\r\n\t\tstate.setDepthWrite( false );\r\n\r\n\t\tfor ( var i = 0, l = flares.length; i < l; i ++ ) {\r\n\r\n\t\t\tsize = 16 / viewport.w;\r\n\t\t\tscale.set( size * invAspect, size );\r\n\r\n\t\t\t// calc object screen position\r\n\r\n\t\t\tvar flare = flares[ i ];\r\n\r\n\t\t\ttempPosition.set( flare.matrixWorld.elements[ 12 ], flare.matrixWorld.elements[ 13 ], flare.matrixWorld.elements[ 14 ] );\r\n\r\n\t\t\ttempPosition.applyMatrix4( camera.matrixWorldInverse );\r\n\t\t\ttempPosition.applyProjection( camera.projectionMatrix );\r\n\r\n\t\t\t// setup arrays for gl programs\r\n\r\n\t\t\tscreenPosition.copy( tempPosition );\r\n\r\n\t\t\t// horizontal and vertical coordinate of the lower left corner of the pixels to copy\r\n\r\n\t\t\tscreenPositionPixels.x = viewport.x + ( screenPosition.x * halfViewportWidth ) + halfViewportWidth - 8;\r\n\t\t\tscreenPositionPixels.y = viewport.y + ( screenPosition.y * halfViewportHeight ) + halfViewportHeight - 8;\r\n\r\n\t\t\t// screen cull\r\n\r\n\t\t\tif ( validArea.containsPoint( screenPositionPixels ) === true ) {\r\n\r\n\t\t\t\t// save current RGB to temp texture\r\n\r\n\t\t\t\tstate.activeTexture( gl.TEXTURE0 );\r\n\t\t\t\tstate.bindTexture( gl.TEXTURE_2D, null );\r\n\t\t\t\tstate.activeTexture( gl.TEXTURE1 );\r\n\t\t\t\tstate.bindTexture( gl.TEXTURE_2D, tempTexture );\r\n\t\t\t\tgl.copyTexImage2D( gl.TEXTURE_2D, 0, gl.RGB, screenPositionPixels.x, screenPositionPixels.y, 16, 16, 0 );\r\n\r\n\r\n\t\t\t\t// render pink quad\r\n\r\n\t\t\t\tgl.uniform1i( uniforms.renderType, 0 );\r\n\t\t\t\tgl.uniform2f( uniforms.scale, scale.x, scale.y );\r\n\t\t\t\tgl.uniform3f( uniforms.screenPosition, screenPosition.x, screenPosition.y, screenPosition.z );\r\n\r\n\t\t\t\tstate.disable( gl.BLEND );\r\n\t\t\t\tstate.enable( gl.DEPTH_TEST );\r\n\r\n\t\t\t\tgl.drawElements( gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0 );\r\n\r\n\r\n\t\t\t\t// copy result to occlusionMap\r\n\r\n\t\t\t\tstate.activeTexture( gl.TEXTURE0 );\r\n\t\t\t\tstate.bindTexture( gl.TEXTURE_2D, occlusionTexture );\r\n\t\t\t\tgl.copyTexImage2D( gl.TEXTURE_2D, 0, gl.RGBA, screenPositionPixels.x, screenPositionPixels.y, 16, 16, 0 );\r\n\r\n\r\n\t\t\t\t// restore graphics\r\n\r\n\t\t\t\tgl.uniform1i( uniforms.renderType, 1 );\r\n\t\t\t\tstate.disable( gl.DEPTH_TEST );\r\n\r\n\t\t\t\tstate.activeTexture( gl.TEXTURE1 );\r\n\t\t\t\tstate.bindTexture( gl.TEXTURE_2D, tempTexture );\r\n\t\t\t\tgl.drawElements( gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0 );\r\n\r\n\r\n\t\t\t\t// update object positions\r\n\r\n\t\t\t\tflare.positionScreen.copy( screenPosition );\r\n\r\n\t\t\t\tif ( flare.customUpdateCallback ) {\r\n\r\n\t\t\t\t\tflare.customUpdateCallback( flare );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tflare.updateLensFlares();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// render flares\r\n\r\n\t\t\t\tgl.uniform1i( uniforms.renderType, 2 );\r\n\t\t\t\tstate.enable( gl.BLEND );\r\n\r\n\t\t\t\tfor ( var j = 0, jl = flare.lensFlares.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\tvar sprite = flare.lensFlares[ j ];\r\n\r\n\t\t\t\t\tif ( sprite.opacity > 0.001 && sprite.scale > 0.001 ) {\r\n\r\n\t\t\t\t\t\tscreenPosition.x = sprite.x;\r\n\t\t\t\t\t\tscreenPosition.y = sprite.y;\r\n\t\t\t\t\t\tscreenPosition.z = sprite.z;\r\n\r\n\t\t\t\t\t\tsize = sprite.size * sprite.scale / viewport.w;\r\n\r\n\t\t\t\t\t\tscale.x = size * invAspect;\r\n\t\t\t\t\t\tscale.y = size;\r\n\r\n\t\t\t\t\t\tgl.uniform3f( uniforms.screenPosition, screenPosition.x, screenPosition.y, screenPosition.z );\r\n\t\t\t\t\t\tgl.uniform2f( uniforms.scale, scale.x, scale.y );\r\n\t\t\t\t\t\tgl.uniform1f( uniforms.rotation, sprite.rotation );\r\n\r\n\t\t\t\t\t\tgl.uniform1f( uniforms.opacity, sprite.opacity );\r\n\t\t\t\t\t\tgl.uniform3f( uniforms.color, sprite.color.r, sprite.color.g, sprite.color.b );\r\n\r\n\t\t\t\t\t\tstate.setBlending( sprite.blending, sprite.blendEquation, sprite.blendSrc, sprite.blendDst );\r\n\t\t\t\t\t\trenderer.setTexture2D( sprite.texture, 1 );\r\n\r\n\t\t\t\t\t\tgl.drawElements( gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// restore gl\r\n\r\n\t\tstate.enable( gl.CULL_FACE );\r\n\t\tstate.enable( gl.DEPTH_TEST );\r\n\t\tstate.setDepthWrite( true );\r\n\r\n\t\trenderer.resetGLState();\r\n\r\n\t};\r\n\r\n\tfunction createProgram ( shader ) {\r\n\r\n\t\tvar program = gl.createProgram();\r\n\r\n\t\tvar fragmentShader = gl.createShader( gl.FRAGMENT_SHADER );\r\n\t\tvar vertexShader = gl.createShader( gl.VERTEX_SHADER );\r\n\r\n\t\tvar prefix = \"precision \" + renderer.getPrecision() + \" float;\\n\";\r\n\r\n\t\tgl.shaderSource( fragmentShader, prefix + shader.fragmentShader );\r\n\t\tgl.shaderSource( vertexShader, prefix + shader.vertexShader );\r\n\r\n\t\tgl.compileShader( fragmentShader );\r\n\t\tgl.compileShader( vertexShader );\r\n\r\n\t\tgl.attachShader( program, fragmentShader );\r\n\t\tgl.attachShader( program, vertexShader );\r\n\r\n\t\tgl.linkProgram( program );\r\n\r\n\t\treturn program;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/renderers/webgl/plugins/SpritePlugin.js\r\n\r\n/**\r\n * @author mikael emtinger / http://gomo.se/\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.SpritePlugin = function ( renderer, sprites ) {\r\n\r\n\tvar gl = renderer.context;\r\n\tvar state = renderer.state;\r\n\r\n\tvar vertexBuffer, elementBuffer;\r\n\tvar program, attributes, uniforms;\r\n\r\n\tvar texture;\r\n\r\n\t// decompose matrixWorld\r\n\r\n\tvar spritePosition = new THREE.Vector3();\r\n\tvar spriteRotation = new THREE.Quaternion();\r\n\tvar spriteScale = new THREE.Vector3();\r\n\r\n\tfunction init() {\r\n\r\n\t\tvar vertices = new Float32Array( [\r\n\t\t\t- 0.5, - 0.5,  0, 0,\r\n\t\t\t  0.5, - 0.5,  1, 0,\r\n\t\t\t  0.5,   0.5,  1, 1,\r\n\t\t\t- 0.5,   0.5,  0, 1\r\n\t\t] );\r\n\r\n\t\tvar faces = new Uint16Array( [\r\n\t\t\t0, 1, 2,\r\n\t\t\t0, 2, 3\r\n\t\t] );\r\n\r\n\t\tvertexBuffer  = gl.createBuffer();\r\n\t\telementBuffer = gl.createBuffer();\r\n\r\n\t\tgl.bindBuffer( gl.ARRAY_BUFFER, vertexBuffer );\r\n\t\tgl.bufferData( gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW );\r\n\r\n\t\tgl.bindBuffer( gl.ELEMENT_ARRAY_BUFFER, elementBuffer );\r\n\t\tgl.bufferData( gl.ELEMENT_ARRAY_BUFFER, faces, gl.STATIC_DRAW );\r\n\r\n\t\tprogram = createProgram();\r\n\r\n\t\tattributes = {\r\n\t\t\tposition:\t\t\tgl.getAttribLocation ( program, 'position' ),\r\n\t\t\tuv:\t\t\t\t\tgl.getAttribLocation ( program, 'uv' )\r\n\t\t};\r\n\r\n\t\tuniforms = {\r\n\t\t\tuvOffset:\t\t\tgl.getUniformLocation( program, 'uvOffset' ),\r\n\t\t\tuvScale:\t\t\tgl.getUniformLocation( program, 'uvScale' ),\r\n\r\n\t\t\trotation:\t\t\tgl.getUniformLocation( program, 'rotation' ),\r\n\t\t\tscale:\t\t\t\tgl.getUniformLocation( program, 'scale' ),\r\n\r\n\t\t\tcolor:\t\t\t\tgl.getUniformLocation( program, 'color' ),\r\n\t\t\tmap:\t\t\t\tgl.getUniformLocation( program, 'map' ),\r\n\t\t\topacity:\t\t\tgl.getUniformLocation( program, 'opacity' ),\r\n\r\n\t\t\tmodelViewMatrix: \tgl.getUniformLocation( program, 'modelViewMatrix' ),\r\n\t\t\tprojectionMatrix:\tgl.getUniformLocation( program, 'projectionMatrix' ),\r\n\r\n\t\t\tfogType:\t\t\tgl.getUniformLocation( program, 'fogType' ),\r\n\t\t\tfogDensity:\t\t\tgl.getUniformLocation( program, 'fogDensity' ),\r\n\t\t\tfogNear:\t\t\tgl.getUniformLocation( program, 'fogNear' ),\r\n\t\t\tfogFar:\t\t\t\tgl.getUniformLocation( program, 'fogFar' ),\r\n\t\t\tfogColor:\t\t\tgl.getUniformLocation( program, 'fogColor' ),\r\n\r\n\t\t\talphaTest:\t\t\tgl.getUniformLocation( program, 'alphaTest' )\r\n\t\t};\r\n\r\n\t\tvar canvas = document.createElement( 'canvas' );\r\n\t\tcanvas.width = 8;\r\n\t\tcanvas.height = 8;\r\n\r\n\t\tvar context = canvas.getContext( '2d' );\r\n\t\tcontext.fillStyle = 'white';\r\n\t\tcontext.fillRect( 0, 0, 8, 8 );\r\n\r\n\t\ttexture = new THREE.Texture( canvas );\r\n\t\ttexture.needsUpdate = true;\r\n\r\n\t}\r\n\r\n\tthis.render = function ( scene, camera ) {\r\n\r\n\t\tif ( sprites.length === 0 ) return;\r\n\r\n\t\t// setup gl\r\n\r\n\t\tif ( program === undefined ) {\r\n\r\n\t\t\tinit();\r\n\r\n\t\t}\r\n\r\n\t\tgl.useProgram( program );\r\n\r\n\t\tstate.initAttributes();\r\n\t\tstate.enableAttribute( attributes.position );\r\n\t\tstate.enableAttribute( attributes.uv );\r\n\t\tstate.disableUnusedAttributes();\r\n\r\n\t\tstate.disable( gl.CULL_FACE );\r\n\t\tstate.enable( gl.BLEND );\r\n\r\n\t\tgl.bindBuffer( gl.ARRAY_BUFFER, vertexBuffer );\r\n\t\tgl.vertexAttribPointer( attributes.position, 2, gl.FLOAT, false, 2 * 8, 0 );\r\n\t\tgl.vertexAttribPointer( attributes.uv, 2, gl.FLOAT, false, 2 * 8, 8 );\r\n\r\n\t\tgl.bindBuffer( gl.ELEMENT_ARRAY_BUFFER, elementBuffer );\r\n\r\n\t\tgl.uniformMatrix4fv( uniforms.projectionMatrix, false, camera.projectionMatrix.elements );\r\n\r\n\t\tstate.activeTexture( gl.TEXTURE0 );\r\n\t\tgl.uniform1i( uniforms.map, 0 );\r\n\r\n\t\tvar oldFogType = 0;\r\n\t\tvar sceneFogType = 0;\r\n\t\tvar fog = scene.fog;\r\n\r\n\t\tif ( fog ) {\r\n\r\n\t\t\tgl.uniform3f( uniforms.fogColor, fog.color.r, fog.color.g, fog.color.b );\r\n\r\n\t\t\tif ( fog instanceof THREE.Fog ) {\r\n\r\n\t\t\t\tgl.uniform1f( uniforms.fogNear, fog.near );\r\n\t\t\t\tgl.uniform1f( uniforms.fogFar, fog.far );\r\n\r\n\t\t\t\tgl.uniform1i( uniforms.fogType, 1 );\r\n\t\t\t\toldFogType = 1;\r\n\t\t\t\tsceneFogType = 1;\r\n\r\n\t\t\t} else if ( fog instanceof THREE.FogExp2 ) {\r\n\r\n\t\t\t\tgl.uniform1f( uniforms.fogDensity, fog.density );\r\n\r\n\t\t\t\tgl.uniform1i( uniforms.fogType, 2 );\r\n\t\t\t\toldFogType = 2;\r\n\t\t\t\tsceneFogType = 2;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tgl.uniform1i( uniforms.fogType, 0 );\r\n\t\t\toldFogType = 0;\r\n\t\t\tsceneFogType = 0;\r\n\r\n\t\t}\r\n\r\n\r\n\t\t// update positions and sort\r\n\r\n\t\tfor ( var i = 0, l = sprites.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar sprite = sprites[ i ];\r\n\r\n\t\t\tsprite.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, sprite.matrixWorld );\r\n\t\t\tsprite.z = - sprite.modelViewMatrix.elements[ 14 ];\r\n\r\n\t\t}\r\n\r\n\t\tsprites.sort( painterSortStable );\r\n\r\n\t\t// render all sprites\r\n\r\n\t\tvar scale = [];\r\n\r\n\t\tfor ( var i = 0, l = sprites.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar sprite = sprites[ i ];\r\n\t\t\tvar material = sprite.material;\r\n\r\n\t\t\tgl.uniform1f( uniforms.alphaTest, material.alphaTest );\r\n\t\t\tgl.uniformMatrix4fv( uniforms.modelViewMatrix, false, sprite.modelViewMatrix.elements );\r\n\r\n\t\t\tsprite.matrixWorld.decompose( spritePosition, spriteRotation, spriteScale );\r\n\r\n\t\t\tscale[ 0 ] = spriteScale.x;\r\n\t\t\tscale[ 1 ] = spriteScale.y;\r\n\r\n\t\t\tvar fogType = 0;\r\n\r\n\t\t\tif ( scene.fog && material.fog ) {\r\n\r\n\t\t\t\tfogType = sceneFogType;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( oldFogType !== fogType ) {\r\n\r\n\t\t\t\tgl.uniform1i( uniforms.fogType, fogType );\r\n\t\t\t\toldFogType = fogType;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( material.map !== null ) {\r\n\r\n\t\t\t\tgl.uniform2f( uniforms.uvOffset, material.map.offset.x, material.map.offset.y );\r\n\t\t\t\tgl.uniform2f( uniforms.uvScale, material.map.repeat.x, material.map.repeat.y );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tgl.uniform2f( uniforms.uvOffset, 0, 0 );\r\n\t\t\t\tgl.uniform2f( uniforms.uvScale, 1, 1 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgl.uniform1f( uniforms.opacity, material.opacity );\r\n\t\t\tgl.uniform3f( uniforms.color, material.color.r, material.color.g, material.color.b );\r\n\r\n\t\t\tgl.uniform1f( uniforms.rotation, material.rotation );\r\n\t\t\tgl.uniform2fv( uniforms.scale, scale );\r\n\r\n\t\t\tstate.setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst );\r\n\t\t\tstate.setDepthTest( material.depthTest );\r\n\t\t\tstate.setDepthWrite( material.depthWrite );\r\n\r\n\t\t\tif ( material.map ) {\r\n\r\n\t\t\t\trenderer.setTexture2D( material.map, 0 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\trenderer.setTexture2D( texture, 0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgl.drawElements( gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0 );\r\n\r\n\t\t}\r\n\r\n\t\t// restore gl\r\n\r\n\t\tstate.enable( gl.CULL_FACE );\r\n\r\n\t\trenderer.resetGLState();\r\n\r\n\t};\r\n\r\n\tfunction createProgram () {\r\n\r\n\t\tvar program = gl.createProgram();\r\n\r\n\t\tvar vertexShader = gl.createShader( gl.VERTEX_SHADER );\r\n\t\tvar fragmentShader = gl.createShader( gl.FRAGMENT_SHADER );\r\n\r\n\t\tgl.shaderSource( vertexShader, [\r\n\r\n\t\t\t'precision ' + renderer.getPrecision() + ' float;',\r\n\r\n\t\t\t'uniform mat4 modelViewMatrix;',\r\n\t\t\t'uniform mat4 projectionMatrix;',\r\n\t\t\t'uniform float rotation;',\r\n\t\t\t'uniform vec2 scale;',\r\n\t\t\t'uniform vec2 uvOffset;',\r\n\t\t\t'uniform vec2 uvScale;',\r\n\r\n\t\t\t'attribute vec2 position;',\r\n\t\t\t'attribute vec2 uv;',\r\n\r\n\t\t\t'varying vec2 vUV;',\r\n\r\n\t\t\t'void main() {',\r\n\r\n\t\t\t\t'vUV = uvOffset + uv * uvScale;',\r\n\r\n\t\t\t\t'vec2 alignedPosition = position * scale;',\r\n\r\n\t\t\t\t'vec2 rotatedPosition;',\r\n\t\t\t\t'rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;',\r\n\t\t\t\t'rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;',\r\n\r\n\t\t\t\t'vec4 finalPosition;',\r\n\r\n\t\t\t\t'finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );',\r\n\t\t\t\t'finalPosition.xy += rotatedPosition;',\r\n\t\t\t\t'finalPosition = projectionMatrix * finalPosition;',\r\n\r\n\t\t\t\t'gl_Position = finalPosition;',\r\n\r\n\t\t\t'}'\r\n\r\n\t\t].join( '\\n' ) );\r\n\r\n\t\tgl.shaderSource( fragmentShader, [\r\n\r\n\t\t\t'precision ' + renderer.getPrecision() + ' float;',\r\n\r\n\t\t\t'uniform vec3 color;',\r\n\t\t\t'uniform sampler2D map;',\r\n\t\t\t'uniform float opacity;',\r\n\r\n\t\t\t'uniform int fogType;',\r\n\t\t\t'uniform vec3 fogColor;',\r\n\t\t\t'uniform float fogDensity;',\r\n\t\t\t'uniform float fogNear;',\r\n\t\t\t'uniform float fogFar;',\r\n\t\t\t'uniform float alphaTest;',\r\n\r\n\t\t\t'varying vec2 vUV;',\r\n\r\n\t\t\t'void main() {',\r\n\r\n\t\t\t\t'vec4 texture = texture2D( map, vUV );',\r\n\r\n\t\t\t\t'if ( texture.a < alphaTest ) discard;',\r\n\r\n\t\t\t\t'gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );',\r\n\r\n\t\t\t\t'if ( fogType > 0 ) {',\r\n\r\n\t\t\t\t\t'float depth = gl_FragCoord.z / gl_FragCoord.w;',\r\n\t\t\t\t\t'float fogFactor = 0.0;',\r\n\r\n\t\t\t\t\t'if ( fogType == 1 ) {',\r\n\r\n\t\t\t\t\t\t'fogFactor = smoothstep( fogNear, fogFar, depth );',\r\n\r\n\t\t\t\t\t'} else {',\r\n\r\n\t\t\t\t\t\t'const float LOG2 = 1.442695;',\r\n\t\t\t\t\t\t'fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );',\r\n\t\t\t\t\t\t'fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );',\r\n\r\n\t\t\t\t\t'}',\r\n\r\n\t\t\t\t\t'gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );',\r\n\r\n\t\t\t\t'}',\r\n\r\n\t\t\t'}'\r\n\r\n\t\t].join( '\\n' ) );\r\n\r\n\t\tgl.compileShader( vertexShader );\r\n\t\tgl.compileShader( fragmentShader );\r\n\r\n\t\tgl.attachShader( program, vertexShader );\r\n\t\tgl.attachShader( program, fragmentShader );\r\n\r\n\t\tgl.linkProgram( program );\r\n\r\n\t\treturn program;\r\n\r\n\t}\r\n\r\n\tfunction painterSortStable ( a, b ) {\r\n\t\t\r\n\t\tif ( a.renderOrder !== b.renderOrder ) {\r\n\r\n\t\t\treturn a.renderOrder - b.renderOrder;\r\n\r\n\t\t} else if ( a.z !== b.z ) {\r\n\r\n\t\t\treturn b.z - a.z;\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn b.id - a.id;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/Three.Legacy.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nObject.assign( THREE, {\r\n\tFace4: function ( a, b, c, d, normal, color, materialIndex ) {\r\n\t\tconsole.warn( 'THREE.Face4 has been removed. A THREE.Face3 will be created instead.' );\r\n\t\treturn new THREE.Face3( a, b, c, normal, color, materialIndex );\r\n\t},\r\n\tLineStrip: 0,\r\n\tLinePieces: 1,\r\n\tMeshFaceMaterial: THREE.MultiMaterial,\r\n\tPointCloud: function ( geometry, material ) {\r\n\t\tconsole.warn( 'THREE.PointCloud has been renamed to THREE.Points.' );\r\n\t\treturn new THREE.Points( geometry, material );\r\n\t},\r\n\tParticle: THREE.Sprite,\r\n\tParticleSystem: function ( geometry, material ) {\r\n\t\tconsole.warn( 'THREE.ParticleSystem has been renamed to THREE.Points.' );\r\n\t\treturn new THREE.Points( geometry, material );\r\n\t},\r\n\tPointCloudMaterial: function ( parameters ) {\r\n\t\tconsole.warn( 'THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.' );\r\n\t\treturn new THREE.PointsMaterial( parameters );\r\n\t},\r\n\tParticleBasicMaterial: function ( parameters ) {\r\n\t\tconsole.warn( 'THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.' );\r\n\t\treturn new THREE.PointsMaterial( parameters );\r\n\t},\r\n\tParticleSystemMaterial: function ( parameters ) {\r\n\t\tconsole.warn( 'THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.' );\r\n\t\treturn new THREE.PointsMaterial( parameters );\r\n\t},\r\n\tVertex: function ( x, y, z ) {\r\n\t\tconsole.warn( 'THREE.Vertex has been removed. Use THREE.Vector3 instead.' );\r\n\t\treturn new THREE.Vector3( x, y, z );\r\n\t}\r\n} );\r\n\r\n//\r\n\r\nObject.assign( THREE.Box2.prototype, {\r\n\tempty: function () {\r\n\t\tconsole.warn( 'THREE.Box2: .empty() has been renamed to .isEmpty().' );\r\n\t\treturn this.isEmpty();\r\n\t},\r\n\tisIntersectionBox: function ( box ) {\r\n\t\tconsole.warn( 'THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().' );\r\n\t\treturn this.intersectsBox( box );\r\n\t}\r\n} );\r\n\r\nObject.assign( THREE.Box3.prototype, {\r\n\tempty: function () {\r\n\t\tconsole.warn( 'THREE.Box3: .empty() has been renamed to .isEmpty().' );\r\n\t\treturn this.isEmpty();\r\n\t},\r\n\tisIntersectionBox: function ( box ) {\r\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().' );\r\n\t\treturn this.intersectsBox( box );\r\n\t},\r\n\tisIntersectionSphere: function ( sphere ) {\r\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\r\n\t\treturn this.intersectsSphere( sphere );\r\n\t}\r\n} );\r\n\r\nObject.assign( THREE.Matrix3.prototype, {\r\n\tmultiplyVector3: function ( vector ) {\r\n\t\tconsole.warn( 'THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\r\n\t\treturn vector.applyMatrix3( this );\r\n\t},\r\n\tmultiplyVector3Array: function ( a ) {\r\n\t\tconsole.warn( 'THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.' );\r\n\t\treturn this.applyToVector3Array( a );\r\n\t}\r\n} );\r\n\r\nObject.assign( THREE.Matrix4.prototype, {\r\n\textractPosition: function ( m ) {\r\n\t\tconsole.warn( 'THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().' );\r\n\t\treturn this.copyPosition( m );\r\n\t},\r\n\tsetRotationFromQuaternion: function ( q ) {\r\n\t\tconsole.warn( 'THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().' );\r\n\t\treturn this.makeRotationFromQuaternion( q );\r\n\t},\r\n\tmultiplyVector3: function ( vector ) {\r\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.' );\r\n\t\treturn vector.applyProjection( this );\r\n\t},\r\n\tmultiplyVector4: function ( vector ) {\r\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\r\n\t\treturn vector.applyMatrix4( this );\r\n\t},\r\n\tmultiplyVector3Array: function ( a ) {\r\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.' );\r\n\t\treturn this.applyToVector3Array( a );\r\n\t},\r\n\trotateAxis: function ( v ) {\r\n\t\tconsole.warn( 'THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\r\n\t\tv.transformDirection( this );\r\n\t},\r\n\tcrossVector: function ( vector ) {\r\n\t\tconsole.warn( 'THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\r\n\t\treturn vector.applyMatrix4( this );\r\n\t},\r\n\ttranslate: function ( v ) {\r\n\t\tconsole.error( 'THREE.Matrix4: .translate() has been removed.' );\r\n\t},\r\n\trotateX: function ( angle ) {\r\n\t\tconsole.error( 'THREE.Matrix4: .rotateX() has been removed.' );\r\n\t},\r\n\trotateY: function ( angle ) {\r\n\t\tconsole.error( 'THREE.Matrix4: .rotateY() has been removed.' );\r\n\t},\r\n\trotateZ: function ( angle ) {\r\n\t\tconsole.error( 'THREE.Matrix4: .rotateZ() has been removed.' );\r\n\t},\r\n\trotateByAxis: function ( axis, angle ) {\r\n\t\tconsole.error( 'THREE.Matrix4: .rotateByAxis() has been removed.' );\r\n\t}\r\n} );\r\n\r\nObject.assign( THREE.Plane.prototype, {\r\n\tisIntersectionLine: function ( line ) {\r\n\t\tconsole.warn( 'THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().' );\r\n\t\treturn this.intersectsLine( line );\r\n\t}\r\n} );\r\n\r\nObject.assign( THREE.Quaternion.prototype, {\r\n\tmultiplyVector3: function ( vector ) {\r\n\t\tconsole.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\r\n\t\treturn vector.applyQuaternion( this );\r\n\t}\r\n} );\r\n\r\nObject.assign( THREE.Ray.prototype, {\r\n\tisIntersectionBox: function ( box ) {\r\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().' );\r\n\t\treturn this.intersectsBox( box );\r\n\t},\r\n\tisIntersectionPlane: function ( plane ) {\r\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().' );\r\n\t\treturn this.intersectsPlane( plane );\r\n\t},\r\n\tisIntersectionSphere: function ( sphere ) {\r\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\r\n\t\treturn this.intersectsSphere( sphere );\r\n\t}\r\n} );\r\n\r\nObject.assign( THREE.Vector3.prototype, {\r\n\tsetEulerFromRotationMatrix: function () {\r\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\r\n\t},\r\n\tsetEulerFromQuaternion: function () {\r\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\r\n\t},\r\n\tgetPositionFromMatrix: function ( m ) {\r\n\t\tconsole.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\r\n\t\treturn this.setFromMatrixPosition( m );\r\n\t},\r\n\tgetScaleFromMatrix: function ( m ) {\r\n\t\tconsole.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\r\n\t\treturn this.setFromMatrixScale( m );\r\n\t},\r\n\tgetColumnFromMatrix: function ( index, matrix ) {\r\n\t\tconsole.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\r\n\t\treturn this.setFromMatrixColumn( matrix, index );\r\n\t}\r\n} );\r\n\r\n//\r\n\r\nObject.assign( THREE.Object3D.prototype, {\r\n\tgetChildByName: function ( name ) {\r\n\t\tconsole.warn( 'THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().' );\r\n\t\treturn this.getObjectByName( name );\r\n\t},\r\n\trenderDepth: function ( value ) {\r\n\t\tconsole.warn( 'THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.' );\r\n\t},\r\n\ttranslate: function ( distance, axis ) {\r\n\t\tconsole.warn( 'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.' );\r\n\t\treturn this.translateOnAxis( axis, distance );\r\n\t}\r\n} );\r\n\r\nObject.defineProperties( THREE.Object3D.prototype, {\r\n\teulerOrder: {\r\n\t\tget: function () {\r\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\r\n\t\t\treturn this.rotation.order;\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\r\n\t\t\tthis.rotation.order = value;\r\n\t\t}\r\n\t},\r\n\tuseQuaternion: {\r\n\t\tget: function () {\r\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\r\n\t\t}\r\n\t}\r\n} );\r\n\r\nObject.defineProperties( THREE.LOD.prototype, {\r\n\tobjects: {\r\n\t\tget: function () {\r\n\t\t\tconsole.warn( 'THREE.LOD: .objects has been renamed to .levels.' );\r\n\t\t\treturn this.levels;\r\n\t\t}\r\n\t}\r\n} );\r\n\r\n//\r\n\r\nTHREE.PerspectiveCamera.prototype.setLens = function ( focalLength, filmGauge ) {\r\n\r\n\tconsole.warn( \"THREE.PerspectiveCamera.setLens is deprecated. \" +\r\n\t\t\t\"Use .setFocalLength and .filmGauge for a photographic setup.\" );\r\n\r\n\tif ( filmGauge !== undefined ) this.filmGauge = filmGauge;\r\n\tthis.setFocalLength( focalLength );\r\n\r\n};\r\n\r\n//\r\n\r\nObject.defineProperties( THREE.Light.prototype, {\r\n\tonlyShadow: {\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.Light: .onlyShadow has been removed.' );\r\n\t\t}\r\n\t},\r\n\tshadowCameraFov: {\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFov is now .shadow.camera.fov.' );\r\n\t\t\tthis.shadow.camera.fov = value;\r\n\t\t}\r\n\t},\r\n\tshadowCameraLeft: {\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraLeft is now .shadow.camera.left.' );\r\n\t\t\tthis.shadow.camera.left = value;\r\n\t\t}\r\n\t},\r\n\tshadowCameraRight: {\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraRight is now .shadow.camera.right.' );\r\n\t\t\tthis.shadow.camera.right = value;\r\n\t\t}\r\n\t},\r\n\tshadowCameraTop: {\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraTop is now .shadow.camera.top.' );\r\n\t\t\tthis.shadow.camera.top = value;\r\n\t\t}\r\n\t},\r\n\tshadowCameraBottom: {\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.' );\r\n\t\t\tthis.shadow.camera.bottom = value;\r\n\t\t}\r\n\t},\r\n\tshadowCameraNear: {\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraNear is now .shadow.camera.near.' );\r\n\t\t\tthis.shadow.camera.near = value;\r\n\t\t}\r\n\t},\r\n\tshadowCameraFar: {\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFar is now .shadow.camera.far.' );\r\n\t\t\tthis.shadow.camera.far = value;\r\n\t\t}\r\n\t},\r\n\tshadowCameraVisible: {\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.' );\r\n\t\t}\r\n\t},\r\n\tshadowBias: {\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowBias is now .shadow.bias.' );\r\n\t\t\tthis.shadow.bias = value;\r\n\t\t}\r\n\t},\r\n\tshadowDarkness: {\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowDarkness has been removed.' );\r\n\t\t}\r\n\t},\r\n\tshadowMapWidth: {\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.' );\r\n\t\t\tthis.shadow.mapSize.width = value;\r\n\t\t}\r\n\t},\r\n\tshadowMapHeight: {\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.' );\r\n\t\t\tthis.shadow.mapSize.height = value;\r\n\t\t}\r\n\t}\r\n} );\r\n\r\n//\r\n\r\nObject.defineProperties( THREE.BufferAttribute.prototype, {\r\n\tlength: {\r\n\t\tget: function () {\r\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .length has been deprecated. Please use .count.' );\r\n\t\t\treturn this.array.length;\r\n\t\t}\r\n\t}\r\n} );\r\n\r\nObject.assign( THREE.BufferGeometry.prototype, {\r\n\taddIndex: function ( index ) {\r\n\t\tconsole.warn( 'THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().' );\r\n\t\tthis.setIndex( index );\r\n\t},\r\n\taddDrawCall: function ( start, count, indexOffset ) {\r\n\t\tif ( indexOffset !== undefined ) {\r\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.' );\r\n\t\t}\r\n\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() is now .addGroup().' );\r\n\t\tthis.addGroup( start, count );\r\n\t},\r\n\tclearDrawCalls: function () {\r\n\t\tconsole.warn( 'THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().' );\r\n\t\tthis.clearGroups();\r\n\t},\r\n\tcomputeTangents: function () {\r\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeTangents() has been removed.' );\r\n\t},\r\n\tcomputeOffsets: function () {\r\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeOffsets() has been removed.' );\r\n\t}\r\n} );\r\n\r\nObject.defineProperties( THREE.BufferGeometry.prototype, {\r\n\tdrawcalls: {\r\n\t\tget: function () {\r\n\t\t\tconsole.error( 'THREE.BufferGeometry: .drawcalls has been renamed to .groups.' );\r\n\t\t\treturn this.groups;\r\n\t\t}\r\n\t},\r\n\toffsets: {\r\n\t\tget: function () {\r\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .offsets has been renamed to .groups.' );\r\n\t\t\treturn this.groups;\r\n\t\t}\r\n\t}\r\n} );\r\n\r\n//\r\n\r\nObject.defineProperties( THREE.Material.prototype, {\r\n\twrapAround: {\r\n\t\tget: function () {\r\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .wrapAround has been removed.' );\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .wrapAround has been removed.' );\r\n\t\t}\r\n\t},\r\n\twrapRGB: {\r\n\t\tget: function () {\r\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .wrapRGB has been removed.' );\r\n\t\t\treturn new THREE.Color();\r\n\t\t}\r\n\t}\r\n} );\r\n\r\nObject.defineProperties( THREE.MeshPhongMaterial.prototype, {\r\n\tmetal: {\r\n\t\tget: function () {\r\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.' );\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead' );\r\n\t\t}\r\n\t}\r\n} );\r\n\r\nObject.defineProperties( THREE.ShaderMaterial.prototype, {\r\n\tderivatives: {\r\n\t\tget: function () {\r\n\t\t\tconsole.warn( 'THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\r\n\t\t\treturn this.extensions.derivatives;\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\r\n\t\t\tthis.extensions.derivatives = value;\r\n\t\t}\r\n\t}\r\n} );\r\n\r\n//\r\n\r\nTHREE.EventDispatcher.prototype = Object.assign( Object.create( {\r\n\r\n\t// Note: Extra base ensures these properties are not 'assign'ed.\r\n\r\n\tconstructor: THREE.EventDispatcher,\r\n\r\n\tapply: function ( target ) {\r\n\r\n\t\tconsole.warn( \"THREE.EventDispatcher: .apply is deprecated, \" +\r\n\t\t\t\t\"just inherit or Object.assign the prototype to mix-in.\" );\r\n\r\n\t\tObject.assign( target, this );\r\n\r\n\t}\r\n\r\n} ), THREE.EventDispatcher.prototype );\r\n\r\n//\r\n\r\nObject.assign( THREE.WebGLRenderer.prototype, {\r\n\tsupportsFloatTextures: function () {\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).' );\r\n\t\treturn this.extensions.get( 'OES_texture_float' );\r\n\t},\r\n\tsupportsHalfFloatTextures: function () {\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).' );\r\n\t\treturn this.extensions.get( 'OES_texture_half_float' );\r\n\t},\r\n\tsupportsStandardDerivatives: function () {\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).' );\r\n\t\treturn this.extensions.get( 'OES_standard_derivatives' );\r\n\t},\r\n\tsupportsCompressedTextureS3TC: function () {\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).' );\r\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_s3tc' );\r\n\t},\r\n\tsupportsCompressedTexturePVRTC: function () {\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).' );\r\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_pvrtc' );\r\n\t},\r\n\tsupportsBlendMinMax: function () {\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).' );\r\n\t\treturn this.extensions.get( 'EXT_blend_minmax' );\r\n\t},\r\n\tsupportsVertexTextures: function () {\r\n\t\treturn this.capabilities.vertexTextures;\r\n\t},\r\n\tsupportsInstancedArrays: function () {\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).' );\r\n\t\treturn this.extensions.get( 'ANGLE_instanced_arrays' );\r\n\t},\r\n\tenableScissorTest: function ( boolean ) {\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().' );\r\n\t\tthis.setScissorTest( boolean );\r\n\t},\r\n\tinitMaterial: function () {\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .initMaterial() has been removed.' );\r\n\t},\r\n\taddPrePlugin: function () {\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPrePlugin() has been removed.' );\r\n\t},\r\n\taddPostPlugin: function () {\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPostPlugin() has been removed.' );\r\n\t},\r\n\tupdateShadowMap: function () {\r\n\t\tconsole.warn( 'THREE.WebGLRenderer: .updateShadowMap() has been removed.' );\r\n\t}\r\n} );\r\n\r\nObject.defineProperties( THREE.WebGLRenderer.prototype, {\r\n\tshadowMapEnabled: {\r\n\t\tget: function () {\r\n\t\t\treturn this.shadowMap.enabled;\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.' );\r\n\t\t\tthis.shadowMap.enabled = value;\r\n\t\t}\r\n\t},\r\n\tshadowMapType: {\r\n\t\tget: function () {\r\n\t\t\treturn this.shadowMap.type;\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.' );\r\n\t\t\tthis.shadowMap.type = value;\r\n\t\t}\r\n\t},\r\n\tshadowMapCullFace: {\r\n\t\tget: function () {\r\n\t\t\treturn this.shadowMap.cullFace;\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.' );\r\n\t\t\tthis.shadowMap.cullFace = value;\r\n\t\t}\r\n\t}\r\n} );\r\n\r\nObject.defineProperties( THREE.WebGLShadowMap.prototype, {\r\n\tcullFace: {\r\n\t\tget: function () {\r\n\t\t\treturn this.renderReverseSided ? THREE.CullFaceFront : THREE.CullFaceBack;\r\n\t\t},\r\n\t\tset: function ( cullFace ) {\r\n\t\t\tvar value = ( cullFace !== THREE.CullFaceBack );\r\n\t\t\tconsole.warn( \"WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to \" + value + \".\" );\r\n\t\t\tthis.renderReverseSided = value;\r\n\t\t}\r\n\t}\r\n} );\r\n\r\n//\r\n\r\nObject.defineProperties( THREE.WebGLRenderTarget.prototype, {\r\n\twrapS: {\r\n\t\tget: function () {\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\r\n\t\t\treturn this.texture.wrapS;\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\r\n\t\t\tthis.texture.wrapS = value;\r\n\t\t}\r\n\t},\r\n\twrapT: {\r\n\t\tget: function () {\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\r\n\t\t\treturn this.texture.wrapT;\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\r\n\t\t\tthis.texture.wrapT = value;\r\n\t\t}\r\n\t},\r\n\tmagFilter: {\r\n\t\tget: function () {\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\r\n\t\t\treturn this.texture.magFilter;\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\r\n\t\t\tthis.texture.magFilter = value;\r\n\t\t}\r\n\t},\r\n\tminFilter: {\r\n\t\tget: function () {\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\r\n\t\t\treturn this.texture.minFilter;\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\r\n\t\t\tthis.texture.minFilter = value;\r\n\t\t}\r\n\t},\r\n\tanisotropy: {\r\n\t\tget: function () {\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\r\n\t\t\treturn this.texture.anisotropy;\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\r\n\t\t\tthis.texture.anisotropy = value;\r\n\t\t}\r\n\t},\r\n\toffset: {\r\n\t\tget: function () {\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\r\n\t\t\treturn this.texture.offset;\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\r\n\t\t\tthis.texture.offset = value;\r\n\t\t}\r\n\t},\r\n\trepeat: {\r\n\t\tget: function () {\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\r\n\t\t\treturn this.texture.repeat;\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\r\n\t\t\tthis.texture.repeat = value;\r\n\t\t}\r\n\t},\r\n\tformat: {\r\n\t\tget: function () {\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\r\n\t\t\treturn this.texture.format;\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\r\n\t\t\tthis.texture.format = value;\r\n\t\t}\r\n\t},\r\n\ttype: {\r\n\t\tget: function () {\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\r\n\t\t\treturn this.texture.type;\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\r\n\t\t\tthis.texture.type = value;\r\n\t\t}\r\n\t},\r\n\tgenerateMipmaps: {\r\n\t\tget: function () {\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\r\n\t\t\treturn this.texture.generateMipmaps;\r\n\t\t},\r\n\t\tset: function ( value ) {\r\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\r\n\t\t\tthis.texture.generateMipmaps = value;\r\n\t\t}\r\n\t}\r\n} );\r\n\r\n//\r\n\r\nObject.assign( THREE.Audio.prototype, {\r\n\tload: function ( file ) {\r\n\t\tconsole.warn( 'THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.' );\r\n\t\tvar scope = this;\r\n\t\tvar audioLoader = new THREE.AudioLoader();\r\n\t\taudioLoader.load( file, function ( buffer ) {\r\n\t\t\tscope.setBuffer( buffer );\r\n\t\t} );\r\n\t\treturn this;\r\n\t}\r\n} );\r\n\r\nObject.assign( THREE.AudioAnalyser.prototype, {\r\n\tgetData: function ( file ) {\r\n\t\tconsole.warn( 'THREE.AudioAnalyser: .getData() is now .getFrequencyData().' );\r\n\t\treturn this.getFrequencyData();\r\n\t}\r\n} );\r\n\r\n//\r\n\r\nTHREE.GeometryUtils = {\r\n\r\n\tmerge: function ( geometry1, geometry2, materialIndexOffset ) {\r\n\r\n\t\tconsole.warn( 'THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.' );\r\n\r\n\t\tvar matrix;\r\n\r\n\t\tif ( geometry2 instanceof THREE.Mesh ) {\r\n\r\n\t\t\tgeometry2.matrixAutoUpdate && geometry2.updateMatrix();\r\n\r\n\t\t\tmatrix = geometry2.matrix;\r\n\t\t\tgeometry2 = geometry2.geometry;\r\n\r\n\t\t}\r\n\r\n\t\tgeometry1.merge( geometry2, matrix, materialIndexOffset );\r\n\r\n\t},\r\n\r\n\tcenter: function ( geometry ) {\r\n\r\n\t\tconsole.warn( 'THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.' );\r\n\t\treturn geometry.center();\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.ImageUtils = {\r\n\r\n\tcrossOrigin: undefined,\r\n\r\n\tloadTexture: function ( url, mapping, onLoad, onError ) {\r\n\r\n\t\tconsole.warn( 'THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.' );\r\n\r\n\t\tvar loader = new THREE.TextureLoader();\r\n\t\tloader.setCrossOrigin( this.crossOrigin );\r\n\r\n\t\tvar texture = loader.load( url, onLoad, undefined, onError );\r\n\r\n\t\tif ( mapping ) texture.mapping = mapping;\r\n\r\n\t\treturn texture;\r\n\r\n\t},\r\n\r\n\tloadTextureCube: function ( urls, mapping, onLoad, onError ) {\r\n\r\n\t\tconsole.warn( 'THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.' );\r\n\r\n\t\tvar loader = new THREE.CubeTextureLoader();\r\n\t\tloader.setCrossOrigin( this.crossOrigin );\r\n\r\n\t\tvar texture = loader.load( urls, onLoad, undefined, onError );\r\n\r\n\t\tif ( mapping ) texture.mapping = mapping;\r\n\r\n\t\treturn texture;\r\n\r\n\t},\r\n\r\n\tloadCompressedTexture: function () {\r\n\r\n\t\tconsole.error( 'THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.' );\r\n\r\n\t},\r\n\r\n\tloadCompressedTextureCube: function () {\r\n\r\n\t\tconsole.error( 'THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.' );\r\n\r\n\t}\r\n\r\n};\r\n\r\n//\r\n\r\nTHREE.Projector = function () {\r\n\r\n\tconsole.error( 'THREE.Projector has been moved to /examples/js/renderers/Projector.js.' );\r\n\r\n\tthis.projectVector = function ( vector, camera ) {\r\n\r\n\t\tconsole.warn( 'THREE.Projector: .projectVector() is now vector.project().' );\r\n\t\tvector.project( camera );\r\n\r\n\t};\r\n\r\n\tthis.unprojectVector = function ( vector, camera ) {\r\n\r\n\t\tconsole.warn( 'THREE.Projector: .unprojectVector() is now vector.unproject().' );\r\n\t\tvector.unproject( camera );\r\n\r\n\t};\r\n\r\n\tthis.pickingRay = function ( vector, camera ) {\r\n\r\n\t\tconsole.error( 'THREE.Projector: .pickingRay() is now raycaster.setFromCamera().' );\r\n\r\n\t};\r\n\r\n};\r\n\r\n//\r\n\r\nTHREE.CanvasRenderer = function () {\r\n\r\n\tconsole.error( 'THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js' );\r\n\r\n\tthis.domElement = document.createElement( 'canvas' );\r\n\tthis.clear = function () {};\r\n\tthis.render = function () {};\r\n\tthis.setClearColor = function () {};\r\n\tthis.setSize = function () {};\r\n\r\n};\r\n\r\n// File:src/extras/CurveUtils.js\r\n\r\n/**\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n */\r\n\r\nTHREE.CurveUtils = {\r\n\r\n\ttangentQuadraticBezier: function ( t, p0, p1, p2 ) {\r\n\r\n\t\treturn 2 * ( 1 - t ) * ( p1 - p0 ) + 2 * t * ( p2 - p1 );\r\n\r\n\t},\r\n\r\n\t// Puay Bing, thanks for helping with this derivative!\r\n\r\n\ttangentCubicBezier: function ( t, p0, p1, p2, p3 ) {\r\n\r\n\t\treturn - 3 * p0 * ( 1 - t ) * ( 1 - t )  +\r\n\t\t\t3 * p1 * ( 1 - t ) * ( 1 - t ) - 6 * t * p1 * ( 1 - t ) +\r\n\t\t\t6 * t *  p2 * ( 1 - t ) - 3 * t * t * p2 +\r\n\t\t\t3 * t * t * p3;\r\n\r\n\t},\r\n\r\n\ttangentSpline: function ( t, p0, p1, p2, p3 ) {\r\n\r\n\t\t// To check if my formulas are correct\r\n\r\n\t\tvar h00 = 6 * t * t - 6 * t; \t// derived from 2t^3 \u2212 3t^2 + 1\r\n\t\tvar h10 = 3 * t * t - 4 * t + 1; // t^3 \u2212 2t^2 + t\r\n\t\tvar h01 = - 6 * t * t + 6 * t; \t// \u2212 2t3 + 3t2\r\n\t\tvar h11 = 3 * t * t - 2 * t;\t// t3 \u2212 t2\r\n\r\n\t\treturn h00 + h10 + h01 + h11;\r\n\r\n\t},\r\n\r\n\t// Catmull-Rom\r\n\r\n\tinterpolate: function( p0, p1, p2, p3, t ) {\r\n\r\n\t\tvar v0 = ( p2 - p0 ) * 0.5;\r\n\t\tvar v1 = ( p3 - p1 ) * 0.5;\r\n\t\tvar t2 = t * t;\r\n\t\tvar t3 = t * t2;\r\n\t\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/extras/SceneUtils.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.SceneUtils = {\r\n\r\n\tcreateMultiMaterialObject: function ( geometry, materials ) {\r\n\r\n\t\tvar group = new THREE.Group();\r\n\r\n\t\tfor ( var i = 0, l = materials.length; i < l; i ++ ) {\r\n\r\n\t\t\tgroup.add( new THREE.Mesh( geometry, materials[ i ] ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn group;\r\n\r\n\t},\r\n\r\n\tdetach: function ( child, parent, scene ) {\r\n\r\n\t\tchild.applyMatrix( parent.matrixWorld );\r\n\t\tparent.remove( child );\r\n\t\tscene.add( child );\r\n\r\n\t},\r\n\r\n\tattach: function ( child, scene, parent ) {\r\n\r\n\t\tvar matrixWorldInverse = new THREE.Matrix4();\r\n\t\tmatrixWorldInverse.getInverse( parent.matrixWorld );\r\n\t\tchild.applyMatrix( matrixWorldInverse );\r\n\r\n\t\tscene.remove( child );\r\n\t\tparent.add( child );\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/extras/ShapeUtils.js\r\n\r\n/**\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n */\r\n\r\nTHREE.ShapeUtils = {\r\n\r\n\t// calculate area of the contour polygon\r\n\r\n\tarea: function ( contour ) {\r\n\r\n\t\tvar n = contour.length;\r\n\t\tvar a = 0.0;\r\n\r\n\t\tfor ( var p = n - 1, q = 0; q < n; p = q ++ ) {\r\n\r\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\r\n\r\n\t\t}\r\n\r\n\t\treturn a * 0.5;\r\n\r\n\t},\r\n\r\n\ttriangulate: ( function () {\r\n\r\n\t\t/**\r\n\t\t * This code is a quick port of code written in C++ which was submitted to\r\n\t\t * flipcode.com by John W. Ratcliff  // July 22, 2000\r\n\t\t * See original code and more information here:\r\n\t\t * http://www.flipcode.com/archives/Efficient_Polygon_Triangulation.shtml\r\n\t\t *\r\n\t\t * ported to actionscript by Zevan Rosser\r\n\t\t * www.actionsnippet.com\r\n\t\t *\r\n\t\t * ported to javascript by Joshua Koo\r\n\t\t * http://www.lab4games.net/zz85/blog\r\n\t\t *\r\n\t\t */\r\n\r\n\t\tfunction snip( contour, u, v, w, n, verts ) {\r\n\r\n\t\t\tvar p;\r\n\t\t\tvar ax, ay, bx, by;\r\n\t\t\tvar cx, cy, px, py;\r\n\r\n\t\t\tax = contour[ verts[ u ] ].x;\r\n\t\t\tay = contour[ verts[ u ] ].y;\r\n\r\n\t\t\tbx = contour[ verts[ v ] ].x;\r\n\t\t\tby = contour[ verts[ v ] ].y;\r\n\r\n\t\t\tcx = contour[ verts[ w ] ].x;\r\n\t\t\tcy = contour[ verts[ w ] ].y;\r\n\r\n\t\t\tif ( Number.EPSILON > ( ( ( bx - ax ) * ( cy - ay ) ) - ( ( by - ay ) * ( cx - ax ) ) ) ) return false;\r\n\r\n\t\t\tvar aX, aY, bX, bY, cX, cY;\r\n\t\t\tvar apx, apy, bpx, bpy, cpx, cpy;\r\n\t\t\tvar cCROSSap, bCROSScp, aCROSSbp;\r\n\r\n\t\t\taX = cx - bx;  aY = cy - by;\r\n\t\t\tbX = ax - cx;  bY = ay - cy;\r\n\t\t\tcX = bx - ax;  cY = by - ay;\r\n\r\n\t\t\tfor ( p = 0; p < n; p ++ ) {\r\n\r\n\t\t\t\tpx = contour[ verts[ p ] ].x;\r\n\t\t\t\tpy = contour[ verts[ p ] ].y;\r\n\r\n\t\t\t\tif ( ( ( px === ax ) && ( py === ay ) ) ||\r\n\t\t\t\t\t ( ( px === bx ) && ( py === by ) ) ||\r\n\t\t\t\t\t ( ( px === cx ) && ( py === cy ) ) )\tcontinue;\r\n\r\n\t\t\t\tapx = px - ax;  apy = py - ay;\r\n\t\t\t\tbpx = px - bx;  bpy = py - by;\r\n\t\t\t\tcpx = px - cx;  cpy = py - cy;\r\n\r\n\t\t\t\t// see if p is inside triangle abc\r\n\r\n\t\t\t\taCROSSbp = aX * bpy - aY * bpx;\r\n\t\t\t\tcCROSSap = cX * apy - cY * apx;\r\n\t\t\t\tbCROSScp = bX * cpy - bY * cpx;\r\n\r\n\t\t\t\tif ( ( aCROSSbp >= - Number.EPSILON ) && ( bCROSScp >= - Number.EPSILON ) && ( cCROSSap >= - Number.EPSILON ) ) return false;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\r\n\t\t// takes in an contour array and returns\r\n\r\n\t\treturn function ( contour, indices ) {\r\n\r\n\t\t\tvar n = contour.length;\r\n\r\n\t\t\tif ( n < 3 ) return null;\r\n\r\n\t\t\tvar result = [],\r\n\t\t\t\tverts = [],\r\n\t\t\t\tvertIndices = [];\r\n\r\n\t\t\t/* we want a counter-clockwise polygon in verts */\r\n\r\n\t\t\tvar u, v, w;\r\n\r\n\t\t\tif ( THREE.ShapeUtils.area( contour ) > 0.0 ) {\r\n\r\n\t\t\t\tfor ( v = 0; v < n; v ++ ) verts[ v ] = v;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tfor ( v = 0; v < n; v ++ ) verts[ v ] = ( n - 1 ) - v;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar nv = n;\r\n\r\n\t\t\t/*  remove nv - 2 vertices, creating 1 triangle every time */\r\n\r\n\t\t\tvar count = 2 * nv;   /* error detection */\r\n\r\n\t\t\tfor ( v = nv - 1; nv > 2; ) {\r\n\r\n\t\t\t\t/* if we loop, it is probably a non-simple polygon */\r\n\r\n\t\t\t\tif ( ( count -- ) <= 0 ) {\r\n\r\n\t\t\t\t\t//** Triangulate: ERROR - probable bad polygon!\r\n\r\n\t\t\t\t\t//throw ( \"Warning, unable to triangulate polygon!\" );\r\n\t\t\t\t\t//return null;\r\n\t\t\t\t\t// Sometimes warning is fine, especially polygons are triangulated in reverse.\r\n\t\t\t\t\tconsole.warn( 'THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()' );\r\n\r\n\t\t\t\t\tif ( indices ) return vertIndices;\r\n\t\t\t\t\treturn result;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/* three consecutive vertices in current polygon, <u,v,w> */\r\n\r\n\t\t\t\tu = v; \t \tif ( nv <= u ) u = 0;     /* previous */\r\n\t\t\t\tv = u + 1;  if ( nv <= v ) v = 0;     /* new v    */\r\n\t\t\t\tw = v + 1;  if ( nv <= w ) w = 0;     /* next     */\r\n\r\n\t\t\t\tif ( snip( contour, u, v, w, nv, verts ) ) {\r\n\r\n\t\t\t\t\tvar a, b, c, s, t;\r\n\r\n\t\t\t\t\t/* true names of the vertices */\r\n\r\n\t\t\t\t\ta = verts[ u ];\r\n\t\t\t\t\tb = verts[ v ];\r\n\t\t\t\t\tc = verts[ w ];\r\n\r\n\t\t\t\t\t/* output Triangle */\r\n\r\n\t\t\t\t\tresult.push( [ contour[ a ],\r\n\t\t\t\t\t\tcontour[ b ],\r\n\t\t\t\t\t\tcontour[ c ] ] );\r\n\r\n\r\n\t\t\t\t\tvertIndices.push( [ verts[ u ], verts[ v ], verts[ w ] ] );\r\n\r\n\t\t\t\t\t/* remove v from the remaining polygon */\r\n\r\n\t\t\t\t\tfor ( s = v, t = v + 1; t < nv; s ++, t ++ ) {\r\n\r\n\t\t\t\t\t\tverts[ s ] = verts[ t ];\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tnv --;\r\n\r\n\t\t\t\t\t/* reset error detection counter */\r\n\r\n\t\t\t\t\tcount = 2 * nv;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( indices ) return vertIndices;\r\n\t\t\treturn result;\r\n\r\n\t\t}\r\n\r\n\t} )(),\r\n\r\n\ttriangulateShape: function ( contour, holes ) {\r\n\r\n\t\tfunction point_in_segment_2D_colin( inSegPt1, inSegPt2, inOtherPt ) {\r\n\r\n\t\t\t// inOtherPt needs to be collinear to the inSegment\r\n\t\t\tif ( inSegPt1.x !== inSegPt2.x ) {\r\n\r\n\t\t\t\tif ( inSegPt1.x < inSegPt2.x ) {\r\n\r\n\t\t\t\t\treturn\t( ( inSegPt1.x <= inOtherPt.x ) && ( inOtherPt.x <= inSegPt2.x ) );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\treturn\t( ( inSegPt2.x <= inOtherPt.x ) && ( inOtherPt.x <= inSegPt1.x ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( inSegPt1.y < inSegPt2.y ) {\r\n\r\n\t\t\t\t\treturn\t( ( inSegPt1.y <= inOtherPt.y ) && ( inOtherPt.y <= inSegPt2.y ) );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\treturn\t( ( inSegPt2.y <= inOtherPt.y ) && ( inOtherPt.y <= inSegPt1.y ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction intersect_segments_2D( inSeg1Pt1, inSeg1Pt2, inSeg2Pt1, inSeg2Pt2, inExcludeAdjacentSegs ) {\r\n\r\n\t\t\tvar seg1dx = inSeg1Pt2.x - inSeg1Pt1.x,   seg1dy = inSeg1Pt2.y - inSeg1Pt1.y;\r\n\t\t\tvar seg2dx = inSeg2Pt2.x - inSeg2Pt1.x,   seg2dy = inSeg2Pt2.y - inSeg2Pt1.y;\r\n\r\n\t\t\tvar seg1seg2dx = inSeg1Pt1.x - inSeg2Pt1.x;\r\n\t\t\tvar seg1seg2dy = inSeg1Pt1.y - inSeg2Pt1.y;\r\n\r\n\t\t\tvar limit\t\t= seg1dy * seg2dx - seg1dx * seg2dy;\r\n\t\t\tvar perpSeg1\t= seg1dy * seg1seg2dx - seg1dx * seg1seg2dy;\r\n\r\n\t\t\tif ( Math.abs( limit ) > Number.EPSILON ) {\r\n\r\n\t\t\t\t// not parallel\r\n\r\n\t\t\t\tvar perpSeg2;\r\n\t\t\t\tif ( limit > 0 ) {\r\n\r\n\t\t\t\t\tif ( ( perpSeg1 < 0 ) || ( perpSeg1 > limit ) ) \t\treturn [];\r\n\t\t\t\t\tperpSeg2 = seg2dy * seg1seg2dx - seg2dx * seg1seg2dy;\r\n\t\t\t\t\tif ( ( perpSeg2 < 0 ) || ( perpSeg2 > limit ) ) \t\treturn [];\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( ( perpSeg1 > 0 ) || ( perpSeg1 < limit ) ) \t\treturn [];\r\n\t\t\t\t\tperpSeg2 = seg2dy * seg1seg2dx - seg2dx * seg1seg2dy;\r\n\t\t\t\t\tif ( ( perpSeg2 > 0 ) || ( perpSeg2 < limit ) ) \t\treturn [];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// i.e. to reduce rounding errors\r\n\t\t\t\t// intersection at endpoint of segment#1?\r\n\t\t\t\tif ( perpSeg2 === 0 ) {\r\n\r\n\t\t\t\t\tif ( ( inExcludeAdjacentSegs ) &&\r\n\t\t\t\t\t\t ( ( perpSeg1 === 0 ) || ( perpSeg1 === limit ) ) )\t\treturn [];\r\n\t\t\t\t\treturn [ inSeg1Pt1 ];\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif ( perpSeg2 === limit ) {\r\n\r\n\t\t\t\t\tif ( ( inExcludeAdjacentSegs ) &&\r\n\t\t\t\t\t\t ( ( perpSeg1 === 0 ) || ( perpSeg1 === limit ) ) )\t\treturn [];\r\n\t\t\t\t\treturn [ inSeg1Pt2 ];\r\n\r\n\t\t\t\t}\r\n\t\t\t\t// intersection at endpoint of segment#2?\r\n\t\t\t\tif ( perpSeg1 === 0 )\t\treturn [ inSeg2Pt1 ];\r\n\t\t\t\tif ( perpSeg1 === limit )\treturn [ inSeg2Pt2 ];\r\n\r\n\t\t\t\t// return real intersection point\r\n\t\t\t\tvar factorSeg1 = perpSeg2 / limit;\r\n\t\t\t\treturn\t[ { x: inSeg1Pt1.x + factorSeg1 * seg1dx,\r\n\t\t\t\t\t\t\ty: inSeg1Pt1.y + factorSeg1 * seg1dy } ];\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// parallel or collinear\r\n\t\t\t\tif ( ( perpSeg1 !== 0 ) ||\r\n\t\t\t\t\t ( seg2dy * seg1seg2dx !== seg2dx * seg1seg2dy ) ) \t\t\treturn [];\r\n\r\n\t\t\t\t// they are collinear or degenerate\r\n\t\t\t\tvar seg1Pt = ( ( seg1dx === 0 ) && ( seg1dy === 0 ) );\t// segment1 is just a point?\r\n\t\t\t\tvar seg2Pt = ( ( seg2dx === 0 ) && ( seg2dy === 0 ) );\t// segment2 is just a point?\r\n\t\t\t\t// both segments are points\r\n\t\t\t\tif ( seg1Pt && seg2Pt ) {\r\n\r\n\t\t\t\t\tif ( ( inSeg1Pt1.x !== inSeg2Pt1.x ) ||\r\n\t\t\t\t\t\t ( inSeg1Pt1.y !== inSeg2Pt1.y ) )\t\treturn [];\t// they are distinct  points\r\n\t\t\t\t\treturn [ inSeg1Pt1 ];                 \t\t\t\t\t\t// they are the same point\r\n\r\n\t\t\t\t}\r\n\t\t\t\t// segment#1  is a single point\r\n\t\t\t\tif ( seg1Pt ) {\r\n\r\n\t\t\t\t\tif ( ! point_in_segment_2D_colin( inSeg2Pt1, inSeg2Pt2, inSeg1Pt1 ) )\t\treturn [];\t\t// but not in segment#2\r\n\t\t\t\t\treturn [ inSeg1Pt1 ];\r\n\r\n\t\t\t\t}\r\n\t\t\t\t// segment#2  is a single point\r\n\t\t\t\tif ( seg2Pt ) {\r\n\r\n\t\t\t\t\tif ( ! point_in_segment_2D_colin( inSeg1Pt1, inSeg1Pt2, inSeg2Pt1 ) )\t\treturn [];\t\t// but not in segment#1\r\n\t\t\t\t\treturn [ inSeg2Pt1 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// they are collinear segments, which might overlap\r\n\t\t\t\tvar seg1min, seg1max, seg1minVal, seg1maxVal;\r\n\t\t\t\tvar seg2min, seg2max, seg2minVal, seg2maxVal;\r\n\t\t\t\tif ( seg1dx !== 0 ) {\r\n\r\n\t\t\t\t\t// the segments are NOT on a vertical line\r\n\t\t\t\t\tif ( inSeg1Pt1.x < inSeg1Pt2.x ) {\r\n\r\n\t\t\t\t\t\tseg1min = inSeg1Pt1; seg1minVal = inSeg1Pt1.x;\r\n\t\t\t\t\t\tseg1max = inSeg1Pt2; seg1maxVal = inSeg1Pt2.x;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tseg1min = inSeg1Pt2; seg1minVal = inSeg1Pt2.x;\r\n\t\t\t\t\t\tseg1max = inSeg1Pt1; seg1maxVal = inSeg1Pt1.x;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( inSeg2Pt1.x < inSeg2Pt2.x ) {\r\n\r\n\t\t\t\t\t\tseg2min = inSeg2Pt1; seg2minVal = inSeg2Pt1.x;\r\n\t\t\t\t\t\tseg2max = inSeg2Pt2; seg2maxVal = inSeg2Pt2.x;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tseg2min = inSeg2Pt2; seg2minVal = inSeg2Pt2.x;\r\n\t\t\t\t\t\tseg2max = inSeg2Pt1; seg2maxVal = inSeg2Pt1.x;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// the segments are on a vertical line\r\n\t\t\t\t\tif ( inSeg1Pt1.y < inSeg1Pt2.y ) {\r\n\r\n\t\t\t\t\t\tseg1min = inSeg1Pt1; seg1minVal = inSeg1Pt1.y;\r\n\t\t\t\t\t\tseg1max = inSeg1Pt2; seg1maxVal = inSeg1Pt2.y;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tseg1min = inSeg1Pt2; seg1minVal = inSeg1Pt2.y;\r\n\t\t\t\t\t\tseg1max = inSeg1Pt1; seg1maxVal = inSeg1Pt1.y;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( inSeg2Pt1.y < inSeg2Pt2.y ) {\r\n\r\n\t\t\t\t\t\tseg2min = inSeg2Pt1; seg2minVal = inSeg2Pt1.y;\r\n\t\t\t\t\t\tseg2max = inSeg2Pt2; seg2maxVal = inSeg2Pt2.y;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tseg2min = inSeg2Pt2; seg2minVal = inSeg2Pt2.y;\r\n\t\t\t\t\t\tseg2max = inSeg2Pt1; seg2maxVal = inSeg2Pt1.y;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif ( seg1minVal <= seg2minVal ) {\r\n\r\n\t\t\t\t\tif ( seg1maxVal <  seg2minVal )\treturn [];\r\n\t\t\t\t\tif ( seg1maxVal === seg2minVal )\t{\r\n\r\n\t\t\t\t\t\tif ( inExcludeAdjacentSegs )\t\treturn [];\r\n\t\t\t\t\t\treturn [ seg2min ];\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( seg1maxVal <= seg2maxVal )\treturn [ seg2min, seg1max ];\r\n\t\t\t\t\treturn\t[ seg2min, seg2max ];\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( seg1minVal >  seg2maxVal )\treturn [];\r\n\t\t\t\t\tif ( seg1minVal === seg2maxVal )\t{\r\n\r\n\t\t\t\t\t\tif ( inExcludeAdjacentSegs )\t\treturn [];\r\n\t\t\t\t\t\treturn [ seg1min ];\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( seg1maxVal <= seg2maxVal )\treturn [ seg1min, seg1max ];\r\n\t\t\t\t\treturn\t[ seg1min, seg2max ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction isPointInsideAngle( inVertex, inLegFromPt, inLegToPt, inOtherPt ) {\r\n\r\n\t\t\t// The order of legs is important\r\n\r\n\t\t\t// translation of all points, so that Vertex is at (0,0)\r\n\t\t\tvar legFromPtX\t= inLegFromPt.x - inVertex.x,  legFromPtY\t= inLegFromPt.y - inVertex.y;\r\n\t\t\tvar legToPtX\t= inLegToPt.x\t- inVertex.x,  legToPtY\t\t= inLegToPt.y\t- inVertex.y;\r\n\t\t\tvar otherPtX\t= inOtherPt.x\t- inVertex.x,  otherPtY\t\t= inOtherPt.y\t- inVertex.y;\r\n\r\n\t\t\t// main angle >0: < 180 deg.; 0: 180 deg.; <0: > 180 deg.\r\n\t\t\tvar from2toAngle\t= legFromPtX * legToPtY - legFromPtY * legToPtX;\r\n\t\t\tvar from2otherAngle\t= legFromPtX * otherPtY - legFromPtY * otherPtX;\r\n\r\n\t\t\tif ( Math.abs( from2toAngle ) > Number.EPSILON ) {\r\n\r\n\t\t\t\t// angle != 180 deg.\r\n\r\n\t\t\t\tvar other2toAngle\t\t= otherPtX * legToPtY - otherPtY * legToPtX;\r\n\t\t\t\t// console.log( \"from2to: \" + from2toAngle + \", from2other: \" + from2otherAngle + \", other2to: \" + other2toAngle );\r\n\r\n\t\t\t\tif ( from2toAngle > 0 ) {\r\n\r\n\t\t\t\t\t// main angle < 180 deg.\r\n\t\t\t\t\treturn\t( ( from2otherAngle >= 0 ) && ( other2toAngle >= 0 ) );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// main angle > 180 deg.\r\n\t\t\t\t\treturn\t( ( from2otherAngle >= 0 ) || ( other2toAngle >= 0 ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// angle == 180 deg.\r\n\t\t\t\t// console.log( \"from2to: 180 deg., from2other: \" + from2otherAngle  );\r\n\t\t\t\treturn\t( from2otherAngle > 0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\r\n\t\tfunction removeHoles( contour, holes ) {\r\n\r\n\t\t\tvar shape = contour.concat(); // work on this shape\r\n\t\t\tvar hole;\r\n\r\n\t\t\tfunction isCutLineInsideAngles( inShapeIdx, inHoleIdx ) {\r\n\r\n\t\t\t\t// Check if hole point lies within angle around shape point\r\n\t\t\t\tvar lastShapeIdx = shape.length - 1;\r\n\r\n\t\t\t\tvar prevShapeIdx = inShapeIdx - 1;\r\n\t\t\t\tif ( prevShapeIdx < 0 )\t\t\tprevShapeIdx = lastShapeIdx;\r\n\r\n\t\t\t\tvar nextShapeIdx = inShapeIdx + 1;\r\n\t\t\t\tif ( nextShapeIdx > lastShapeIdx )\tnextShapeIdx = 0;\r\n\r\n\t\t\t\tvar insideAngle = isPointInsideAngle( shape[ inShapeIdx ], shape[ prevShapeIdx ], shape[ nextShapeIdx ], hole[ inHoleIdx ] );\r\n\t\t\t\tif ( ! insideAngle ) {\r\n\r\n\t\t\t\t\t// console.log( \"Vertex (Shape): \" + inShapeIdx + \", Point: \" + hole[inHoleIdx].x + \"/\" + hole[inHoleIdx].y );\r\n\t\t\t\t\treturn\tfalse;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Check if shape point lies within angle around hole point\r\n\t\t\t\tvar lastHoleIdx = hole.length - 1;\r\n\r\n\t\t\t\tvar prevHoleIdx = inHoleIdx - 1;\r\n\t\t\t\tif ( prevHoleIdx < 0 )\t\t\tprevHoleIdx = lastHoleIdx;\r\n\r\n\t\t\t\tvar nextHoleIdx = inHoleIdx + 1;\r\n\t\t\t\tif ( nextHoleIdx > lastHoleIdx )\tnextHoleIdx = 0;\r\n\r\n\t\t\t\tinsideAngle = isPointInsideAngle( hole[ inHoleIdx ], hole[ prevHoleIdx ], hole[ nextHoleIdx ], shape[ inShapeIdx ] );\r\n\t\t\t\tif ( ! insideAngle ) {\r\n\r\n\t\t\t\t\t// console.log( \"Vertex (Hole): \" + inHoleIdx + \", Point: \" + shape[inShapeIdx].x + \"/\" + shape[inShapeIdx].y );\r\n\t\t\t\t\treturn\tfalse;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn\ttrue;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction intersectsShapeEdge( inShapePt, inHolePt ) {\r\n\r\n\t\t\t\t// checks for intersections with shape edges\r\n\t\t\t\tvar sIdx, nextIdx, intersection;\r\n\t\t\t\tfor ( sIdx = 0; sIdx < shape.length; sIdx ++ ) {\r\n\r\n\t\t\t\t\tnextIdx = sIdx + 1; nextIdx %= shape.length;\r\n\t\t\t\t\tintersection = intersect_segments_2D( inShapePt, inHolePt, shape[ sIdx ], shape[ nextIdx ], true );\r\n\t\t\t\t\tif ( intersection.length > 0 )\t\treturn\ttrue;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn\tfalse;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar indepHoles = [];\r\n\r\n\t\t\tfunction intersectsHoleEdge( inShapePt, inHolePt ) {\r\n\r\n\t\t\t\t// checks for intersections with hole edges\r\n\t\t\t\tvar ihIdx, chkHole,\r\n\t\t\t\t\thIdx, nextIdx, intersection;\r\n\t\t\t\tfor ( ihIdx = 0; ihIdx < indepHoles.length; ihIdx ++ ) {\r\n\r\n\t\t\t\t\tchkHole = holes[ indepHoles[ ihIdx ]];\r\n\t\t\t\t\tfor ( hIdx = 0; hIdx < chkHole.length; hIdx ++ ) {\r\n\r\n\t\t\t\t\t\tnextIdx = hIdx + 1; nextIdx %= chkHole.length;\r\n\t\t\t\t\t\tintersection = intersect_segments_2D( inShapePt, inHolePt, chkHole[ hIdx ], chkHole[ nextIdx ], true );\r\n\t\t\t\t\t\tif ( intersection.length > 0 )\t\treturn\ttrue;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t\treturn\tfalse;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar holeIndex, shapeIndex,\r\n\t\t\t\tshapePt, holePt,\r\n\t\t\t\tholeIdx, cutKey, failedCuts = [],\r\n\t\t\t\ttmpShape1, tmpShape2,\r\n\t\t\t\ttmpHole1, tmpHole2;\r\n\r\n\t\t\tfor ( var h = 0, hl = holes.length; h < hl; h ++ ) {\r\n\r\n\t\t\t\tindepHoles.push( h );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar minShapeIndex = 0;\r\n\t\t\tvar counter = indepHoles.length * 2;\r\n\t\t\twhile ( indepHoles.length > 0 ) {\r\n\r\n\t\t\t\tcounter --;\r\n\t\t\t\tif ( counter < 0 ) {\r\n\r\n\t\t\t\t\tconsole.log( \"Infinite Loop! Holes left:\" + indepHoles.length + \", Probably Hole outside Shape!\" );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// search for shape-vertex and hole-vertex,\r\n\t\t\t\t// which can be connected without intersections\r\n\t\t\t\tfor ( shapeIndex = minShapeIndex; shapeIndex < shape.length; shapeIndex ++ ) {\r\n\r\n\t\t\t\t\tshapePt = shape[ shapeIndex ];\r\n\t\t\t\t\tholeIndex\t= - 1;\r\n\r\n\t\t\t\t\t// search for hole which can be reached without intersections\r\n\t\t\t\t\tfor ( var h = 0; h < indepHoles.length; h ++ ) {\r\n\r\n\t\t\t\t\t\tholeIdx = indepHoles[ h ];\r\n\r\n\t\t\t\t\t\t// prevent multiple checks\r\n\t\t\t\t\t\tcutKey = shapePt.x + \":\" + shapePt.y + \":\" + holeIdx;\r\n\t\t\t\t\t\tif ( failedCuts[ cutKey ] !== undefined )\t\t\tcontinue;\r\n\r\n\t\t\t\t\t\thole = holes[ holeIdx ];\r\n\t\t\t\t\t\tfor ( var h2 = 0; h2 < hole.length; h2 ++ ) {\r\n\r\n\t\t\t\t\t\t\tholePt = hole[ h2 ];\r\n\t\t\t\t\t\t\tif ( ! isCutLineInsideAngles( shapeIndex, h2 ) )\t\tcontinue;\r\n\t\t\t\t\t\t\tif ( intersectsShapeEdge( shapePt, holePt ) )\t\tcontinue;\r\n\t\t\t\t\t\t\tif ( intersectsHoleEdge( shapePt, holePt ) )\t\tcontinue;\r\n\r\n\t\t\t\t\t\t\tholeIndex = h2;\r\n\t\t\t\t\t\t\tindepHoles.splice( h, 1 );\r\n\r\n\t\t\t\t\t\t\ttmpShape1 = shape.slice( 0, shapeIndex + 1 );\r\n\t\t\t\t\t\t\ttmpShape2 = shape.slice( shapeIndex );\r\n\t\t\t\t\t\t\ttmpHole1 = hole.slice( holeIndex );\r\n\t\t\t\t\t\t\ttmpHole2 = hole.slice( 0, holeIndex + 1 );\r\n\r\n\t\t\t\t\t\t\tshape = tmpShape1.concat( tmpHole1 ).concat( tmpHole2 ).concat( tmpShape2 );\r\n\r\n\t\t\t\t\t\t\tminShapeIndex = shapeIndex;\r\n\r\n\t\t\t\t\t\t\t// Debug only, to show the selected cuts\r\n\t\t\t\t\t\t\t// glob_CutLines.push( [ shapePt, holePt ] );\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( holeIndex >= 0 )\tbreak;\t\t// hole-vertex found\r\n\r\n\t\t\t\t\t\tfailedCuts[ cutKey ] = true;\t\t\t// remember failure\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( holeIndex >= 0 )\tbreak;\t\t// hole-vertex found\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn shape; \t\t\t/* shape with no holes */\r\n\r\n\t\t}\r\n\r\n\r\n\t\tvar i, il, f, face,\r\n\t\t\tkey, index,\r\n\t\t\tallPointsMap = {};\r\n\r\n\t\t// To maintain reference to old shape, one must match coordinates, or offset the indices from original arrays. It's probably easier to do the first.\r\n\r\n\t\tvar allpoints = contour.concat();\r\n\r\n\t\tfor ( var h = 0, hl = holes.length; h < hl; h ++ ) {\r\n\r\n\t\t\tArray.prototype.push.apply( allpoints, holes[ h ] );\r\n\r\n\t\t}\r\n\r\n\t\t//console.log( \"allpoints\",allpoints, allpoints.length );\r\n\r\n\t\t// prepare all points map\r\n\r\n\t\tfor ( i = 0, il = allpoints.length; i < il; i ++ ) {\r\n\r\n\t\t\tkey = allpoints[ i ].x + \":\" + allpoints[ i ].y;\r\n\r\n\t\t\tif ( allPointsMap[ key ] !== undefined ) {\r\n\r\n\t\t\t\tconsole.warn( \"THREE.Shape: Duplicate point\", key );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tallPointsMap[ key ] = i;\r\n\r\n\t\t}\r\n\r\n\t\t// remove holes by cutting paths to holes and adding them to the shape\r\n\t\tvar shapeWithoutHoles = removeHoles( contour, holes );\r\n\r\n\t\tvar triangles = THREE.ShapeUtils.triangulate( shapeWithoutHoles, false ); // True returns indices for points of spooled shape\r\n\t\t//console.log( \"triangles\",triangles, triangles.length );\r\n\r\n\t\t// check all face vertices against all points map\r\n\r\n\t\tfor ( i = 0, il = triangles.length; i < il; i ++ ) {\r\n\r\n\t\t\tface = triangles[ i ];\r\n\r\n\t\t\tfor ( f = 0; f < 3; f ++ ) {\r\n\r\n\t\t\t\tkey = face[ f ].x + \":\" + face[ f ].y;\r\n\r\n\t\t\t\tindex = allPointsMap[ key ];\r\n\r\n\t\t\t\tif ( index !== undefined ) {\r\n\r\n\t\t\t\t\tface[ f ] = index;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn triangles.concat();\r\n\r\n\t},\r\n\r\n\tisClockWise: function ( pts ) {\r\n\r\n\t\treturn THREE.ShapeUtils.area( pts ) < 0;\r\n\r\n\t},\r\n\r\n\t// Bezier Curves formulas obtained from\r\n\t// http://en.wikipedia.org/wiki/B%C3%A9zier_curve\r\n\r\n\t// Quad Bezier Functions\r\n\r\n\tb2: ( function () {\r\n\r\n\t\tfunction b2p0( t, p ) {\r\n\r\n\t\t\tvar k = 1 - t;\r\n\t\t\treturn k * k * p;\r\n\r\n\t\t}\r\n\r\n\t\tfunction b2p1( t, p ) {\r\n\r\n\t\t\treturn 2 * ( 1 - t ) * t * p;\r\n\r\n\t\t}\r\n\r\n\t\tfunction b2p2( t, p ) {\r\n\r\n\t\t\treturn t * t * p;\r\n\r\n\t\t}\r\n\r\n\t\treturn function ( t, p0, p1, p2 ) {\r\n\r\n\t\t\treturn b2p0( t, p0 ) + b2p1( t, p1 ) + b2p2( t, p2 );\r\n\r\n\t\t};\r\n\r\n\t} )(),\r\n\r\n\t// Cubic Bezier Functions\r\n\r\n\tb3: ( function () {\r\n\r\n\t\tfunction b3p0( t, p ) {\r\n\r\n\t\t\tvar k = 1 - t;\r\n\t\t\treturn k * k * k * p;\r\n\r\n\t\t}\r\n\r\n\t\tfunction b3p1( t, p ) {\r\n\r\n\t\t\tvar k = 1 - t;\r\n\t\t\treturn 3 * k * k * t * p;\r\n\r\n\t\t}\r\n\r\n\t\tfunction b3p2( t, p ) {\r\n\r\n\t\t\tvar k = 1 - t;\r\n\t\t\treturn 3 * k * t * t * p;\r\n\r\n\t\t}\r\n\r\n\t\tfunction b3p3( t, p ) {\r\n\r\n\t\t\treturn t * t * t * p;\r\n\r\n\t\t}\r\n\r\n\t\treturn function ( t, p0, p1, p2, p3 ) {\r\n\r\n\t\t\treturn b3p0( t, p0 ) + b3p1( t, p1 ) + b3p2( t, p2 ) + b3p3( t, p3 );\r\n\r\n\t\t};\r\n\r\n\t} )()\r\n\r\n};\r\n\r\n// File:src/extras/core/Curve.js\r\n\r\n/**\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n * Extensible curve object\r\n *\r\n * Some common of Curve methods\r\n * .getPoint(t), getTangent(t)\r\n * .getPointAt(u), getTagentAt(u)\r\n * .getPoints(), .getSpacedPoints()\r\n * .getLength()\r\n * .updateArcLengths()\r\n *\r\n * This following classes subclasses THREE.Curve:\r\n *\r\n * -- 2d classes --\r\n * THREE.LineCurve\r\n * THREE.QuadraticBezierCurve\r\n * THREE.CubicBezierCurve\r\n * THREE.SplineCurve\r\n * THREE.ArcCurve\r\n * THREE.EllipseCurve\r\n *\r\n * -- 3d classes --\r\n * THREE.LineCurve3\r\n * THREE.QuadraticBezierCurve3\r\n * THREE.CubicBezierCurve3\r\n * THREE.SplineCurve3\r\n *\r\n * A series of curves can be represented as a THREE.CurvePath\r\n *\r\n **/\r\n\r\n/**************************************************************\r\n *\tAbstract Curve base class\r\n **************************************************************/\r\n\r\nTHREE.Curve = function () {\r\n\r\n};\r\n\r\nTHREE.Curve.prototype = {\r\n\r\n\tconstructor: THREE.Curve,\r\n\r\n\t// Virtual base class method to overwrite and implement in subclasses\r\n\t//\t- t [0 .. 1]\r\n\r\n\tgetPoint: function ( t ) {\r\n\r\n\t\tconsole.warn( \"THREE.Curve: Warning, getPoint() not implemented!\" );\r\n\t\treturn null;\r\n\r\n\t},\r\n\r\n\t// Get point at relative position in curve according to arc length\r\n\t// - u [0 .. 1]\r\n\r\n\tgetPointAt: function ( u ) {\r\n\r\n\t\tvar t = this.getUtoTmapping( u );\r\n\t\treturn this.getPoint( t );\r\n\r\n\t},\r\n\r\n\t// Get sequence of points using getPoint( t )\r\n\r\n\tgetPoints: function ( divisions ) {\r\n\r\n\t\tif ( ! divisions ) divisions = 5;\r\n\r\n\t\tvar d, pts = [];\r\n\r\n\t\tfor ( d = 0; d <= divisions; d ++ ) {\r\n\r\n\t\t\tpts.push( this.getPoint( d / divisions ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn pts;\r\n\r\n\t},\r\n\r\n\t// Get sequence of points using getPointAt( u )\r\n\r\n\tgetSpacedPoints: function ( divisions ) {\r\n\r\n\t\tif ( ! divisions ) divisions = 5;\r\n\r\n\t\tvar d, pts = [];\r\n\r\n\t\tfor ( d = 0; d <= divisions; d ++ ) {\r\n\r\n\t\t\tpts.push( this.getPointAt( d / divisions ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn pts;\r\n\r\n\t},\r\n\r\n\t// Get total curve arc length\r\n\r\n\tgetLength: function () {\r\n\r\n\t\tvar lengths = this.getLengths();\r\n\t\treturn lengths[ lengths.length - 1 ];\r\n\r\n\t},\r\n\r\n\t// Get list of cumulative segment lengths\r\n\r\n\tgetLengths: function ( divisions ) {\r\n\r\n\t\tif ( ! divisions ) divisions = ( this.__arcLengthDivisions ) ? ( this.__arcLengthDivisions ) : 200;\r\n\r\n\t\tif ( this.cacheArcLengths\r\n\t\t\t&& ( this.cacheArcLengths.length === divisions + 1 )\r\n\t\t\t&& ! this.needsUpdate ) {\r\n\r\n\t\t\t//console.log( \"cached\", this.cacheArcLengths );\r\n\t\t\treturn this.cacheArcLengths;\r\n\r\n\t\t}\r\n\r\n\t\tthis.needsUpdate = false;\r\n\r\n\t\tvar cache = [];\r\n\t\tvar current, last = this.getPoint( 0 );\r\n\t\tvar p, sum = 0;\r\n\r\n\t\tcache.push( 0 );\r\n\r\n\t\tfor ( p = 1; p <= divisions; p ++ ) {\r\n\r\n\t\t\tcurrent = this.getPoint ( p / divisions );\r\n\t\t\tsum += current.distanceTo( last );\r\n\t\t\tcache.push( sum );\r\n\t\t\tlast = current;\r\n\r\n\t\t}\r\n\r\n\t\tthis.cacheArcLengths = cache;\r\n\r\n\t\treturn cache; // { sums: cache, sum:sum }; Sum is in the last element.\r\n\r\n\t},\r\n\r\n\tupdateArcLengths: function() {\r\n\r\n\t\tthis.needsUpdate = true;\r\n\t\tthis.getLengths();\r\n\r\n\t},\r\n\r\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\r\n\r\n\tgetUtoTmapping: function ( u, distance ) {\r\n\r\n\t\tvar arcLengths = this.getLengths();\r\n\r\n\t\tvar i = 0, il = arcLengths.length;\r\n\r\n\t\tvar targetArcLength; // The targeted u distance value to get\r\n\r\n\t\tif ( distance ) {\r\n\r\n\t\t\ttargetArcLength = distance;\r\n\r\n\t\t} else {\r\n\r\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\r\n\r\n\t\t}\r\n\r\n\t\t//var time = Date.now();\r\n\r\n\t\t// binary search for the index with largest value smaller than target u distance\r\n\r\n\t\tvar low = 0, high = il - 1, comparison;\r\n\r\n\t\twhile ( low <= high ) {\r\n\r\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\r\n\r\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\r\n\r\n\t\t\tif ( comparison < 0 ) {\r\n\r\n\t\t\t\tlow = i + 1;\r\n\r\n\t\t\t} else if ( comparison > 0 ) {\r\n\r\n\t\t\t\thigh = i - 1;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\thigh = i;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\t// DONE\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\ti = high;\r\n\r\n\t\t//console.log('b' , i, low, high, Date.now()- time);\r\n\r\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\r\n\r\n\t\t\tvar t = i / ( il - 1 );\r\n\t\t\treturn t;\r\n\r\n\t\t}\r\n\r\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\r\n\r\n\t\tvar lengthBefore = arcLengths[ i ];\r\n\t\tvar lengthAfter = arcLengths[ i + 1 ];\r\n\r\n\t\tvar segmentLength = lengthAfter - lengthBefore;\r\n\r\n\t\t// determine where we are between the 'before' and 'after' points\r\n\r\n\t\tvar segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\r\n\r\n\t\t// add that fractional amount to t\r\n\r\n\t\tvar t = ( i + segmentFraction ) / ( il - 1 );\r\n\r\n\t\treturn t;\r\n\r\n\t},\r\n\r\n\t// Returns a unit vector tangent at t\r\n\t// In case any sub curve does not implement its tangent derivation,\r\n\t// 2 points a small delta apart will be used to find its gradient\r\n\t// which seems to give a reasonable approximation\r\n\r\n\tgetTangent: function( t ) {\r\n\r\n\t\tvar delta = 0.0001;\r\n\t\tvar t1 = t - delta;\r\n\t\tvar t2 = t + delta;\r\n\r\n\t\t// Capping in case of danger\r\n\r\n\t\tif ( t1 < 0 ) t1 = 0;\r\n\t\tif ( t2 > 1 ) t2 = 1;\r\n\r\n\t\tvar pt1 = this.getPoint( t1 );\r\n\t\tvar pt2 = this.getPoint( t2 );\r\n\r\n\t\tvar vec = pt2.clone().sub( pt1 );\r\n\t\treturn vec.normalize();\r\n\r\n\t},\r\n\r\n\tgetTangentAt: function ( u ) {\r\n\r\n\t\tvar t = this.getUtoTmapping( u );\r\n\t\treturn this.getTangent( t );\r\n\r\n\t}\r\n\r\n};\r\n\r\n// TODO: Transformation for Curves?\r\n\r\n/**************************************************************\r\n *\t3D Curves\r\n **************************************************************/\r\n\r\n// A Factory method for creating new curve subclasses\r\n\r\nTHREE.Curve.create = function ( constructor, getPointFunc ) {\r\n\r\n\tconstructor.prototype = Object.create( THREE.Curve.prototype );\r\n\tconstructor.prototype.constructor = constructor;\r\n\tconstructor.prototype.getPoint = getPointFunc;\r\n\r\n\treturn constructor;\r\n\r\n};\r\n\r\n// File:src/extras/core/CurvePath.js\r\n\r\n/**\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n *\r\n **/\r\n\r\n/**************************************************************\r\n *\tCurved Path - a curve path is simply a array of connected\r\n *  curves, but retains the api of a curve\r\n **************************************************************/\r\n\r\nTHREE.CurvePath = function () {\r\n\r\n\tthis.curves = [];\r\n\r\n\tthis.autoClose = false; // Automatically closes the path\r\n\r\n};\r\n\r\nTHREE.CurvePath.prototype = Object.assign( Object.create( THREE.Curve.prototype ), {\r\n\r\n\tconstructor: THREE.CurvePath,\r\n\r\n\tadd: function ( curve ) {\r\n\r\n\t\tthis.curves.push( curve );\r\n\r\n\t},\r\n\r\n\tclosePath: function () {\r\n\r\n\t\t// TODO Test\r\n\t\t// and verify for vector3 (needs to implement equals)\r\n\t\t// Add a line curve if start and end of lines are not connected\r\n\t\tvar startPoint = this.curves[ 0 ].getPoint( 0 );\r\n\t\tvar endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\r\n\r\n\t\tif ( ! startPoint.equals( endPoint ) ) {\r\n\r\n\t\t\tthis.curves.push( new THREE.LineCurve( endPoint, startPoint ) );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t// To get accurate point with reference to\r\n\t// entire path distance at time t,\r\n\t// following has to be done:\r\n\r\n\t// 1. Length of each sub path have to be known\r\n\t// 2. Locate and identify type of curve\r\n\t// 3. Get t for the curve\r\n\t// 4. Return curve.getPointAt(t')\r\n\r\n\tgetPoint: function ( t ) {\r\n\r\n\t\tvar d = t * this.getLength();\r\n\t\tvar curveLengths = this.getCurveLengths();\r\n\t\tvar i = 0;\r\n\r\n\t\t// To think about boundaries points.\r\n\r\n\t\twhile ( i < curveLengths.length ) {\r\n\r\n\t\t\tif ( curveLengths[ i ] >= d ) {\r\n\r\n\t\t\t\tvar diff = curveLengths[ i ] - d;\r\n\t\t\t\tvar curve = this.curves[ i ];\r\n\r\n\t\t\t\tvar u = 1 - diff / curve.getLength();\r\n\r\n\t\t\t\treturn curve.getPointAt( u );\r\n\r\n\t\t\t}\r\n\r\n\t\t\ti ++;\r\n\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\r\n\t\t// loop where sum != 0, sum > d , sum+1 <d\r\n\r\n\t},\r\n\r\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\r\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\r\n\t// getPoint() depends on getLength\r\n\r\n\tgetLength: function () {\r\n\r\n\t\tvar lens = this.getCurveLengths();\r\n\t\treturn lens[ lens.length - 1 ];\r\n\r\n\t},\r\n\r\n\t// Compute lengths and cache them\r\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\r\n\r\n\tgetCurveLengths: function () {\r\n\r\n\t\t// We use cache values if curves and cache array are same length\r\n\r\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\r\n\r\n\t\t\treturn this.cacheLengths;\r\n\r\n\t\t}\r\n\r\n\t\t// Get length of sub-curve\r\n\t\t// Push sums into cached array\r\n\r\n\t\tvar lengths = [], sums = 0;\r\n\r\n\t\tfor ( var i = 0, l = this.curves.length; i < l; i ++ ) {\r\n\r\n\t\t\tsums += this.curves[ i ].getLength();\r\n\t\t\tlengths.push( sums );\r\n\r\n\t\t}\r\n\r\n\t\tthis.cacheLengths = lengths;\r\n\r\n\t\treturn lengths;\r\n\r\n\t},\r\n\r\n\t/**************************************************************\r\n\t *\tCreate Geometries Helpers\r\n\t **************************************************************/\r\n\r\n\t/// Generate geometry from path points (for Line or Points objects)\r\n\r\n\tcreatePointsGeometry: function ( divisions ) {\r\n\r\n\t\tvar pts = this.getPoints( divisions );\r\n\t\treturn this.createGeometry( pts );\r\n\r\n\t},\r\n\r\n\t// Generate geometry from equidistant sampling along the path\r\n\r\n\tcreateSpacedPointsGeometry: function ( divisions ) {\r\n\r\n\t\tvar pts = this.getSpacedPoints( divisions );\r\n\t\treturn this.createGeometry( pts );\r\n\r\n\t},\r\n\r\n\tcreateGeometry: function ( points ) {\r\n\r\n\t\tvar geometry = new THREE.Geometry();\r\n\r\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar point = points[ i ];\r\n\t\t\tgeometry.vertices.push( new THREE.Vector3( point.x, point.y, point.z || 0 ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn geometry;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/extras/core/Font.js\r\n\r\n/**\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.Font = function ( data ) {\r\n\r\n\tthis.data = data;\r\n\r\n};\r\n\r\nObject.assign( THREE.Font.prototype, {\r\n\r\n\tgenerateShapes: function ( text, size, divisions ) {\r\n\r\n\t\tfunction createPaths( text ) {\r\n\r\n\t\t\tvar chars = String( text ).split( '' );\r\n\t\t\tvar scale = size / data.resolution;\r\n\t\t\tvar offset = 0;\r\n\r\n\t\t\tvar paths = [];\r\n\r\n\t\t\tfor ( var i = 0; i < chars.length; i ++ ) {\r\n\r\n\t\t\t\tvar ret = createPath( chars[ i ], scale, offset );\r\n\t\t\t\toffset += ret.offset;\r\n\r\n\t\t\t\tpaths.push( ret.path );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn paths;\r\n\r\n\t\t}\r\n\r\n\t\tfunction createPath( c, scale, offset ) {\r\n\r\n\t\t\tvar glyph = data.glyphs[ c ] || data.glyphs[ '?' ];\r\n\r\n\t\t\tif ( ! glyph ) return;\r\n\r\n\t\t\tvar path = new THREE.Path();\r\n\r\n\t\t\tvar pts = [], b2 = THREE.ShapeUtils.b2, b3 = THREE.ShapeUtils.b3;\r\n\t\t\tvar x, y, cpx, cpy, cpx0, cpy0, cpx1, cpy1, cpx2, cpy2, laste;\r\n\r\n\t\t\tif ( glyph.o ) {\r\n\r\n\t\t\t\tvar outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\r\n\r\n\t\t\t\tfor ( var i = 0, l = outline.length; i < l; ) {\r\n\r\n\t\t\t\t\tvar action = outline[ i ++ ];\r\n\r\n\t\t\t\t\tswitch ( action ) {\r\n\r\n\t\t\t\t\t\tcase 'm': // moveTo\r\n\r\n\t\t\t\t\t\t\tx = outline[ i ++ ] * scale + offset;\r\n\t\t\t\t\t\t\ty = outline[ i ++ ] * scale;\r\n\r\n\t\t\t\t\t\t\tpath.moveTo( x, y );\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'l': // lineTo\r\n\r\n\t\t\t\t\t\t\tx = outline[ i ++ ] * scale + offset;\r\n\t\t\t\t\t\t\ty = outline[ i ++ ] * scale;\r\n\r\n\t\t\t\t\t\t\tpath.lineTo( x, y );\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'q': // quadraticCurveTo\r\n\r\n\t\t\t\t\t\t\tcpx  = outline[ i ++ ] * scale + offset;\r\n\t\t\t\t\t\t\tcpy  = outline[ i ++ ] * scale;\r\n\t\t\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offset;\r\n\t\t\t\t\t\t\tcpy1 = outline[ i ++ ] * scale;\r\n\r\n\t\t\t\t\t\t\tpath.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\r\n\r\n\t\t\t\t\t\t\tlaste = pts[ pts.length - 1 ];\r\n\r\n\t\t\t\t\t\t\tif ( laste ) {\r\n\r\n\t\t\t\t\t\t\t\tcpx0 = laste.x;\r\n\t\t\t\t\t\t\t\tcpy0 = laste.y;\r\n\r\n\t\t\t\t\t\t\t\tfor ( var i2 = 1; i2 <= divisions; i2 ++ ) {\r\n\r\n\t\t\t\t\t\t\t\t\tvar t = i2 / divisions;\r\n\t\t\t\t\t\t\t\t\tb2( t, cpx0, cpx1, cpx );\r\n\t\t\t\t\t\t\t\t\tb2( t, cpy0, cpy1, cpy );\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'b': // bezierCurveTo\r\n\r\n\t\t\t\t\t\t\tcpx  = outline[ i ++ ] * scale + offset;\r\n\t\t\t\t\t\t\tcpy  = outline[ i ++ ] * scale;\r\n\t\t\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offset;\r\n\t\t\t\t\t\t\tcpy1 = outline[ i ++ ] * scale;\r\n\t\t\t\t\t\t\tcpx2 = outline[ i ++ ] * scale + offset;\r\n\t\t\t\t\t\t\tcpy2 = outline[ i ++ ] * scale;\r\n\r\n\t\t\t\t\t\t\tpath.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\r\n\r\n\t\t\t\t\t\t\tlaste = pts[ pts.length - 1 ];\r\n\r\n\t\t\t\t\t\t\tif ( laste ) {\r\n\r\n\t\t\t\t\t\t\t\tcpx0 = laste.x;\r\n\t\t\t\t\t\t\t\tcpy0 = laste.y;\r\n\r\n\t\t\t\t\t\t\t\tfor ( var i2 = 1; i2 <= divisions; i2 ++ ) {\r\n\r\n\t\t\t\t\t\t\t\t\tvar t = i2 / divisions;\r\n\t\t\t\t\t\t\t\t\tb3( t, cpx0, cpx1, cpx2, cpx );\r\n\t\t\t\t\t\t\t\t\tb3( t, cpy0, cpy1, cpy2, cpy );\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn { offset: glyph.ha * scale, path: path };\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tif ( size === undefined ) size = 100;\r\n\t\tif ( divisions === undefined ) divisions = 4;\r\n\r\n\t\tvar data = this.data;\r\n\r\n\t\tvar paths = createPaths( text );\r\n\t\tvar shapes = [];\r\n\r\n\t\tfor ( var p = 0, pl = paths.length; p < pl; p ++ ) {\r\n\r\n\t\t\tArray.prototype.push.apply( shapes, paths[ p ].toShapes() );\r\n\r\n\t\t}\r\n\r\n\t\treturn shapes;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/extras/core/Path.js\r\n\r\n/**\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n * Creates free form 2d path using series of points, lines or curves.\r\n *\r\n **/\r\n\r\nTHREE.Path = function ( points ) {\r\n\r\n\tTHREE.CurvePath.call( this );\r\n\r\n\tthis.actions = [];\r\n\r\n\tif ( points ) {\r\n\r\n\t\tthis.fromPoints( points );\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.Path.prototype = Object.assign( Object.create( THREE.CurvePath.prototype ), {\r\n\r\n\tconstructor: THREE.Path,\r\n\r\n\t// TODO Clean up PATH API\r\n\r\n\t// Create path using straight lines to connect all points\r\n\t// - vectors: array of Vector2\r\n\r\n\tfromPoints: function ( vectors ) {\r\n\r\n\t\tthis.moveTo( vectors[ 0 ].x, vectors[ 0 ].y );\r\n\r\n\t\tfor ( var i = 1, l = vectors.length; i < l; i ++ ) {\r\n\r\n\t\t\tthis.lineTo( vectors[ i ].x, vectors[ i ].y );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tmoveTo: function ( x, y ) {\r\n\r\n\t\tthis.actions.push( { action: 'moveTo', args: [ x, y ] } );\r\n\r\n\t},\r\n\r\n\tlineTo: function ( x, y ) {\r\n\r\n\t\tvar lastargs = this.actions[ this.actions.length - 1 ].args;\r\n\r\n\t\tvar x0 = lastargs[ lastargs.length - 2 ];\r\n\t\tvar y0 = lastargs[ lastargs.length - 1 ];\r\n\r\n\t\tvar curve = new THREE.LineCurve( new THREE.Vector2( x0, y0 ), new THREE.Vector2( x, y ) );\r\n\t\tthis.curves.push( curve );\r\n\r\n\t\tthis.actions.push( { action: 'lineTo', args: [ x, y ] } );\r\n\r\n\t},\r\n\r\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\r\n\r\n\t\tvar lastargs = this.actions[ this.actions.length - 1 ].args;\r\n\r\n\t\tvar x0 = lastargs[ lastargs.length - 2 ];\r\n\t\tvar y0 = lastargs[ lastargs.length - 1 ];\r\n\r\n\t\tvar curve = new THREE.QuadraticBezierCurve(\r\n\t\t\tnew THREE.Vector2( x0, y0 ),\r\n\t\t\tnew THREE.Vector2( aCPx, aCPy ),\r\n\t\t\tnew THREE.Vector2( aX, aY )\r\n\t\t);\r\n\r\n\t\tthis.curves.push( curve );\r\n\r\n\t\tthis.actions.push( { action: 'quadraticCurveTo', args: [ aCPx, aCPy, aX, aY ] } );\r\n\r\n\t},\r\n\r\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\r\n\r\n\t\tvar lastargs = this.actions[ this.actions.length - 1 ].args;\r\n\r\n\t\tvar x0 = lastargs[ lastargs.length - 2 ];\r\n\t\tvar y0 = lastargs[ lastargs.length - 1 ];\r\n\r\n\t\tvar curve = new THREE.CubicBezierCurve(\r\n\t\t\tnew THREE.Vector2( x0, y0 ),\r\n\t\t\tnew THREE.Vector2( aCP1x, aCP1y ),\r\n\t\t\tnew THREE.Vector2( aCP2x, aCP2y ),\r\n\t\t\tnew THREE.Vector2( aX, aY )\r\n\t\t);\r\n\r\n\t\tthis.curves.push( curve );\r\n\r\n\t\tthis.actions.push( { action: 'bezierCurveTo', args: [ aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ] } );\r\n\r\n\t},\r\n\r\n\tsplineThru: function ( pts /*Array of Vector*/ ) {\r\n\r\n\t\tvar args = Array.prototype.slice.call( arguments );\r\n\r\n\t\tvar lastargs = this.actions[ this.actions.length - 1 ].args;\r\n\r\n\t\tvar x0 = lastargs[ lastargs.length - 2 ];\r\n\t\tvar y0 = lastargs[ lastargs.length - 1 ];\r\n\r\n\t\tvar npts = [ new THREE.Vector2( x0, y0 ) ];\r\n\t\tArray.prototype.push.apply( npts, pts );\r\n\r\n\t\tvar curve = new THREE.SplineCurve( npts );\r\n\t\tthis.curves.push( curve );\r\n\r\n\t\tthis.actions.push( { action: 'splineThru', args: args } );\r\n\r\n\t},\r\n\r\n\tarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\r\n\r\n\t\tvar lastargs = this.actions[ this.actions.length - 1 ].args;\r\n\t\tvar x0 = lastargs[ lastargs.length - 2 ];\r\n\t\tvar y0 = lastargs[ lastargs.length - 1 ];\r\n\r\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\r\n\t\t\taStartAngle, aEndAngle, aClockwise );\r\n\r\n\t},\r\n\r\n\tabsarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\r\n\r\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\r\n\r\n\t},\r\n\r\n\tellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\r\n\r\n\t\tvar lastargs = this.actions[ this.actions.length - 1 ].args;\r\n\t\tvar x0 = lastargs[ lastargs.length - 2 ];\r\n\t\tvar y0 = lastargs[ lastargs.length - 1 ];\r\n\r\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\r\n\r\n\t},\r\n\r\n\tabsellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\r\n\r\n\t\tvar args = [\r\n\t\t\taX, aY,\r\n\t\t\txRadius, yRadius,\r\n\t\t\taStartAngle, aEndAngle,\r\n\t\t\taClockwise,\r\n\t\t\taRotation || 0 // aRotation is optional.\r\n\t\t];\r\n\r\n\t\tvar curve = new THREE.EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\r\n\t\tthis.curves.push( curve );\r\n\r\n\t\tvar lastPoint = curve.getPoint( 1 );\r\n\t\targs.push( lastPoint.x );\r\n\t\targs.push( lastPoint.y );\r\n\r\n\t\tthis.actions.push( { action: 'ellipse', args: args } );\r\n\r\n\t},\r\n\r\n\tgetSpacedPoints: function ( divisions ) {\r\n\r\n\t\tif ( ! divisions ) divisions = 40;\r\n\r\n\t\tvar points = [];\r\n\r\n\t\tfor ( var i = 0; i < divisions; i ++ ) {\r\n\r\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\r\n\r\n\t\t\t//if ( !this.getPoint( i / divisions ) ) throw \"DIE\";\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.autoClose ) {\r\n\r\n\t\t\tpoints.push( points[ 0 ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn points;\r\n\r\n\t},\r\n\r\n\tgetPoints: function ( divisions ) {\r\n\r\n\t\tdivisions = divisions || 12;\r\n\r\n\t\tvar b2 = THREE.ShapeUtils.b2;\r\n\t\tvar b3 = THREE.ShapeUtils.b3;\r\n\r\n\t\tvar points = [];\r\n\r\n\t\tvar cpx, cpy, cpx2, cpy2, cpx1, cpy1, cpx0, cpy0,\r\n\t\t\tlaste, tx, ty;\r\n\r\n\t\tfor ( var i = 0, l = this.actions.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar item = this.actions[ i ];\r\n\r\n\t\t\tvar action = item.action;\r\n\t\t\tvar args = item.args;\r\n\r\n\t\t\tswitch ( action ) {\r\n\r\n\t\t\tcase 'moveTo':\r\n\r\n\t\t\t\tpoints.push( new THREE.Vector2( args[ 0 ], args[ 1 ] ) );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'lineTo':\r\n\r\n\t\t\t\tpoints.push( new THREE.Vector2( args[ 0 ], args[ 1 ] ) );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'quadraticCurveTo':\r\n\r\n\t\t\t\tcpx  = args[ 2 ];\r\n\t\t\t\tcpy  = args[ 3 ];\r\n\r\n\t\t\t\tcpx1 = args[ 0 ];\r\n\t\t\t\tcpy1 = args[ 1 ];\r\n\r\n\t\t\t\tif ( points.length > 0 ) {\r\n\r\n\t\t\t\t\tlaste = points[ points.length - 1 ];\r\n\r\n\t\t\t\t\tcpx0 = laste.x;\r\n\t\t\t\t\tcpy0 = laste.y;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tlaste = this.actions[ i - 1 ].args;\r\n\r\n\t\t\t\t\tcpx0 = laste[ laste.length - 2 ];\r\n\t\t\t\t\tcpy0 = laste[ laste.length - 1 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( var j = 1; j <= divisions; j ++ ) {\r\n\r\n\t\t\t\t\tvar t = j / divisions;\r\n\r\n\t\t\t\t\ttx = b2( t, cpx0, cpx1, cpx );\r\n\t\t\t\t\tty = b2( t, cpy0, cpy1, cpy );\r\n\r\n\t\t\t\t\tpoints.push( new THREE.Vector2( tx, ty ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'bezierCurveTo':\r\n\r\n\t\t\t\tcpx  = args[ 4 ];\r\n\t\t\t\tcpy  = args[ 5 ];\r\n\r\n\t\t\t\tcpx1 = args[ 0 ];\r\n\t\t\t\tcpy1 = args[ 1 ];\r\n\r\n\t\t\t\tcpx2 = args[ 2 ];\r\n\t\t\t\tcpy2 = args[ 3 ];\r\n\r\n\t\t\t\tif ( points.length > 0 ) {\r\n\r\n\t\t\t\t\tlaste = points[ points.length - 1 ];\r\n\r\n\t\t\t\t\tcpx0 = laste.x;\r\n\t\t\t\t\tcpy0 = laste.y;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tlaste = this.actions[ i - 1 ].args;\r\n\r\n\t\t\t\t\tcpx0 = laste[ laste.length - 2 ];\r\n\t\t\t\t\tcpy0 = laste[ laste.length - 1 ];\r\n\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tfor ( var j = 1; j <= divisions; j ++ ) {\r\n\r\n\t\t\t\t\tvar t = j / divisions;\r\n\r\n\t\t\t\t\ttx = b3( t, cpx0, cpx1, cpx2, cpx );\r\n\t\t\t\t\tty = b3( t, cpy0, cpy1, cpy2, cpy );\r\n\r\n\t\t\t\t\tpoints.push( new THREE.Vector2( tx, ty ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'splineThru':\r\n\r\n\t\t\t\tlaste = this.actions[ i - 1 ].args;\r\n\r\n\t\t\t\tvar last = new THREE.Vector2( laste[ laste.length - 2 ], laste[ laste.length - 1 ] );\r\n\t\t\t\tvar spts = [ last ];\r\n\r\n\t\t\t\tvar n = divisions * args[ 0 ].length;\r\n\r\n\t\t\t\tspts = spts.concat( args[ 0 ] );\r\n\r\n\t\t\t\tvar spline = new THREE.SplineCurve( spts );\r\n\r\n\t\t\t\tfor ( var j = 1; j <= n; j ++ ) {\r\n\r\n\t\t\t\t\tpoints.push( spline.getPointAt( j / n ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'arc':\r\n\r\n\t\t\t\tvar aX = args[ 0 ], aY = args[ 1 ],\r\n\t\t\t\t\taRadius = args[ 2 ],\r\n\t\t\t\t\taStartAngle = args[ 3 ], aEndAngle = args[ 4 ],\r\n\t\t\t\t\taClockwise = !! args[ 5 ];\r\n\r\n\t\t\t\tvar deltaAngle = aEndAngle - aStartAngle;\r\n\t\t\t\tvar angle;\r\n\t\t\t\tvar tdivisions = divisions * 2;\r\n\r\n\t\t\t\tfor ( var j = 1; j <= tdivisions; j ++ ) {\r\n\r\n\t\t\t\t\tvar t = j / tdivisions;\r\n\r\n\t\t\t\t\tif ( ! aClockwise ) {\r\n\r\n\t\t\t\t\t\tt = 1 - t;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tangle = aStartAngle + t * deltaAngle;\r\n\r\n\t\t\t\t\ttx = aX + aRadius * Math.cos( angle );\r\n\t\t\t\t\tty = aY + aRadius * Math.sin( angle );\r\n\r\n\t\t\t\t\t//console.log('t', t, 'angle', angle, 'tx', tx, 'ty', ty);\r\n\r\n\t\t\t\t\tpoints.push( new THREE.Vector2( tx, ty ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//console.log(points);\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'ellipse':\r\n\r\n\t\t\t\tvar aX = args[ 0 ], aY = args[ 1 ],\r\n\t\t\t\t\txRadius = args[ 2 ],\r\n\t\t\t\t\tyRadius = args[ 3 ],\r\n\t\t\t\t\taStartAngle = args[ 4 ], aEndAngle = args[ 5 ],\r\n\t\t\t\t\taClockwise = !! args[ 6 ],\r\n\t\t\t\t\taRotation = args[ 7 ];\r\n\r\n\r\n\t\t\t\tvar deltaAngle = aEndAngle - aStartAngle;\r\n\t\t\t\tvar angle;\r\n\t\t\t\tvar tdivisions = divisions * 2;\r\n\r\n\t\t\t\tvar cos, sin;\r\n\t\t\t\tif ( aRotation !== 0 ) {\r\n\r\n\t\t\t\t\tcos = Math.cos( aRotation );\r\n\t\t\t\t\tsin = Math.sin( aRotation );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( var j = 1; j <= tdivisions; j ++ ) {\r\n\r\n\t\t\t\t\tvar t = j / tdivisions;\r\n\r\n\t\t\t\t\tif ( ! aClockwise ) {\r\n\r\n\t\t\t\t\t\tt = 1 - t;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tangle = aStartAngle + t * deltaAngle;\r\n\r\n\t\t\t\t\ttx = aX + xRadius * Math.cos( angle );\r\n\t\t\t\t\tty = aY + yRadius * Math.sin( angle );\r\n\r\n\t\t\t\t\tif ( aRotation !== 0 ) {\r\n\r\n\t\t\t\t\t\tvar x = tx, y = ty;\r\n\r\n\t\t\t\t\t\t// Rotate the point about the center of the ellipse.\r\n\t\t\t\t\t\ttx = ( x - aX ) * cos - ( y - aY ) * sin + aX;\r\n\t\t\t\t\t\tty = ( x - aX ) * sin + ( y - aY ) * cos + aY;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//console.log('t', t, 'angle', angle, 'tx', tx, 'ty', ty);\r\n\r\n\t\t\t\t\tpoints.push( new THREE.Vector2( tx, ty ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//console.log(points);\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t} // end switch\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\t\t// Normalize to remove the closing point by default.\r\n\t\tvar lastPoint = points[ points.length - 1 ];\r\n\t\tif ( Math.abs( lastPoint.x - points[ 0 ].x ) < Number.EPSILON &&\r\n\t\t\t\t Math.abs( lastPoint.y - points[ 0 ].y ) < Number.EPSILON )\r\n\t\t\tpoints.splice( points.length - 1, 1 );\r\n\r\n\t\tif ( this.autoClose ) {\r\n\r\n\t\t\tpoints.push( points[ 0 ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn points;\r\n\r\n\t},\r\n\r\n\ttoShapes: function ( isCCW, noHoles ) {\r\n\r\n\t\tfunction extractSubpaths( inActions ) {\r\n\r\n\t\t\tvar subPaths = [], lastPath = new THREE.Path();\r\n\r\n\t\t\tfor ( var i = 0, l = inActions.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar item = inActions[ i ];\r\n\r\n\t\t\t\tvar args = item.args;\r\n\t\t\t\tvar action = item.action;\r\n\r\n\t\t\t\tif ( action === 'moveTo' ) {\r\n\r\n\t\t\t\t\tif ( lastPath.actions.length !== 0 ) {\r\n\r\n\t\t\t\t\t\tsubPaths.push( lastPath );\r\n\t\t\t\t\t\tlastPath = new THREE.Path();\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlastPath[ action ].apply( lastPath, args );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( lastPath.actions.length !== 0 ) {\r\n\r\n\t\t\t\tsubPaths.push( lastPath );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// console.log(subPaths);\r\n\r\n\t\t\treturn\tsubPaths;\r\n\r\n\t\t}\r\n\r\n\t\tfunction toShapesNoHoles( inSubpaths ) {\r\n\r\n\t\t\tvar shapes = [];\r\n\r\n\t\t\tfor ( var i = 0, l = inSubpaths.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar tmpPath = inSubpaths[ i ];\r\n\r\n\t\t\t\tvar tmpShape = new THREE.Shape();\r\n\t\t\t\ttmpShape.actions = tmpPath.actions;\r\n\t\t\t\ttmpShape.curves = tmpPath.curves;\r\n\r\n\t\t\t\tshapes.push( tmpShape );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//console.log(\"shape\", shapes);\r\n\r\n\t\t\treturn shapes;\r\n\r\n\t\t}\r\n\r\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\r\n\r\n\t\t\tvar polyLen = inPolygon.length;\r\n\r\n\t\t\t// inPt on polygon contour => immediate success    or\r\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\r\n\t\t\t//  with the horizontal line through inPt, left of inPt\r\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\r\n\t\t\tvar inside = false;\r\n\t\t\tfor ( var p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\r\n\r\n\t\t\t\tvar edgeLowPt  = inPolygon[ p ];\r\n\t\t\t\tvar edgeHighPt = inPolygon[ q ];\r\n\r\n\t\t\t\tvar edgeDx = edgeHighPt.x - edgeLowPt.x;\r\n\t\t\t\tvar edgeDy = edgeHighPt.y - edgeLowPt.y;\r\n\r\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\r\n\r\n\t\t\t\t\t// not parallel\r\n\t\t\t\t\tif ( edgeDy < 0 ) {\r\n\r\n\t\t\t\t\t\tedgeLowPt  = inPolygon[ q ]; edgeDx = - edgeDx;\r\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\r\n\r\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\r\n\r\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\r\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tvar perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\r\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\r\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\r\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// parallel or collinear\r\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\r\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\r\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\r\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\r\n\t\t\t\t\t// continue;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn\tinside;\r\n\r\n\t\t}\r\n\r\n\t\tvar isClockWise = THREE.ShapeUtils.isClockWise;\r\n\r\n\t\tvar subPaths = extractSubpaths( this.actions );\r\n\t\tif ( subPaths.length === 0 ) return [];\r\n\r\n\t\tif ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\r\n\r\n\r\n\t\tvar solid, tmpPath, tmpShape, shapes = [];\r\n\r\n\t\tif ( subPaths.length === 1 ) {\r\n\r\n\t\t\ttmpPath = subPaths[ 0 ];\r\n\t\t\ttmpShape = new THREE.Shape();\r\n\t\t\ttmpShape.actions = tmpPath.actions;\r\n\t\t\ttmpShape.curves = tmpPath.curves;\r\n\t\t\tshapes.push( tmpShape );\r\n\t\t\treturn shapes;\r\n\r\n\t\t}\r\n\r\n\t\tvar holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\r\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\r\n\r\n\t\t// console.log(\"Holes first\", holesFirst);\r\n\r\n\t\tvar betterShapeHoles = [];\r\n\t\tvar newShapes = [];\r\n\t\tvar newShapeHoles = [];\r\n\t\tvar mainIdx = 0;\r\n\t\tvar tmpPoints;\r\n\r\n\t\tnewShapes[ mainIdx ] = undefined;\r\n\t\tnewShapeHoles[ mainIdx ] = [];\r\n\r\n\t\tfor ( var i = 0, l = subPaths.length; i < l; i ++ ) {\r\n\r\n\t\t\ttmpPath = subPaths[ i ];\r\n\t\t\ttmpPoints = tmpPath.getPoints();\r\n\t\t\tsolid = isClockWise( tmpPoints );\r\n\t\t\tsolid = isCCW ? ! solid : solid;\r\n\r\n\t\t\tif ( solid ) {\r\n\r\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\r\n\r\n\t\t\t\tnewShapes[ mainIdx ] = { s: new THREE.Shape(), p: tmpPoints };\r\n\t\t\t\tnewShapes[ mainIdx ].s.actions = tmpPath.actions;\r\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\r\n\r\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\r\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\r\n\r\n\t\t\t\t//console.log('cw', i);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\r\n\r\n\t\t\t\t//console.log('ccw', i);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// only Holes? -> probably all Shapes with wrong orientation\r\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\r\n\r\n\r\n\t\tif ( newShapes.length > 1 ) {\r\n\r\n\t\t\tvar ambiguous = false;\r\n\t\t\tvar toChange = [];\r\n\r\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\r\n\r\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\r\n\r\n\t\t\t\tvar sho = newShapeHoles[ sIdx ];\r\n\r\n\t\t\t\tfor ( var hIdx = 0; hIdx < sho.length; hIdx ++ ) {\r\n\r\n\t\t\t\t\tvar ho = sho[ hIdx ];\r\n\t\t\t\t\tvar hole_unassigned = true;\r\n\r\n\t\t\t\t\tfor ( var s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\r\n\r\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\r\n\r\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange.push( { froms: sIdx, tos: s2Idx, hole: hIdx } );\r\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\r\n\r\n\t\t\t\t\t\t\t\thole_unassigned = false;\r\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\tambiguous = true;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( hole_unassigned ) {\r\n\r\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\t// console.log(\"ambiguous: \", ambiguous);\r\n\t\t\tif ( toChange.length > 0 ) {\r\n\r\n\t\t\t\t// console.log(\"to change: \", toChange);\r\n\t\t\t\tif ( ! ambiguous )\tnewShapeHoles = betterShapeHoles;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar tmpHoles;\r\n\r\n\t\tfor ( var i = 0, il = newShapes.length; i < il; i ++ ) {\r\n\r\n\t\t\ttmpShape = newShapes[ i ].s;\r\n\t\t\tshapes.push( tmpShape );\r\n\t\t\ttmpHoles = newShapeHoles[ i ];\r\n\r\n\t\t\tfor ( var j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//console.log(\"shape\", shapes);\r\n\r\n\t\treturn shapes;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/extras/core/Shape.js\r\n\r\n/**\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n * Defines a 2d shape plane using paths.\r\n **/\r\n\r\n// STEP 1 Create a path.\r\n// STEP 2 Turn path into shape.\r\n// STEP 3 ExtrudeGeometry takes in Shape/Shapes\r\n// STEP 3a - Extract points from each shape, turn to vertices\r\n// STEP 3b - Triangulate each shape, add faces.\r\n\r\nTHREE.Shape = function () {\r\n\r\n\tTHREE.Path.apply( this, arguments );\r\n\r\n\tthis.holes = [];\r\n\r\n};\r\n\r\nTHREE.Shape.prototype = Object.assign( Object.create( THREE.Path.prototype ), {\r\n\r\n\tconstructor: THREE.Shape,\r\n\r\n\t// Convenience method to return ExtrudeGeometry\r\n\r\n\textrude: function ( options ) {\r\n\r\n\t\treturn new THREE.ExtrudeGeometry( this, options );\r\n\r\n\t},\r\n\r\n\t// Convenience method to return ShapeGeometry\r\n\r\n\tmakeGeometry: function ( options ) {\r\n\r\n\t\treturn new THREE.ShapeGeometry( this, options );\r\n\r\n\t},\r\n\r\n\tgetPointsHoles: function ( divisions ) {\r\n\r\n\t\tvar holesPts = [];\r\n\r\n\t\tfor ( var i = 0, l = this.holes.length; i < l; i ++ ) {\r\n\r\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\r\n\r\n\t\t}\r\n\r\n\t\treturn holesPts;\r\n\r\n\t},\r\n\r\n\t// Get points of shape and holes (keypoints based on segments parameter)\r\n\r\n\textractAllPoints: function ( divisions ) {\r\n\r\n\t\treturn {\r\n\r\n\t\t\tshape: this.getPoints( divisions ),\r\n\t\t\tholes: this.getPointsHoles( divisions )\r\n\r\n\t\t};\r\n\r\n\t},\r\n\r\n\textractPoints: function ( divisions ) {\r\n\r\n\t\treturn this.extractAllPoints( divisions );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// File:src/extras/curves/LineCurve.js\r\n\r\n/**************************************************************\r\n *\tLine\r\n **************************************************************/\r\n\r\nTHREE.LineCurve = function ( v1, v2 ) {\r\n\r\n\tthis.v1 = v1;\r\n\tthis.v2 = v2;\r\n\r\n};\r\n\r\nTHREE.LineCurve.prototype = Object.create( THREE.Curve.prototype );\r\nTHREE.LineCurve.prototype.constructor = THREE.LineCurve;\r\n\r\nTHREE.LineCurve.prototype.getPoint = function ( t ) {\r\n\r\n\tvar point = this.v2.clone().sub( this.v1 );\r\n\tpoint.multiplyScalar( t ).add( this.v1 );\r\n\r\n\treturn point;\r\n\r\n};\r\n\r\n// Line curve is linear, so we can overwrite default getPointAt\r\n\r\nTHREE.LineCurve.prototype.getPointAt = function ( u ) {\r\n\r\n\treturn this.getPoint( u );\r\n\r\n};\r\n\r\nTHREE.LineCurve.prototype.getTangent = function( t ) {\r\n\r\n\tvar tangent = this.v2.clone().sub( this.v1 );\r\n\r\n\treturn tangent.normalize();\r\n\r\n};\r\n\r\n// File:src/extras/curves/QuadraticBezierCurve.js\r\n\r\n/**************************************************************\r\n *\tQuadratic Bezier curve\r\n **************************************************************/\r\n\r\n\r\nTHREE.QuadraticBezierCurve = function ( v0, v1, v2 ) {\r\n\r\n\tthis.v0 = v0;\r\n\tthis.v1 = v1;\r\n\tthis.v2 = v2;\r\n\r\n};\r\n\r\nTHREE.QuadraticBezierCurve.prototype = Object.create( THREE.Curve.prototype );\r\nTHREE.QuadraticBezierCurve.prototype.constructor = THREE.QuadraticBezierCurve;\r\n\r\n\r\nTHREE.QuadraticBezierCurve.prototype.getPoint = function ( t ) {\r\n\r\n\tvar b2 = THREE.ShapeUtils.b2;\r\n\r\n\treturn new THREE.Vector2(\r\n\t\tb2( t, this.v0.x, this.v1.x, this.v2.x ),\r\n\t\tb2( t, this.v0.y, this.v1.y, this.v2.y )\r\n\t);\r\n\r\n};\r\n\r\n\r\nTHREE.QuadraticBezierCurve.prototype.getTangent = function( t ) {\r\n\r\n\tvar tangentQuadraticBezier = THREE.CurveUtils.tangentQuadraticBezier;\r\n\r\n\treturn new THREE.Vector2(\r\n\t\ttangentQuadraticBezier( t, this.v0.x, this.v1.x, this.v2.x ),\r\n\t\ttangentQuadraticBezier( t, this.v0.y, this.v1.y, this.v2.y )\r\n\t).normalize();\r\n\r\n};\r\n\r\n// File:src/extras/curves/CubicBezierCurve.js\r\n\r\n/**************************************************************\r\n *\tCubic Bezier curve\r\n **************************************************************/\r\n\r\nTHREE.CubicBezierCurve = function ( v0, v1, v2, v3 ) {\r\n\r\n\tthis.v0 = v0;\r\n\tthis.v1 = v1;\r\n\tthis.v2 = v2;\r\n\tthis.v3 = v3;\r\n\r\n};\r\n\r\nTHREE.CubicBezierCurve.prototype = Object.create( THREE.Curve.prototype );\r\nTHREE.CubicBezierCurve.prototype.constructor = THREE.CubicBezierCurve;\r\n\r\nTHREE.CubicBezierCurve.prototype.getPoint = function ( t ) {\r\n\r\n\tvar b3 = THREE.ShapeUtils.b3;\r\n\r\n\treturn new THREE.Vector2( \r\n\t\tb3( t, this.v0.x, this.v1.x, this.v2.x, this.v3.x ),\r\n\t\tb3( t, this.v0.y, this.v1.y, this.v2.y, this.v3.y )\r\n\t);\r\n\r\n};\r\n\r\nTHREE.CubicBezierCurve.prototype.getTangent = function( t ) {\r\n\r\n\tvar tangentCubicBezier = THREE.CurveUtils.tangentCubicBezier;\r\n\r\n\treturn new THREE.Vector2( \r\n\t\ttangentCubicBezier( t, this.v0.x, this.v1.x, this.v2.x, this.v3.x ),\r\n\t\ttangentCubicBezier( t, this.v0.y, this.v1.y, this.v2.y, this.v3.y )\r\n\t).normalize();\r\n\r\n};\r\n\r\n// File:src/extras/curves/SplineCurve.js\r\n\r\n/**************************************************************\r\n *\tSpline curve\r\n **************************************************************/\r\n\r\nTHREE.SplineCurve = function ( points /* array of Vector2 */ ) {\r\n\r\n\tthis.points = ( points == undefined ) ? [] : points;\r\n\r\n};\r\n\r\nTHREE.SplineCurve.prototype = Object.create( THREE.Curve.prototype );\r\nTHREE.SplineCurve.prototype.constructor = THREE.SplineCurve;\r\n\r\nTHREE.SplineCurve.prototype.getPoint = function ( t ) {\r\n\r\n\tvar points = this.points;\r\n\tvar point = ( points.length - 1 ) * t;\r\n\r\n\tvar intPoint = Math.floor( point );\r\n\tvar weight = point - intPoint;\r\n\r\n\tvar point0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\r\n\tvar point1 = points[ intPoint ];\r\n\tvar point2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\r\n\tvar point3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\r\n\r\n\tvar interpolate = THREE.CurveUtils.interpolate;\r\n\r\n\treturn new THREE.Vector2(\r\n\t\tinterpolate( point0.x, point1.x, point2.x, point3.x, weight ),\r\n\t\tinterpolate( point0.y, point1.y, point2.y, point3.y, weight )\r\n\t);\r\n\r\n};\r\n\r\n// File:src/extras/curves/EllipseCurve.js\r\n\r\n/**************************************************************\r\n *\tEllipse curve\r\n **************************************************************/\r\n\r\nTHREE.EllipseCurve = function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\r\n\r\n\tthis.aX = aX;\r\n\tthis.aY = aY;\r\n\r\n\tthis.xRadius = xRadius;\r\n\tthis.yRadius = yRadius;\r\n\r\n\tthis.aStartAngle = aStartAngle;\r\n\tthis.aEndAngle = aEndAngle;\r\n\r\n\tthis.aClockwise = aClockwise;\r\n\t\r\n\tthis.aRotation = aRotation || 0;\r\n\r\n};\r\n\r\nTHREE.EllipseCurve.prototype = Object.create( THREE.Curve.prototype );\r\nTHREE.EllipseCurve.prototype.constructor = THREE.EllipseCurve;\r\n\r\nTHREE.EllipseCurve.prototype.getPoint = function ( t ) {\r\n\r\n\tvar deltaAngle = this.aEndAngle - this.aStartAngle;\r\n\r\n\tif ( deltaAngle < 0 ) deltaAngle += Math.PI * 2;\r\n\tif ( deltaAngle > Math.PI * 2 ) deltaAngle -= Math.PI * 2;\r\n\r\n\tvar angle;\r\n\r\n\tif ( this.aClockwise === true ) {\r\n\r\n\t\tangle = this.aEndAngle + ( 1 - t ) * ( Math.PI * 2 - deltaAngle );\r\n\r\n\t} else {\r\n\r\n\t\tangle = this.aStartAngle + t * deltaAngle;\r\n\r\n\t}\r\n\t\r\n\tvar x = this.aX + this.xRadius * Math.cos( angle );\r\n\tvar y = this.aY + this.yRadius * Math.sin( angle );\r\n\r\n\tif ( this.aRotation !== 0 ) {\r\n\r\n\t\tvar cos = Math.cos( this.aRotation );\r\n\t\tvar sin = Math.sin( this.aRotation );\r\n\r\n\t\tvar tx = x, ty = y;\r\n\r\n\t\t// Rotate the point about the center of the ellipse.\r\n\t\tx = ( tx - this.aX ) * cos - ( ty - this.aY ) * sin + this.aX;\r\n\t\ty = ( tx - this.aX ) * sin + ( ty - this.aY ) * cos + this.aY;\r\n\r\n\t}\r\n\r\n\treturn new THREE.Vector2( x, y );\r\n\r\n};\r\n\r\n// File:src/extras/curves/ArcCurve.js\r\n\r\n/**************************************************************\r\n *\tArc curve\r\n **************************************************************/\r\n\r\nTHREE.ArcCurve = function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\r\n\r\n\tTHREE.EllipseCurve.call( this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\r\n\r\n};\r\n\r\nTHREE.ArcCurve.prototype = Object.create( THREE.EllipseCurve.prototype );\r\nTHREE.ArcCurve.prototype.constructor = THREE.ArcCurve;\r\n\r\n// File:src/extras/curves/LineCurve3.js\r\n\r\n/**************************************************************\r\n *\tLine3D\r\n **************************************************************/\r\n\r\nTHREE.LineCurve3 = THREE.Curve.create(\r\n\r\n\tfunction ( v1, v2 ) {\r\n\r\n\t\tthis.v1 = v1;\r\n\t\tthis.v2 = v2;\r\n\r\n\t},\r\n\r\n\tfunction ( t ) {\r\n\r\n\t\tvar vector = new THREE.Vector3();\r\n\r\n\t\tvector.subVectors( this.v2, this.v1 ); // diff\r\n\t\tvector.multiplyScalar( t );\r\n\t\tvector.add( this.v1 );\r\n\r\n\t\treturn vector;\r\n\r\n\t}\r\n\r\n);\r\n\r\n// File:src/extras/curves/QuadraticBezierCurve3.js\r\n\r\n/**************************************************************\r\n *\tQuadratic Bezier 3D curve\r\n **************************************************************/\r\n\r\nTHREE.QuadraticBezierCurve3 = THREE.Curve.create(\r\n\r\n\tfunction ( v0, v1, v2 ) {\r\n\r\n\t\tthis.v0 = v0;\r\n\t\tthis.v1 = v1;\r\n\t\tthis.v2 = v2;\r\n\r\n\t},\r\n\r\n\tfunction ( t ) {\r\n\r\n\t\tvar b2 = THREE.ShapeUtils.b2;\t\t\r\n\r\n\t\treturn new THREE.Vector3(\r\n\t\t\tb2( t, this.v0.x, this.v1.x, this.v2.x ),\r\n\t\t\tb2( t, this.v0.y, this.v1.y, this.v2.y ),\r\n\t\t\tb2( t, this.v0.z, this.v1.z, this.v2.z )\r\n\t\t);\r\n\r\n\t}\r\n\r\n);\r\n\r\n// File:src/extras/curves/CubicBezierCurve3.js\r\n\r\n/**************************************************************\r\n *\tCubic Bezier 3D curve\r\n **************************************************************/\r\n\r\nTHREE.CubicBezierCurve3 = THREE.Curve.create(\r\n\r\n\tfunction ( v0, v1, v2, v3 ) {\r\n\r\n\t\tthis.v0 = v0;\r\n\t\tthis.v1 = v1;\r\n\t\tthis.v2 = v2;\r\n\t\tthis.v3 = v3;\r\n\r\n\t},\r\n\r\n\tfunction ( t ) {\r\n\r\n\t\tvar b3 = THREE.ShapeUtils.b3;\r\n\r\n\t\treturn new THREE.Vector3(\r\n\t\t\tb3( t, this.v0.x, this.v1.x, this.v2.x, this.v3.x ),\r\n\t\t\tb3( t, this.v0.y, this.v1.y, this.v2.y, this.v3.y ),\r\n\t\t\tb3( t, this.v0.z, this.v1.z, this.v2.z, this.v3.z )\r\n\t\t);\r\n\r\n\t}\r\n\r\n);\r\n\r\n// File:src/extras/curves/SplineCurve3.js\r\n\r\n/**************************************************************\r\n *\tSpline 3D curve\r\n **************************************************************/\r\n\r\n\r\nTHREE.SplineCurve3 = THREE.Curve.create(\r\n\r\n\tfunction ( points /* array of Vector3 */ ) {\r\n\r\n\t\tconsole.warn( 'THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3' );\r\n\t\tthis.points = ( points == undefined ) ? [] : points;\r\n\r\n\t},\r\n\r\n\tfunction ( t ) {\r\n\r\n\t\tvar points = this.points;\r\n\t\tvar point = ( points.length - 1 ) * t;\r\n\r\n\t\tvar intPoint = Math.floor( point );\r\n\t\tvar weight = point - intPoint;\r\n\r\n\t\tvar point0 = points[ intPoint == 0 ? intPoint : intPoint - 1 ];\r\n\t\tvar point1 = points[ intPoint ];\r\n\t\tvar point2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\r\n\t\tvar point3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\r\n\r\n\t\tvar interpolate = THREE.CurveUtils.interpolate;\r\n\r\n\t\treturn new THREE.Vector3(\r\n\t\t\tinterpolate( point0.x, point1.x, point2.x, point3.x, weight ),\r\n\t\t\tinterpolate( point0.y, point1.y, point2.y, point3.y, weight ),\r\n\t\t\tinterpolate( point0.z, point1.z, point2.z, point3.z, weight )\r\n\t\t);\r\n\r\n\t}\r\n\r\n);\r\n\r\n// File:src/extras/curves/CatmullRomCurve3.js\r\n\r\n/**\r\n * @author zz85 https://github.com/zz85\r\n *\r\n * Centripetal CatmullRom Curve - which is useful for avoiding\r\n * cusps and self-intersections in non-uniform catmull rom curves.\r\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\r\n *\r\n * curve.type accepts centripetal(default), chordal and catmullrom\r\n * curve.tension is used for catmullrom which defaults to 0.5\r\n */\r\n\r\nTHREE.CatmullRomCurve3 = ( function() {\r\n\r\n\tvar\r\n\t\ttmp = new THREE.Vector3(),\r\n\t\tpx = new CubicPoly(),\r\n\t\tpy = new CubicPoly(),\r\n\t\tpz = new CubicPoly();\r\n\r\n\t/*\r\n\tBased on an optimized c++ solution in\r\n\t - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\r\n\t - http://ideone.com/NoEbVM\r\n\r\n\tThis CubicPoly class could be used for reusing some variables and calculations,\r\n\tbut for three.js curve use, it could be possible inlined and flatten into a single function call\r\n\twhich can be placed in CurveUtils.\r\n\t*/\r\n\r\n\tfunction CubicPoly() {\r\n\r\n\t}\r\n\r\n\t/*\r\n\t * Compute coefficients for a cubic polynomial\r\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\r\n\t * such that\r\n\t *   p(0) = x0, p(1) = x1\r\n\t *  and\r\n\t *   p'(0) = t0, p'(1) = t1.\r\n\t */\r\n\tCubicPoly.prototype.init = function( x0, x1, t0, t1 ) {\r\n\r\n\t\tthis.c0 = x0;\r\n\t\tthis.c1 = t0;\r\n\t\tthis.c2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\r\n\t\tthis.c3 = 2 * x0 - 2 * x1 + t0 + t1;\r\n\r\n\t};\r\n\r\n\tCubicPoly.prototype.initNonuniformCatmullRom = function( x0, x1, x2, x3, dt0, dt1, dt2 ) {\r\n\r\n\t\t// compute tangents when parameterized in [t1,t2]\r\n\t\tvar t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\r\n\t\tvar t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\r\n\r\n\t\t// rescale tangents for parametrization in [0,1]\r\n\t\tt1 *= dt1;\r\n\t\tt2 *= dt1;\r\n\r\n\t\t// initCubicPoly\r\n\t\tthis.init( x1, x2, t1, t2 );\r\n\r\n\t};\r\n\r\n\t// standard Catmull-Rom spline: interpolate between x1 and x2 with previous/following points x1/x4\r\n\tCubicPoly.prototype.initCatmullRom = function( x0, x1, x2, x3, tension ) {\r\n\r\n\t\tthis.init( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\r\n\r\n\t};\r\n\r\n\tCubicPoly.prototype.calc = function( t ) {\r\n\r\n\t\tvar t2 = t * t;\r\n\t\tvar t3 = t2 * t;\r\n\t\treturn this.c0 + this.c1 * t + this.c2 * t2 + this.c3 * t3;\r\n\r\n\t};\r\n\r\n\t// Subclass Three.js curve\r\n\treturn THREE.Curve.create(\r\n\r\n\t\tfunction ( p /* array of Vector3 */ ) {\r\n\r\n\t\t\tthis.points = p || [];\r\n\t\t\tthis.closed = false;\r\n\r\n\t\t},\r\n\r\n\t\tfunction ( t ) {\r\n\r\n\t\t\tvar points = this.points,\r\n\t\t\t\tpoint, intPoint, weight, l;\r\n\r\n\t\t\tl = points.length;\r\n\r\n\t\t\tif ( l < 2 ) console.log( 'duh, you need at least 2 points' );\r\n\r\n\t\t\tpoint = ( l - ( this.closed ? 0 : 1 ) ) * t;\r\n\t\t\tintPoint = Math.floor( point );\r\n\t\t\tweight = point - intPoint;\r\n\r\n\t\t\tif ( this.closed ) {\r\n\r\n\t\t\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / points.length ) + 1 ) * points.length;\r\n\r\n\t\t\t} else if ( weight === 0 && intPoint === l - 1 ) {\r\n\r\n\t\t\t\tintPoint = l - 2;\r\n\t\t\t\tweight = 1;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar p0, p1, p2, p3; // 4 points\r\n\r\n\t\t\tif ( this.closed || intPoint > 0 ) {\r\n\r\n\t\t\t\tp0 = points[ ( intPoint - 1 ) % l ];\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// extrapolate first point\r\n\t\t\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\r\n\t\t\t\tp0 = tmp;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tp1 = points[ intPoint % l ];\r\n\t\t\tp2 = points[ ( intPoint + 1 ) % l ];\r\n\r\n\t\t\tif ( this.closed || intPoint + 2 < l ) {\r\n\r\n\t\t\t\tp3 = points[ ( intPoint + 2 ) % l ];\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// extrapolate last point\r\n\t\t\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\r\n\t\t\t\tp3 = tmp;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.type === undefined || this.type === 'centripetal' || this.type === 'chordal' ) {\r\n\r\n\t\t\t\t// init Centripetal / Chordal Catmull-Rom\r\n\t\t\t\tvar pow = this.type === 'chordal' ? 0.5 : 0.25;\r\n\t\t\t\tvar dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\r\n\t\t\t\tvar dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\r\n\t\t\t\tvar dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\r\n\r\n\t\t\t\t// safety check for repeated points\r\n\t\t\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\r\n\t\t\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\r\n\t\t\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\r\n\r\n\t\t\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\r\n\t\t\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\r\n\t\t\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\r\n\r\n\t\t\t} else if ( this.type === 'catmullrom' ) {\r\n\r\n\t\t\t\tvar tension = this.tension !== undefined ? this.tension : 0.5;\r\n\t\t\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, tension );\r\n\t\t\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, tension );\r\n\t\t\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, tension );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar v = new THREE.Vector3(\r\n\t\t\t\tpx.calc( weight ),\r\n\t\t\t\tpy.calc( weight ),\r\n\t\t\t\tpz.calc( weight )\r\n\t\t\t);\r\n\r\n\t\t\treturn v;\r\n\r\n\t\t}\r\n\r\n\t);\r\n\r\n} )();\r\n\r\n// File:src/extras/curves/ClosedSplineCurve3.js\r\n\r\n/**************************************************************\r\n *\tClosed Spline 3D curve\r\n **************************************************************/\r\n\r\n\r\nTHREE.ClosedSplineCurve3 = function ( points ) {\r\n\r\n\tconsole.warn( 'THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3.' );\r\n\r\n\tTHREE.CatmullRomCurve3.call( this, points );\r\n\tthis.type = 'catmullrom';\r\n\tthis.closed = true;\r\n\r\n};\r\n\r\nTHREE.ClosedSplineCurve3.prototype = Object.create( THREE.CatmullRomCurve3.prototype );\r\n\r\n// File:src/extras/geometries/BoxGeometry.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * based on http://papervision3d.googlecode.com/svn/trunk/as3/trunk/src/org/papervision3d/objects/primitives/Cube.as\r\n */\r\n\r\nTHREE.BoxGeometry = function ( width, height, depth, widthSegments, heightSegments, depthSegments ) {\r\n\r\n\tTHREE.Geometry.call( this );\r\n\r\n\tthis.type = 'BoxGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\twidth: width,\r\n\t\theight: height,\r\n\t\tdepth: depth,\r\n\t\twidthSegments: widthSegments,\r\n\t\theightSegments: heightSegments,\r\n\t\tdepthSegments: depthSegments\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new THREE.BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) );\r\n\tthis.mergeVertices();\r\n\r\n};\r\n\r\nTHREE.BoxGeometry.prototype = Object.create( THREE.Geometry.prototype );\r\nTHREE.BoxGeometry.prototype.constructor = THREE.BoxGeometry;\r\n\r\nTHREE.CubeGeometry = THREE.BoxGeometry;\r\n\r\n// File:src/extras/geometries/BoxBufferGeometry.js\r\n\r\n/**\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\nTHREE.BoxBufferGeometry = function ( width, height, depth, widthSegments, heightSegments, depthSegments ) {\r\n\r\n\tTHREE.BufferGeometry.call( this );\r\n\r\n\tthis.type = 'BoxBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\twidth: width,\r\n\t\theight: height,\r\n\t\tdepth: depth,\r\n\t\twidthSegments: widthSegments,\r\n\t\theightSegments: heightSegments,\r\n\t\tdepthSegments: depthSegments\r\n\t};\r\n\r\n\tvar scope = this;\r\n\r\n\t// segments\r\n\twidthSegments = Math.floor( widthSegments ) || 1;\r\n\theightSegments = Math.floor( heightSegments ) || 1;\r\n\tdepthSegments = Math.floor( depthSegments ) || 1;\r\n\r\n\t// these are used to calculate buffer length\r\n\tvar vertexCount = calculateVertexCount( widthSegments, heightSegments, depthSegments );\r\n\tvar indexCount = calculateIndexCount( widthSegments, heightSegments, depthSegments );\r\n\r\n\t// buffers\r\n\tvar indices = new ( indexCount > 65535 ? Uint32Array : Uint16Array )( indexCount );\r\n\tvar vertices = new Float32Array( vertexCount * 3 );\r\n\tvar normals = new Float32Array( vertexCount * 3 );\r\n\tvar uvs = new Float32Array( vertexCount * 2 );\r\n\r\n\t// offset variables\r\n\tvar vertexBufferOffset = 0;\r\n\tvar uvBufferOffset = 0;\r\n\tvar indexBufferOffset = 0;\r\n\tvar numberOfVertices = 0;\r\n\r\n\t// group variables\r\n\tvar groupStart = 0;\r\n\r\n\t// build each side of the box geometry\r\n\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height,   width,  depthSegments, heightSegments, 0 ); // px\r\n\tbuildPlane( 'z', 'y', 'x',   1, - 1, depth, height, - width,  depthSegments, heightSegments, 1 ); // nx\r\n\tbuildPlane( 'x', 'z', 'y',   1,   1, width, depth,    height, widthSegments, depthSegments,  2 ); // py\r\n\tbuildPlane( 'x', 'z', 'y',   1, - 1, width, depth,  - height, widthSegments, depthSegments,  3 ); // ny\r\n\tbuildPlane( 'x', 'y', 'z',   1, - 1, width, height,   depth,  widthSegments, heightSegments, 4 ); // pz\r\n\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth,  widthSegments, heightSegments, 5 ); // nz\r\n\r\n\t// build geometry\r\n\tthis.setIndex( new THREE.BufferAttribute( indices, 1 ) );\r\n\tthis.addAttribute( 'position', new THREE.BufferAttribute( vertices, 3 ) );\r\n\tthis.addAttribute( 'normal', new THREE.BufferAttribute( normals, 3 ) );\r\n\tthis.addAttribute( 'uv', new THREE.BufferAttribute( uvs, 2 ) );\r\n\r\n\t// helper functions\r\n\r\n\tfunction calculateVertexCount ( w, h, d ) {\r\n\r\n\t\tvar vertices = 0;\r\n\r\n\t\t// calculate the amount of vertices for each side (plane)\r\n\t\tvertices += (w + 1) * (h + 1) * 2; // xy\r\n\t\tvertices += (w + 1) * (d + 1) * 2; // xz\r\n\t\tvertices += (d + 1) * (h + 1) * 2; // zy\r\n\r\n\t\treturn vertices;\r\n\r\n\t}\r\n\r\n\tfunction calculateIndexCount ( w, h, d ) {\r\n\r\n\t\tvar index = 0;\r\n\r\n\t\t// calculate the amount of squares for each side\r\n\t\tindex += w * h * 2; // xy\r\n\t\tindex += w * d * 2; // xz\r\n\t\tindex += d * h * 2; // zy\r\n\r\n\t\treturn index * 6; // two triangles per square => six vertices per square\r\n\r\n\t}\r\n\r\n\tfunction buildPlane ( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\r\n\r\n\t\tvar segmentWidth\t= width / gridX;\r\n\t\tvar segmentHeight = height / gridY;\r\n\r\n\t\tvar widthHalf = width / 2;\r\n\t\tvar heightHalf = height / 2;\r\n\t\tvar depthHalf = depth / 2;\r\n\r\n\t\tvar gridX1 = gridX + 1;\r\n\t\tvar gridY1 = gridY + 1;\r\n\r\n\t\tvar vertexCounter = 0;\r\n\t\tvar groupCount = 0;\r\n\r\n\t\tvar vector = new THREE.Vector3();\r\n\r\n\t\t// generate vertices, normals and uvs\r\n\r\n\t\tfor ( var iy = 0; iy < gridY1; iy ++ ) {\r\n\r\n\t\t\tvar y = iy * segmentHeight - heightHalf;\r\n\r\n\t\t\tfor ( var ix = 0; ix < gridX1; ix ++ ) {\r\n\r\n\t\t\t\tvar x = ix * segmentWidth - widthHalf;\r\n\r\n\t\t\t\t// set values to correct vector component\r\n\t\t\t\tvector[ u ] = x * udir;\r\n\t\t\t\tvector[ v ] = y * vdir;\r\n\t\t\t\tvector[ w ] = depthHalf;\r\n\r\n\t\t\t\t// now apply vector to vertex buffer\r\n\t\t\t\tvertices[ vertexBufferOffset ] = vector.x;\r\n\t\t\t\tvertices[ vertexBufferOffset + 1 ] = vector.y;\r\n\t\t\t\tvertices[ vertexBufferOffset + 2 ] = vector.z;\r\n\r\n\t\t\t\t// set values to correct vector component\r\n\t\t\t\tvector[ u ] = 0;\r\n\t\t\t\tvector[ v ] = 0;\r\n\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\r\n\r\n\t\t\t\t// now apply vector to normal buffer\r\n\t\t\t\tnormals[ vertexBufferOffset ] = vector.x;\r\n\t\t\t\tnormals[ vertexBufferOffset + 1 ] = vector.y;\r\n\t\t\t\tnormals[ vertexBufferOffset + 2 ] = vector.z;\r\n\r\n\t\t\t\t// uvs\r\n\t\t\t\tuvs[ uvBufferOffset ] = ix / gridX;\r\n\t\t\t\tuvs[ uvBufferOffset + 1 ] = 1 - ( iy / gridY );\r\n\r\n\t\t\t\t// update offsets and counters\r\n\t\t\t\tvertexBufferOffset += 3;\r\n\t\t\t\tuvBufferOffset += 2;\r\n\t\t\t\tvertexCounter += 1;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// 1. you need three indices to draw a single face\r\n\t\t// 2. a single segment consists of two faces\r\n\t\t// 3. so we need to generate six (2*3) indices per segment\r\n\r\n\t\tfor ( iy = 0; iy < gridY; iy ++ ) {\r\n\r\n\t\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\r\n\r\n\t\t\t\t// indices\r\n\t\t\t\tvar a = numberOfVertices + ix + gridX1 * iy;\r\n\t\t\t\tvar b = numberOfVertices + ix + gridX1 * ( iy + 1 );\r\n\t\t\t\tvar c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\r\n\t\t\t\tvar d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\r\n\r\n\t\t\t\t// face one\r\n\t\t\t\tindices[ indexBufferOffset ] = a;\r\n\t\t\t\tindices[ indexBufferOffset + 1 ] = b;\r\n\t\t\t\tindices[ indexBufferOffset + 2 ] = d;\r\n\r\n\t\t\t\t// face two\r\n\t\t\t\tindices[ indexBufferOffset + 3 ] = b;\r\n\t\t\t\tindices[ indexBufferOffset + 4 ] = c;\r\n\t\t\t\tindices[ indexBufferOffset + 5 ] = d;\r\n\r\n\t\t\t\t// update offsets and counters\r\n\t\t\t\tindexBufferOffset += 6;\r\n\t\t\t\tgroupCount += 6;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// add a group to the geometry. this will ensure multi material support\r\n\t\tscope.addGroup( groupStart, groupCount, materialIndex );\r\n\r\n\t\t// calculate new start value for groups\r\n\t\tgroupStart += groupCount;\r\n\r\n\t\t// update total number of vertices\r\n\t\tnumberOfVertices += vertexCounter;\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.BoxBufferGeometry.prototype = Object.create( THREE.BufferGeometry.prototype );\r\nTHREE.BoxBufferGeometry.prototype.constructor = THREE.BoxBufferGeometry;\r\n\r\n// File:src/extras/geometries/CircleGeometry.js\r\n\r\n/**\r\n * @author hughes\r\n */\r\n\r\nTHREE.CircleGeometry = function ( radius, segments, thetaStart, thetaLength ) {\r\n\r\n\tTHREE.Geometry.call( this );\r\n\r\n\tthis.type = 'CircleGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\tsegments: segments,\r\n\t\tthetaStart: thetaStart,\r\n\t\tthetaLength: thetaLength\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new THREE.CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) );\r\n\r\n};\r\n\r\nTHREE.CircleGeometry.prototype = Object.create( THREE.Geometry.prototype );\r\nTHREE.CircleGeometry.prototype.constructor = THREE.CircleGeometry;\r\n\r\n// File:src/extras/geometries/CircleBufferGeometry.js\r\n\r\n/**\r\n * @author benaadams / https://twitter.com/ben_a_adams\r\n */\r\n\r\nTHREE.CircleBufferGeometry = function ( radius, segments, thetaStart, thetaLength ) {\r\n\r\n\tTHREE.BufferGeometry.call( this );\r\n\r\n\tthis.type = 'CircleBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\tsegments: segments,\r\n\t\tthetaStart: thetaStart,\r\n\t\tthetaLength: thetaLength\r\n\t};\r\n\r\n\tradius = radius || 50;\r\n\tsegments = segments !== undefined ? Math.max( 3, segments ) : 8;\r\n\r\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\r\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\r\n\r\n\tvar vertices = segments + 2;\r\n\r\n\tvar positions = new Float32Array( vertices * 3 );\r\n\tvar normals = new Float32Array( vertices * 3 );\r\n\tvar uvs = new Float32Array( vertices * 2 );\r\n\r\n\t// center data is already zero, but need to set a few extras\r\n\tnormals[ 2 ] = 1.0;\r\n\tuvs[ 0 ] = 0.5;\r\n\tuvs[ 1 ] = 0.5;\r\n\r\n\tfor ( var s = 0, i = 3, ii = 2 ; s <= segments; s ++, i += 3, ii += 2 ) {\r\n\r\n\t\tvar segment = thetaStart + s / segments * thetaLength;\r\n\r\n\t\tpositions[ i ] = radius * Math.cos( segment );\r\n\t\tpositions[ i + 1 ] = radius * Math.sin( segment );\r\n\r\n\t\tnormals[ i + 2 ] = 1; // normal z\r\n\r\n\t\tuvs[ ii ] = ( positions[ i ] / radius + 1 ) / 2;\r\n\t\tuvs[ ii + 1 ] = ( positions[ i + 1 ] / radius + 1 ) / 2;\r\n\r\n\t}\r\n\r\n\tvar indices = [];\r\n\r\n\tfor ( var i = 1; i <= segments; i ++ ) {\r\n\r\n\t\tindices.push( i, i + 1, 0 );\r\n\r\n\t}\r\n\r\n\tthis.setIndex( new THREE.BufferAttribute( new Uint16Array( indices ), 1 ) );\r\n\tthis.addAttribute( 'position', new THREE.BufferAttribute( positions, 3 ) );\r\n\tthis.addAttribute( 'normal', new THREE.BufferAttribute( normals, 3 ) );\r\n\tthis.addAttribute( 'uv', new THREE.BufferAttribute( uvs, 2 ) );\r\n\r\n\tthis.boundingSphere = new THREE.Sphere( new THREE.Vector3(), radius );\r\n\r\n};\r\n\r\nTHREE.CircleBufferGeometry.prototype = Object.create( THREE.BufferGeometry.prototype );\r\nTHREE.CircleBufferGeometry.prototype.constructor = THREE.CircleBufferGeometry;\r\n\r\n// File:src/extras/geometries/CylinderBufferGeometry.js\r\n\r\n/**\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\nTHREE.CylinderBufferGeometry = function( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\r\n\r\n\tTHREE.BufferGeometry.call( this );\r\n\r\n\tthis.type = 'CylinderBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradiusTop: radiusTop,\r\n\t\tradiusBottom: radiusBottom,\r\n\t\theight: height,\r\n\t\tradialSegments: radialSegments,\r\n\t\theightSegments: heightSegments,\r\n\t\topenEnded: openEnded,\r\n\t\tthetaStart: thetaStart,\r\n\t\tthetaLength: thetaLength\r\n\t};\r\n\r\n\tvar scope = this;\r\n\r\n\tradiusTop = radiusTop !== undefined ? radiusTop : 20;\r\n\tradiusBottom = radiusBottom !== undefined ? radiusBottom : 20;\r\n\theight = height !== undefined ? height : 100;\r\n\r\n\tradialSegments = Math.floor( radialSegments ) || 8;\r\n\theightSegments = Math.floor( heightSegments ) || 1;\r\n\r\n\topenEnded = openEnded !== undefined ? openEnded : false;\r\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0.0;\r\n\tthetaLength = thetaLength !== undefined ? thetaLength : 2.0 * Math.PI;\r\n\r\n\t// used to calculate buffer length\r\n\r\n\tvar nbCap = 0;\r\n\r\n\tif ( openEnded === false ) {\r\n\r\n\t\tif ( radiusTop > 0 ) nbCap ++;\r\n\t\tif ( radiusBottom > 0 ) nbCap ++;\r\n\r\n\t}\r\n\r\n\tvar vertexCount = calculateVertexCount();\r\n\tvar indexCount = calculateIndexCount();\r\n\r\n\t// buffers\r\n\r\n\tvar indices = new THREE.BufferAttribute( new ( indexCount > 65535 ? Uint32Array : Uint16Array )( indexCount ), 1 );\r\n\tvar vertices = new THREE.BufferAttribute( new Float32Array( vertexCount * 3 ), 3 );\r\n\tvar normals = new THREE.BufferAttribute( new Float32Array( vertexCount * 3 ), 3 );\r\n\tvar uvs = new THREE.BufferAttribute( new Float32Array( vertexCount * 2 ), 2 );\r\n\r\n\t// helper variables\r\n\r\n\tvar index = 0,\r\n\t    indexOffset = 0,\r\n\t    indexArray = [],\r\n\t    halfHeight = height / 2;\r\n\r\n\t// group variables\r\n\tvar groupStart = 0;\r\n\r\n\t// generate geometry\r\n\r\n\tgenerateTorso();\r\n\r\n\tif ( openEnded === false ) {\r\n\r\n\t\tif ( radiusTop > 0 ) generateCap( true );\r\n\t\tif ( radiusBottom > 0 ) generateCap( false );\r\n\r\n\t}\r\n\r\n\t// build geometry\r\n\r\n\tthis.setIndex( indices );\r\n\tthis.addAttribute( 'position', vertices );\r\n\tthis.addAttribute( 'normal', normals );\r\n\tthis.addAttribute( 'uv', uvs );\r\n\r\n\t// helper functions\r\n\r\n\tfunction calculateVertexCount() {\r\n\r\n\t\tvar count = ( radialSegments + 1 ) * ( heightSegments + 1 );\r\n\r\n\t\tif ( openEnded === false ) {\r\n\r\n\t\t\tcount += ( ( radialSegments + 1 ) * nbCap ) + ( radialSegments * nbCap );\r\n\r\n\t\t}\r\n\r\n\t\treturn count;\r\n\r\n\t}\r\n\r\n\tfunction calculateIndexCount() {\r\n\r\n\t\tvar count = radialSegments * heightSegments * 2 * 3;\r\n\r\n\t\tif ( openEnded === false ) {\r\n\r\n\t\t\tcount += radialSegments * nbCap * 3;\r\n\r\n\t\t}\r\n\r\n\t\treturn count;\r\n\r\n\t}\r\n\r\n\tfunction generateTorso() {\r\n\r\n\t\tvar x, y;\r\n\t\tvar normal = new THREE.Vector3();\r\n\t\tvar vertex = new THREE.Vector3();\r\n\r\n\t\tvar groupCount = 0;\r\n\r\n\t\t// this will be used to calculate the normal\r\n\t\tvar tanTheta = ( radiusBottom - radiusTop ) / height;\r\n\r\n\t\t// generate vertices, normals and uvs\r\n\r\n\t\tfor ( y = 0; y <= heightSegments; y ++ ) {\r\n\r\n\t\t\tvar indexRow = [];\r\n\r\n\t\t\tvar v = y / heightSegments;\r\n\r\n\t\t\t// calculate the radius of the current row\r\n\t\t\tvar radius = v * ( radiusBottom - radiusTop ) + radiusTop;\r\n\r\n\t\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\r\n\r\n\t\t\t\tvar u = x / radialSegments;\r\n\r\n\t\t\t\t// vertex\r\n\t\t\t\tvertex.x = radius * Math.sin( u * thetaLength + thetaStart );\r\n\t\t\t\tvertex.y = - v * height + halfHeight;\r\n\t\t\t\tvertex.z = radius * Math.cos( u * thetaLength + thetaStart );\r\n\t\t\t\tvertices.setXYZ( index, vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t\t// normal\r\n\t\t\t\tnormal.copy( vertex );\r\n\r\n\t\t\t\t// handle special case if radiusTop/radiusBottom is zero\r\n\r\n\t\t\t\tif ( ( radiusTop === 0 && y === 0 ) || ( radiusBottom === 0 && y === heightSegments ) ) {\r\n\r\n\t\t\t\t\tnormal.x = Math.sin( u * thetaLength + thetaStart );\r\n\t\t\t\t\tnormal.z = Math.cos( u * thetaLength + thetaStart );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnormal.setY( Math.sqrt( normal.x * normal.x + normal.z * normal.z ) * tanTheta ).normalize();\r\n\t\t\t\tnormals.setXYZ( index, normal.x, normal.y, normal.z );\r\n\r\n\t\t\t\t// uv\r\n\t\t\t\tuvs.setXY( index, u, 1 - v );\r\n\r\n\t\t\t\t// save index of vertex in respective row\r\n\t\t\t\tindexRow.push( index );\r\n\r\n\t\t\t\t// increase index\r\n\t\t\t\tindex ++;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// now save vertices of the row in our index array\r\n\t\t\tindexArray.push( indexRow );\r\n\r\n\t\t}\r\n\r\n\t\t// generate indices\r\n\r\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\r\n\r\n\t\t\tfor ( y = 0; y < heightSegments; y ++ ) {\r\n\r\n\t\t\t\t// we use the index array to access the correct indices\r\n\t\t\t\tvar i1 = indexArray[ y ][ x ];\r\n\t\t\t\tvar i2 = indexArray[ y + 1 ][ x ];\r\n\t\t\t\tvar i3 = indexArray[ y + 1 ][ x + 1 ];\r\n\t\t\t\tvar i4 = indexArray[ y ][ x + 1 ];\r\n\r\n\t\t\t\t// face one\r\n\t\t\t\tindices.setX( indexOffset, i1 ); indexOffset ++;\r\n\t\t\t\tindices.setX( indexOffset, i2 ); indexOffset ++;\r\n\t\t\t\tindices.setX( indexOffset, i4 ); indexOffset ++;\r\n\r\n\t\t\t\t// face two\r\n\t\t\t\tindices.setX( indexOffset, i2 ); indexOffset ++;\r\n\t\t\t\tindices.setX( indexOffset, i3 ); indexOffset ++;\r\n\t\t\t\tindices.setX( indexOffset, i4 ); indexOffset ++;\r\n\r\n\t\t\t\t// update counters\r\n\t\t\t\tgroupCount += 6;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// add a group to the geometry. this will ensure multi material support\r\n\t\tscope.addGroup( groupStart, groupCount, 0 );\r\n\r\n\t\t// calculate new start value for groups\r\n\t\tgroupStart += groupCount;\r\n\r\n\t}\r\n\r\n\tfunction generateCap( top ) {\r\n\r\n\t\tvar x, centerIndexStart, centerIndexEnd;\r\n\r\n\t\tvar uv = new THREE.Vector2();\r\n\t\tvar vertex = new THREE.Vector3();\r\n\r\n\t\tvar groupCount = 0;\r\n\r\n\t\tvar radius = ( top === true ) ? radiusTop : radiusBottom;\r\n\t\tvar sign = ( top === true ) ? 1 : - 1;\r\n\r\n\t\t// save the index of the first center vertex\r\n\t\tcenterIndexStart = index;\r\n\r\n\t\t// first we generate the center vertex data of the cap.\r\n\t\t// because the geometry needs one set of uvs per face,\r\n\t\t// we must generate a center vertex per face/segment\r\n\r\n\t\tfor ( x = 1; x <= radialSegments; x ++ ) {\r\n\r\n\t\t\t// vertex\r\n\t\t\tvertices.setXYZ( index, 0, halfHeight * sign, 0 );\r\n\r\n\t\t\t// normal\r\n\t\t\tnormals.setXYZ( index, 0, sign, 0 );\r\n\r\n\t\t\t// uv\r\n\t\t\tuv.x = 0.5;\r\n\t\t\tuv.y = 0.5;\r\n\r\n\t\t\tuvs.setXY( index, uv.x, uv.y );\r\n\r\n\t\t\t// increase index\r\n\t\t\tindex ++;\r\n\r\n\t\t}\r\n\r\n\t\t// save the index of the last center vertex\r\n\t\tcenterIndexEnd = index;\r\n\r\n\t\t// now we generate the surrounding vertices, normals and uvs\r\n\r\n\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\r\n\r\n\t\t\tvar u = x / radialSegments;\r\n\t\t\tvar theta = u * thetaLength + thetaStart;\r\n\r\n\t\t\tvar cosTheta = Math.cos( theta );\r\n\t\t\tvar sinTheta = Math.sin( theta );\r\n\r\n\t\t\t// vertex\r\n\t\t\tvertex.x = radius * sinTheta;\r\n\t\t\tvertex.y = halfHeight * sign;\r\n\t\t\tvertex.z = radius * cosTheta;\r\n\t\t\tvertices.setXYZ( index, vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t// normal\r\n\t\t\tnormals.setXYZ( index, 0, sign, 0 );\r\n\r\n\t\t\t// uv\r\n\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\r\n\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\r\n\t\t\tuvs.setXY( index, uv.x, uv.y );\r\n\r\n\t\t\t// increase index\r\n\t\t\tindex ++;\r\n\r\n\t\t}\r\n\r\n\t\t// generate indices\r\n\r\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\r\n\r\n\t\t\tvar c = centerIndexStart + x;\r\n\t\t\tvar i = centerIndexEnd + x;\r\n\r\n\t\t\tif ( top === true ) {\r\n\r\n\t\t\t\t// face top\r\n\t\t\t\tindices.setX( indexOffset, i ); indexOffset ++;\r\n\t\t\t\tindices.setX( indexOffset, i + 1 ); indexOffset ++;\r\n\t\t\t\tindices.setX( indexOffset, c ); indexOffset ++;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// face bottom\r\n\t\t\t\tindices.setX( indexOffset, i + 1 ); indexOffset ++;\r\n\t\t\t\tindices.setX( indexOffset, i ); indexOffset ++;\r\n\t\t\t\tindices.setX( indexOffset, c ); indexOffset ++;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// update counters\r\n\t\t\tgroupCount += 3;\r\n\r\n\t\t}\r\n\r\n\t\t// add a group to the geometry. this will ensure multi material support\r\n\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\r\n\r\n\t\t// calculate new start value for groups\r\n\t\tgroupStart += groupCount;\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.CylinderBufferGeometry.prototype = Object.create( THREE.BufferGeometry.prototype );\r\nTHREE.CylinderBufferGeometry.prototype.constructor = THREE.CylinderBufferGeometry;\r\n\r\n// File:src/extras/geometries/CylinderGeometry.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.CylinderGeometry = function ( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\r\n\r\n\tTHREE.Geometry.call( this );\r\n\r\n\tthis.type = 'CylinderGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradiusTop: radiusTop,\r\n\t\tradiusBottom: radiusBottom,\r\n\t\theight: height,\r\n\t\tradialSegments: radialSegments,\r\n\t\theightSegments: heightSegments,\r\n\t\topenEnded: openEnded,\r\n\t\tthetaStart: thetaStart,\r\n\t\tthetaLength: thetaLength\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new THREE.CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) );\r\n\tthis.mergeVertices();\r\n\r\n};\r\n\r\nTHREE.CylinderGeometry.prototype = Object.create( THREE.Geometry.prototype );\r\nTHREE.CylinderGeometry.prototype.constructor = THREE.CylinderGeometry;\r\n\r\n// File:src/extras/geometries/ConeBufferGeometry.js\r\n\r\n/*\r\n * @author: abelnation / http://github.com/abelnation\r\n */\r\n\r\nTHREE.ConeBufferGeometry = function (\r\n\tradius, height,\r\n\tradialSegments, heightSegments,\r\n\topenEnded, thetaStart, thetaLength ) {\r\n\r\n\tTHREE.CylinderBufferGeometry.call( this,\r\n\t\t0, radius, height,\r\n\t\tradialSegments, heightSegments,\r\n\t\topenEnded, thetaStart, thetaLength );\r\n\r\n\tthis.type = 'ConeBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\theight: height,\r\n\t\tradialSegments: radialSegments,\r\n\t\theightSegments: heightSegments,\r\n\t\tthetaStart: thetaStart,\r\n\t\tthetaLength: thetaLength\r\n\t};\r\n\r\n};\r\n\r\nTHREE.ConeBufferGeometry.prototype = Object.create( THREE.BufferGeometry.prototype );\r\nTHREE.ConeBufferGeometry.prototype.constructor = THREE.ConeBufferGeometry;\r\n\r\n// File:src/extras/geometries/ConeGeometry.js\r\n\r\n/**\r\n * @author abelnation / http://github.com/abelnation\r\n */\r\n\r\nTHREE.ConeGeometry = function (\r\n\tradius, height,\r\n\tradialSegments, heightSegments,\r\n\topenEnded, thetaStart, thetaLength ) {\r\n\r\n\tTHREE.CylinderGeometry.call( this,\r\n\t\t0, radius, height,\r\n\t\tradialSegments, heightSegments,\r\n\t\topenEnded, thetaStart, thetaLength );\r\n\r\n\tthis.type = 'ConeGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\theight: height,\r\n\t\tradialSegments: radialSegments,\r\n\t\theightSegments: heightSegments,\r\n\t\topenEnded: openEnded,\r\n\t\tthetaStart: thetaStart,\r\n\t\tthetaLength: thetaLength\r\n\t};\r\n\r\n};\r\n\r\nTHREE.ConeGeometry.prototype = Object.create( THREE.CylinderGeometry.prototype );\r\nTHREE.ConeGeometry.prototype.constructor = THREE.ConeGeometry;\r\n\r\n// File:src/extras/geometries/EdgesGeometry.js\r\n\r\n/**\r\n * @author WestLangley / http://github.com/WestLangley\r\n */\r\n\r\nTHREE.EdgesGeometry = function ( geometry, thresholdAngle ) {\r\n\r\n\tTHREE.BufferGeometry.call( this );\r\n\r\n\tthresholdAngle = ( thresholdAngle !== undefined ) ? thresholdAngle : 1;\r\n\r\n\tvar thresholdDot = Math.cos( THREE.Math.DEG2RAD * thresholdAngle );\r\n\r\n\tvar edge = [ 0, 0 ], hash = {};\r\n\r\n\tfunction sortFunction( a, b ) {\r\n\r\n\t\treturn a - b;\r\n\r\n\t}\r\n\r\n\tvar keys = [ 'a', 'b', 'c' ];\r\n\r\n\tvar geometry2;\r\n\r\n\tif ( geometry instanceof THREE.BufferGeometry ) {\r\n\r\n\t\tgeometry2 = new THREE.Geometry();\r\n\t\tgeometry2.fromBufferGeometry( geometry );\r\n\r\n\t} else {\r\n\r\n\t\tgeometry2 = geometry.clone();\r\n\r\n\t}\r\n\r\n\tgeometry2.mergeVertices();\r\n\tgeometry2.computeFaceNormals();\r\n\r\n\tvar vertices = geometry2.vertices;\r\n\tvar faces = geometry2.faces;\r\n\r\n\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\r\n\r\n\t\tvar face = faces[ i ];\r\n\r\n\t\tfor ( var j = 0; j < 3; j ++ ) {\r\n\r\n\t\t\tedge[ 0 ] = face[ keys[ j ] ];\r\n\t\t\tedge[ 1 ] = face[ keys[ ( j + 1 ) % 3 ] ];\r\n\t\t\tedge.sort( sortFunction );\r\n\r\n\t\t\tvar key = edge.toString();\r\n\r\n\t\t\tif ( hash[ key ] === undefined ) {\r\n\r\n\t\t\t\thash[ key ] = { vert1: edge[ 0 ], vert2: edge[ 1 ], face1: i, face2: undefined };\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\thash[ key ].face2 = i;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tvar coords = [];\r\n\r\n\tfor ( var key in hash ) {\r\n\r\n\t\tvar h = hash[ key ];\r\n\r\n\t\tif ( h.face2 === undefined || faces[ h.face1 ].normal.dot( faces[ h.face2 ].normal ) <= thresholdDot ) {\r\n\r\n\t\t\tvar vertex = vertices[ h.vert1 ];\r\n\t\t\tcoords.push( vertex.x );\r\n\t\t\tcoords.push( vertex.y );\r\n\t\t\tcoords.push( vertex.z );\r\n\r\n\t\t\tvertex = vertices[ h.vert2 ];\r\n\t\t\tcoords.push( vertex.x );\r\n\t\t\tcoords.push( vertex.y );\r\n\t\t\tcoords.push( vertex.z );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tthis.addAttribute( 'position', new THREE.BufferAttribute( new Float32Array( coords ), 3 ) );\r\n\r\n};\r\n\r\nTHREE.EdgesGeometry.prototype = Object.create( THREE.BufferGeometry.prototype );\r\nTHREE.EdgesGeometry.prototype.constructor = THREE.EdgesGeometry;\r\n\r\n// File:src/extras/geometries/ExtrudeGeometry.js\r\n\r\n/**\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n *\r\n * Creates extruded geometry from a path shape.\r\n *\r\n * parameters = {\r\n *\r\n *  curveSegments: <int>, // number of points on the curves\r\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\r\n *  amount: <int>, // Depth to extrude the shape\r\n *\r\n *  bevelEnabled: <bool>, // turn on bevel\r\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\r\n *  bevelSize: <float>, // how far from shape outline is bevel\r\n *  bevelSegments: <int>, // number of bevel layers\r\n *\r\n *  extrudePath: <THREE.CurvePath> // 3d spline path to extrude shape along. (creates Frames if .frames aren't defined)\r\n *  frames: <THREE.TubeGeometry.FrenetFrames> // containing arrays of tangents, normals, binormals\r\n *\r\n *  uvGenerator: <Object> // object that provides UV generator functions\r\n *\r\n * }\r\n **/\r\n\r\nTHREE.ExtrudeGeometry = function ( shapes, options ) {\r\n\r\n\tif ( typeof( shapes ) === \"undefined\" ) {\r\n\r\n\t\tshapes = [];\r\n\t\treturn;\r\n\r\n\t}\r\n\r\n\tTHREE.Geometry.call( this );\r\n\r\n\tthis.type = 'ExtrudeGeometry';\r\n\r\n\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\r\n\r\n\tthis.addShapeList( shapes, options );\r\n\r\n\tthis.computeFaceNormals();\r\n\r\n\t// can't really use automatic vertex normals\r\n\t// as then front and back sides get smoothed too\r\n\t// should do separate smoothing just for sides\r\n\r\n\t//this.computeVertexNormals();\r\n\r\n\t//console.log( \"took\", ( Date.now() - startTime ) );\r\n\r\n};\r\n\r\nTHREE.ExtrudeGeometry.prototype = Object.create( THREE.Geometry.prototype );\r\nTHREE.ExtrudeGeometry.prototype.constructor = THREE.ExtrudeGeometry;\r\n\r\nTHREE.ExtrudeGeometry.prototype.addShapeList = function ( shapes, options ) {\r\n\r\n\tvar sl = shapes.length;\r\n\r\n\tfor ( var s = 0; s < sl; s ++ ) {\r\n\r\n\t\tvar shape = shapes[ s ];\r\n\t\tthis.addShape( shape, options );\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.ExtrudeGeometry.prototype.addShape = function ( shape, options ) {\r\n\r\n\tvar amount = options.amount !== undefined ? options.amount : 100;\r\n\r\n\tvar bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6; // 10\r\n\tvar bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2; // 8\r\n\tvar bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\r\n\r\n\tvar bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true; // false\r\n\r\n\tvar curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\r\n\r\n\tvar steps = options.steps !== undefined ? options.steps : 1;\r\n\r\n\tvar extrudePath = options.extrudePath;\r\n\tvar extrudePts, extrudeByPath = false;\r\n\r\n\t// Use default WorldUVGenerator if no UV generators are specified.\r\n\tvar uvgen = options.UVGenerator !== undefined ? options.UVGenerator : THREE.ExtrudeGeometry.WorldUVGenerator;\r\n\r\n\tvar splineTube, binormal, normal, position2;\r\n\tif ( extrudePath ) {\r\n\r\n\t\textrudePts = extrudePath.getSpacedPoints( steps );\r\n\r\n\t\textrudeByPath = true;\r\n\t\tbevelEnabled = false; // bevels not supported for path extrusion\r\n\r\n\t\t// SETUP TNB variables\r\n\r\n\t\t// Reuse TNB from TubeGeomtry for now.\r\n\t\t// TODO1 - have a .isClosed in spline?\r\n\r\n\t\tsplineTube = options.frames !== undefined ? options.frames : new THREE.TubeGeometry.FrenetFrames( extrudePath, steps, false );\r\n\r\n\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\r\n\r\n\t\tbinormal = new THREE.Vector3();\r\n\t\tnormal = new THREE.Vector3();\r\n\t\tposition2 = new THREE.Vector3();\r\n\r\n\t}\r\n\r\n\t// Safeguards if bevels are not enabled\r\n\r\n\tif ( ! bevelEnabled ) {\r\n\r\n\t\tbevelSegments = 0;\r\n\t\tbevelThickness = 0;\r\n\t\tbevelSize = 0;\r\n\r\n\t}\r\n\r\n\t// Variables initialization\r\n\r\n\tvar ahole, h, hl; // looping of holes\r\n\tvar scope = this;\r\n\r\n\tvar shapesOffset = this.vertices.length;\r\n\r\n\tvar shapePoints = shape.extractPoints( curveSegments );\r\n\r\n\tvar vertices = shapePoints.shape;\r\n\tvar holes = shapePoints.holes;\r\n\r\n\tvar reverse = ! THREE.ShapeUtils.isClockWise( vertices );\r\n\r\n\tif ( reverse ) {\r\n\r\n\t\tvertices = vertices.reverse();\r\n\r\n\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\r\n\r\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\r\n\r\n\t\t\tahole = holes[ h ];\r\n\r\n\t\t\tif ( THREE.ShapeUtils.isClockWise( ahole ) ) {\r\n\r\n\t\t\t\tholes[ h ] = ahole.reverse();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treverse = false; // If vertices are in order now, we shouldn't need to worry about them again (hopefully)!\r\n\r\n\t}\r\n\r\n\r\n\tvar faces = THREE.ShapeUtils.triangulateShape( vertices, holes );\r\n\r\n\t/* Vertices */\r\n\r\n\tvar contour = vertices; // vertices has all points but contour has only points of circumference\r\n\r\n\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\r\n\r\n\t\tahole = holes[ h ];\r\n\r\n\t\tvertices = vertices.concat( ahole );\r\n\r\n\t}\r\n\r\n\r\n\tfunction scalePt2 ( pt, vec, size ) {\r\n\r\n\t\tif ( ! vec ) console.error( \"THREE.ExtrudeGeometry: vec does not exist\" );\r\n\r\n\t\treturn vec.clone().multiplyScalar( size ).add( pt );\r\n\r\n\t}\r\n\r\n\tvar b, bs, t, z,\r\n\t\tvert, vlen = vertices.length,\r\n\t\tface, flen = faces.length;\r\n\r\n\r\n\t// Find directions for point movement\r\n\r\n\r\n\tfunction getBevelVec( inPt, inPrev, inNext ) {\r\n\r\n\t\t// computes for inPt the corresponding point inPt' on a new contour\r\n\t\t//   shifted by 1 unit (length of normalized vector) to the left\r\n\t\t// if we walk along contour clockwise, this new contour is outside the old one\r\n\t\t//\r\n\t\t// inPt' is the intersection of the two lines parallel to the two\r\n\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\r\n\r\n\t\tvar v_trans_x, v_trans_y, shrink_by = 1;\t\t// resulting translation vector for inPt\r\n\r\n\t\t// good reading for geometry algorithms (here: line-line intersection)\r\n\t\t// http://geomalgorithms.com/a05-_intersect-1.html\r\n\r\n\t\tvar v_prev_x = inPt.x - inPrev.x, v_prev_y = inPt.y - inPrev.y;\r\n\t\tvar v_next_x = inNext.x - inPt.x, v_next_y = inNext.y - inPt.y;\r\n\r\n\t\tvar v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\r\n\r\n\t\t// check for collinear edges\r\n\t\tvar collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\r\n\r\n\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\r\n\r\n\t\t\t// not collinear\r\n\r\n\t\t\t// length of vectors for normalizing\r\n\r\n\t\t\tvar v_prev_len = Math.sqrt( v_prev_lensq );\r\n\t\t\tvar v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\r\n\r\n\t\t\t// shift adjacent points by unit vectors to the left\r\n\r\n\t\t\tvar ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\r\n\t\t\tvar ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\r\n\r\n\t\t\tvar ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\r\n\t\t\tvar ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\r\n\r\n\t\t\t// scaling factor for v_prev to intersection point\r\n\r\n\t\t\tvar sf = (  ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\r\n\t\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x    ) /\r\n\t\t\t\t\t  ( v_prev_x * v_next_y - v_prev_y * v_next_x );\r\n\r\n\t\t\t// vector from inPt to intersection point\r\n\r\n\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\r\n\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\r\n\r\n\t\t\t// Don't normalize!, otherwise sharp corners become ugly\r\n\t\t\t//  but prevent crazy spikes\r\n\t\t\tvar v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\r\n\t\t\tif ( v_trans_lensq <= 2 ) {\r\n\r\n\t\t\t\treturn\tnew THREE.Vector2( v_trans_x, v_trans_y );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// handle special case of collinear edges\r\n\r\n\t\t\tvar direction_eq = false;\t\t// assumes: opposite\r\n\t\t\tif ( v_prev_x > Number.EPSILON ) {\r\n\r\n\t\t\t\tif ( v_next_x > Number.EPSILON ) {\r\n\r\n\t\t\t\t\tdirection_eq = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\r\n\r\n\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\r\n\r\n\t\t\t\t\t\tdirection_eq = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\r\n\r\n\t\t\t\t\t\tdirection_eq = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( direction_eq ) {\r\n\r\n\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\r\n\t\t\t\tv_trans_x = - v_prev_y;\r\n\t\t\t\tv_trans_y =  v_prev_x;\r\n\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\r\n\t\t\t\tv_trans_x = v_prev_x;\r\n\t\t\t\tv_trans_y = v_prev_y;\r\n\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn\tnew THREE.Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\r\n\r\n\t}\r\n\r\n\r\n\tvar contourMovements = [];\r\n\r\n\tfor ( var i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\r\n\r\n\t\tif ( j === il ) j = 0;\r\n\t\tif ( k === il ) k = 0;\r\n\r\n\t\t//  (j)---(i)---(k)\r\n\t\t// console.log('i,j,k', i, j , k)\r\n\r\n\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\r\n\r\n\t}\r\n\r\n\tvar holesMovements = [], oneHoleMovements, verticesMovements = contourMovements.concat();\r\n\r\n\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\r\n\r\n\t\tahole = holes[ h ];\r\n\r\n\t\toneHoleMovements = [];\r\n\r\n\t\tfor ( i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\r\n\r\n\t\t\tif ( j === il ) j = 0;\r\n\t\t\tif ( k === il ) k = 0;\r\n\r\n\t\t\t//  (j)---(i)---(k)\r\n\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\r\n\r\n\t\t}\r\n\r\n\t\tholesMovements.push( oneHoleMovements );\r\n\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\r\n\r\n\t}\r\n\r\n\r\n\t// Loop bevelSegments, 1 for the front, 1 for the back\r\n\r\n\tfor ( b = 0; b < bevelSegments; b ++ ) {\r\n\r\n\t\t//for ( b = bevelSegments; b > 0; b -- ) {\r\n\r\n\t\tt = b / bevelSegments;\r\n\t\tz = bevelThickness * ( 1 - t );\r\n\r\n\t\t//z = bevelThickness * t;\r\n\t\tbs = bevelSize * ( Math.sin ( t * Math.PI / 2 ) ); // curved\r\n\t\t//bs = bevelSize * t; // linear\r\n\r\n\t\t// contract shape\r\n\r\n\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\r\n\r\n\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\r\n\r\n\t\t\tv( vert.x, vert.y,  - z );\r\n\r\n\t\t}\r\n\r\n\t\t// expand holes\r\n\r\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\r\n\r\n\t\t\tahole = holes[ h ];\r\n\t\t\toneHoleMovements = holesMovements[ h ];\r\n\r\n\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\r\n\r\n\t\t\t\tv( vert.x, vert.y,  - z );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tbs = bevelSize;\r\n\r\n\t// Back facing vertices\r\n\r\n\tfor ( i = 0; i < vlen; i ++ ) {\r\n\r\n\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\r\n\r\n\t\tif ( ! extrudeByPath ) {\r\n\r\n\t\t\tv( vert.x, vert.y, 0 );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\r\n\r\n\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\r\n\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\r\n\r\n\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\r\n\r\n\t\t\tv( position2.x, position2.y, position2.z );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// Add stepped vertices...\r\n\t// Including front facing vertices\r\n\r\n\tvar s;\r\n\r\n\tfor ( s = 1; s <= steps; s ++ ) {\r\n\r\n\t\tfor ( i = 0; i < vlen; i ++ ) {\r\n\r\n\t\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\r\n\r\n\t\t\tif ( ! extrudeByPath ) {\r\n\r\n\t\t\t\tv( vert.x, vert.y, amount / steps * s );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\r\n\r\n\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\r\n\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\r\n\r\n\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\r\n\r\n\t\t\t\tv( position2.x, position2.y, position2.z );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\t// Add bevel segments planes\r\n\r\n\t//for ( b = 1; b <= bevelSegments; b ++ ) {\r\n\tfor ( b = bevelSegments - 1; b >= 0; b -- ) {\r\n\r\n\t\tt = b / bevelSegments;\r\n\t\tz = bevelThickness * ( 1 - t );\r\n\t\t//bs = bevelSize * ( 1-Math.sin ( ( 1 - t ) * Math.PI/2 ) );\r\n\t\tbs = bevelSize * Math.sin ( t * Math.PI / 2 );\r\n\r\n\t\t// contract shape\r\n\r\n\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\r\n\r\n\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\r\n\t\t\tv( vert.x, vert.y,  amount + z );\r\n\r\n\t\t}\r\n\r\n\t\t// expand holes\r\n\r\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\r\n\r\n\t\t\tahole = holes[ h ];\r\n\t\t\toneHoleMovements = holesMovements[ h ];\r\n\r\n\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\r\n\r\n\t\t\t\tif ( ! extrudeByPath ) {\r\n\r\n\t\t\t\t\tv( vert.x, vert.y,  amount + z );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/* Faces */\r\n\r\n\t// Top and bottom faces\r\n\r\n\tbuildLidFaces();\r\n\r\n\t// Sides faces\r\n\r\n\tbuildSideFaces();\r\n\r\n\r\n\t/////  Internal functions\r\n\r\n\tfunction buildLidFaces() {\r\n\r\n\t\tif ( bevelEnabled ) {\r\n\r\n\t\t\tvar layer = 0; // steps + 1\r\n\t\t\tvar offset = vlen * layer;\r\n\r\n\t\t\t// Bottom faces\r\n\r\n\t\t\tfor ( i = 0; i < flen; i ++ ) {\r\n\r\n\t\t\t\tface = faces[ i ];\r\n\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlayer = steps + bevelSegments * 2;\r\n\t\t\toffset = vlen * layer;\r\n\r\n\t\t\t// Top faces\r\n\r\n\t\t\tfor ( i = 0; i < flen; i ++ ) {\r\n\r\n\t\t\t\tface = faces[ i ];\r\n\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// Bottom faces\r\n\r\n\t\t\tfor ( i = 0; i < flen; i ++ ) {\r\n\r\n\t\t\t\tface = faces[ i ];\r\n\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Top faces\r\n\r\n\t\t\tfor ( i = 0; i < flen; i ++ ) {\r\n\r\n\t\t\t\tface = faces[ i ];\r\n\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// Create faces for the z-sides of the shape\r\n\r\n\tfunction buildSideFaces() {\r\n\r\n\t\tvar layeroffset = 0;\r\n\t\tsidewalls( contour, layeroffset );\r\n\t\tlayeroffset += contour.length;\r\n\r\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\r\n\r\n\t\t\tahole = holes[ h ];\r\n\t\t\tsidewalls( ahole, layeroffset );\r\n\r\n\t\t\t//, true\r\n\t\t\tlayeroffset += ahole.length;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction sidewalls( contour, layeroffset ) {\r\n\r\n\t\tvar j, k;\r\n\t\ti = contour.length;\r\n\r\n\t\twhile ( -- i >= 0 ) {\r\n\r\n\t\t\tj = i;\r\n\t\t\tk = i - 1;\r\n\t\t\tif ( k < 0 ) k = contour.length - 1;\r\n\r\n\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\r\n\r\n\t\t\tvar s = 0, sl = steps  + bevelSegments * 2;\r\n\r\n\t\t\tfor ( s = 0; s < sl; s ++ ) {\r\n\r\n\t\t\t\tvar slen1 = vlen * s;\r\n\t\t\t\tvar slen2 = vlen * ( s + 1 );\r\n\r\n\t\t\t\tvar a = layeroffset + j + slen1,\r\n\t\t\t\t\tb = layeroffset + k + slen1,\r\n\t\t\t\t\tc = layeroffset + k + slen2,\r\n\t\t\t\t\td = layeroffset + j + slen2;\r\n\r\n\t\t\t\tf4( a, b, c, d, contour, s, sl, j, k );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\tfunction v( x, y, z ) {\r\n\r\n\t\tscope.vertices.push( new THREE.Vector3( x, y, z ) );\r\n\r\n\t}\r\n\r\n\tfunction f3( a, b, c ) {\r\n\r\n\t\ta += shapesOffset;\r\n\t\tb += shapesOffset;\r\n\t\tc += shapesOffset;\r\n\r\n\t\tscope.faces.push( new THREE.Face3( a, b, c, null, null, 0 ) );\r\n\r\n\t\tvar uvs = uvgen.generateTopUV( scope, a, b, c );\r\n\r\n\t\tscope.faceVertexUvs[ 0 ].push( uvs );\r\n\r\n\t}\r\n\r\n\tfunction f4( a, b, c, d, wallContour, stepIndex, stepsLength, contourIndex1, contourIndex2 ) {\r\n\r\n\t\ta += shapesOffset;\r\n\t\tb += shapesOffset;\r\n\t\tc += shapesOffset;\r\n\t\td += shapesOffset;\r\n\r\n\t\tscope.faces.push( new THREE.Face3( a, b, d, null, null, 1 ) );\r\n\t\tscope.faces.push( new THREE.Face3( b, c, d, null, null, 1 ) );\r\n\r\n\t\tvar uvs = uvgen.generateSideWallUV( scope, a, b, c, d );\r\n\r\n\t\tscope.faceVertexUvs[ 0 ].push( [ uvs[ 0 ], uvs[ 1 ], uvs[ 3 ] ] );\r\n\t\tscope.faceVertexUvs[ 0 ].push( [ uvs[ 1 ], uvs[ 2 ], uvs[ 3 ] ] );\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.ExtrudeGeometry.WorldUVGenerator = {\r\n\r\n\tgenerateTopUV: function ( geometry, indexA, indexB, indexC ) {\r\n\r\n\t\tvar vertices = geometry.vertices;\r\n\r\n\t\tvar a = vertices[ indexA ];\r\n\t\tvar b = vertices[ indexB ];\r\n\t\tvar c = vertices[ indexC ];\r\n\r\n\t\treturn [\r\n\t\t\tnew THREE.Vector2( a.x, a.y ),\r\n\t\t\tnew THREE.Vector2( b.x, b.y ),\r\n\t\t\tnew THREE.Vector2( c.x, c.y )\r\n\t\t];\r\n\r\n\t},\r\n\r\n\tgenerateSideWallUV: function ( geometry, indexA, indexB, indexC, indexD ) {\r\n\r\n\t\tvar vertices = geometry.vertices;\r\n\r\n\t\tvar a = vertices[ indexA ];\r\n\t\tvar b = vertices[ indexB ];\r\n\t\tvar c = vertices[ indexC ];\r\n\t\tvar d = vertices[ indexD ];\r\n\r\n\t\tif ( Math.abs( a.y - b.y ) < 0.01 ) {\r\n\r\n\t\t\treturn [\r\n\t\t\t\tnew THREE.Vector2( a.x, 1 - a.z ),\r\n\t\t\t\tnew THREE.Vector2( b.x, 1 - b.z ),\r\n\t\t\t\tnew THREE.Vector2( c.x, 1 - c.z ),\r\n\t\t\t\tnew THREE.Vector2( d.x, 1 - d.z )\r\n\t\t\t];\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn [\r\n\t\t\t\tnew THREE.Vector2( a.y, 1 - a.z ),\r\n\t\t\t\tnew THREE.Vector2( b.y, 1 - b.z ),\r\n\t\t\t\tnew THREE.Vector2( c.y, 1 - c.z ),\r\n\t\t\t\tnew THREE.Vector2( d.y, 1 - d.z )\r\n\t\t\t];\r\n\r\n\t\t}\r\n\r\n\t}\r\n};\r\n\r\n// File:src/extras/geometries/ShapeGeometry.js\r\n\r\n/**\r\n * @author jonobr1 / http://jonobr1.com\r\n *\r\n * Creates a one-sided polygonal geometry from a path shape. Similar to\r\n * ExtrudeGeometry.\r\n *\r\n * parameters = {\r\n *\r\n *\tcurveSegments: <int>, // number of points on the curves. NOT USED AT THE MOMENT.\r\n *\r\n *\tmaterial: <int> // material index for front and back faces\r\n *\tuvGenerator: <Object> // object that provides UV generator functions\r\n *\r\n * }\r\n **/\r\n\r\nTHREE.ShapeGeometry = function ( shapes, options ) {\r\n\r\n\tTHREE.Geometry.call( this );\r\n\r\n\tthis.type = 'ShapeGeometry';\r\n\r\n\tif ( Array.isArray( shapes ) === false ) shapes = [ shapes ];\r\n\r\n\tthis.addShapeList( shapes, options );\r\n\r\n\tthis.computeFaceNormals();\r\n\r\n};\r\n\r\nTHREE.ShapeGeometry.prototype = Object.create( THREE.Geometry.prototype );\r\nTHREE.ShapeGeometry.prototype.constructor = THREE.ShapeGeometry;\r\n\r\n/**\r\n * Add an array of shapes to THREE.ShapeGeometry.\r\n */\r\nTHREE.ShapeGeometry.prototype.addShapeList = function ( shapes, options ) {\r\n\r\n\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\r\n\r\n\t\tthis.addShape( shapes[ i ], options );\r\n\r\n\t}\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\n/**\r\n * Adds a shape to THREE.ShapeGeometry, based on THREE.ExtrudeGeometry.\r\n */\r\nTHREE.ShapeGeometry.prototype.addShape = function ( shape, options ) {\r\n\r\n\tif ( options === undefined ) options = {};\r\n\tvar curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\r\n\r\n\tvar material = options.material;\r\n\tvar uvgen = options.UVGenerator === undefined ? THREE.ExtrudeGeometry.WorldUVGenerator : options.UVGenerator;\r\n\r\n\t//\r\n\r\n\tvar i, l, hole;\r\n\r\n\tvar shapesOffset = this.vertices.length;\r\n\tvar shapePoints = shape.extractPoints( curveSegments );\r\n\r\n\tvar vertices = shapePoints.shape;\r\n\tvar holes = shapePoints.holes;\r\n\r\n\tvar reverse = ! THREE.ShapeUtils.isClockWise( vertices );\r\n\r\n\tif ( reverse ) {\r\n\r\n\t\tvertices = vertices.reverse();\r\n\r\n\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe...\r\n\r\n\t\tfor ( i = 0, l = holes.length; i < l; i ++ ) {\r\n\r\n\t\t\thole = holes[ i ];\r\n\r\n\t\t\tif ( THREE.ShapeUtils.isClockWise( hole ) ) {\r\n\r\n\t\t\t\tholes[ i ] = hole.reverse();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treverse = false;\r\n\r\n\t}\r\n\r\n\tvar faces = THREE.ShapeUtils.triangulateShape( vertices, holes );\r\n\r\n\t// Vertices\r\n\r\n\tfor ( i = 0, l = holes.length; i < l; i ++ ) {\r\n\r\n\t\thole = holes[ i ];\r\n\t\tvertices = vertices.concat( hole );\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tvar vert, vlen = vertices.length;\r\n\tvar face, flen = faces.length;\r\n\r\n\tfor ( i = 0; i < vlen; i ++ ) {\r\n\r\n\t\tvert = vertices[ i ];\r\n\r\n\t\tthis.vertices.push( new THREE.Vector3( vert.x, vert.y, 0 ) );\r\n\r\n\t}\r\n\r\n\tfor ( i = 0; i < flen; i ++ ) {\r\n\r\n\t\tface = faces[ i ];\r\n\r\n\t\tvar a = face[ 0 ] + shapesOffset;\r\n\t\tvar b = face[ 1 ] + shapesOffset;\r\n\t\tvar c = face[ 2 ] + shapesOffset;\r\n\r\n\t\tthis.faces.push( new THREE.Face3( a, b, c, null, null, material ) );\r\n\t\tthis.faceVertexUvs[ 0 ].push( uvgen.generateTopUV( this, a, b, c ) );\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/extras/geometries/LatheBufferGeometry.js\r\n\r\n/**\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\n // points - to create a closed torus, one must use a set of points\r\n //    like so: [ a, b, c, d, a ], see first is the same as last.\r\n // segments - the number of circumference segments to create\r\n // phiStart - the starting radian\r\n // phiLength - the radian (0 to 2PI) range of the lathed section\r\n //    2PI is a closed lathe, less than 2PI is a portion.\r\n\r\nTHREE.LatheBufferGeometry = function ( points, segments, phiStart, phiLength ) {\r\n\r\n\tTHREE.BufferGeometry.call( this );\r\n\r\n\tthis.type = 'LatheBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tpoints: points,\r\n\t\tsegments: segments,\r\n\t\tphiStart: phiStart,\r\n\t\tphiLength: phiLength\r\n\t};\r\n\r\n\tsegments = Math.floor( segments ) || 12;\r\n\tphiStart = phiStart || 0;\r\n\tphiLength = phiLength || Math.PI * 2;\r\n\r\n\t// clamp phiLength so it's in range of [ 0, 2PI ]\r\n\tphiLength = THREE.Math.clamp( phiLength, 0, Math.PI * 2 );\r\n\r\n\t// these are used to calculate buffer length\r\n\tvar vertexCount = ( segments + 1 ) * points.length;\r\n\tvar indexCount = segments * points.length * 2 * 3;\r\n\r\n\t// buffers\r\n\tvar indices = new THREE.BufferAttribute( new ( indexCount > 65535 ? Uint32Array : Uint16Array )( indexCount ) , 1 );\r\n\tvar vertices = new THREE.BufferAttribute( new Float32Array( vertexCount * 3 ), 3 );\r\n\tvar uvs = new THREE.BufferAttribute( new Float32Array( vertexCount * 2 ), 2 );\r\n\r\n\t// helper variables\r\n\tvar index = 0, indexOffset = 0, base;\r\n\tvar inversePointLength = 1.0 / ( points.length - 1 );\r\n\tvar inverseSegments = 1.0 / segments;\r\n\tvar vertex = new THREE.Vector3();\r\n\tvar uv = new THREE.Vector2();\r\n\tvar i, j;\r\n\r\n\t// generate vertices and uvs\r\n\r\n\tfor ( i = 0; i <= segments; i ++ ) {\r\n\r\n\t\tvar phi = phiStart + i * inverseSegments * phiLength;\r\n\r\n\t\tvar sin = Math.sin( phi );\r\n\t\tvar cos = Math.cos( phi );\r\n\r\n\t\tfor ( j = 0; j <= ( points.length - 1 ); j ++ ) {\r\n\r\n\t\t\t// vertex\r\n\t\t\tvertex.x = points[ j ].x * sin;\r\n\t\t\tvertex.y = points[ j ].y;\r\n\t\t\tvertex.z = points[ j ].x * cos;\r\n\t\t\tvertices.setXYZ( index, vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t// uv\r\n\t\t\tuv.x = i / segments;\r\n\t\t\tuv.y = j / ( points.length - 1 );\r\n\t\t\tuvs.setXY( index, uv.x, uv.y );\r\n\r\n\t\t\t// increase index\r\n\t\t\tindex ++;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// generate indices\r\n\r\n\tfor ( i = 0; i < segments; i ++ ) {\r\n\r\n\t\tfor ( j = 0; j < ( points.length - 1 ); j ++ ) {\r\n\r\n\t\t\tbase = j + i * points.length;\r\n\r\n\t\t\t// indices\r\n\t\t\tvar a = base;\r\n\t\t\tvar b = base + points.length;\r\n\t\t\tvar c = base + points.length + 1;\r\n\t\t\tvar d = base + 1;\r\n\r\n\t\t\t// face one\r\n\t\t\tindices.setX( indexOffset, a ); indexOffset++;\r\n\t\t\tindices.setX( indexOffset, b ); indexOffset++;\r\n\t\t\tindices.setX( indexOffset, d ); indexOffset++;\r\n\r\n\t\t\t// face two\r\n\t\t\tindices.setX( indexOffset, b ); indexOffset++;\r\n\t\t\tindices.setX( indexOffset, c ); indexOffset++;\r\n\t\t\tindices.setX( indexOffset, d ); indexOffset++;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// build geometry\r\n\r\n\tthis.setIndex( indices );\r\n\tthis.addAttribute( 'position', vertices );\r\n\tthis.addAttribute( 'uv', uvs );\r\n\r\n\t// generate normals\r\n\r\n\tthis.computeVertexNormals();\r\n\r\n\t// if the geometry is closed, we need to average the normals along the seam.\r\n\t// because the corresponding vertices are identical (but still have different UVs).\r\n\r\n\tif( phiLength === Math.PI * 2 ) {\r\n\r\n\t\tvar normals = this.attributes.normal.array;\r\n\t\tvar n1 = new THREE.Vector3();\r\n\t\tvar n2 = new THREE.Vector3();\r\n\t\tvar n = new THREE.Vector3();\r\n\r\n\t\t// this is the buffer offset for the last line of vertices\r\n\t\tbase = segments * points.length * 3;\r\n\r\n\t\tfor( i = 0, j = 0; i < points.length; i ++, j += 3 ) {\r\n\r\n\t\t\t// select the normal of the vertex in the first line\r\n\t\t\tn1.x = normals[ j + 0 ];\r\n\t\t\tn1.y = normals[ j + 1 ];\r\n\t\t\tn1.z = normals[ j + 2 ];\r\n\r\n\t\t\t// select the normal of the vertex in the last line\r\n\t\t\tn2.x = normals[ base + j + 0 ];\r\n\t\t\tn2.y = normals[ base + j + 1 ];\r\n\t\t\tn2.z = normals[ base + j + 2 ];\r\n\r\n\t\t\t// average normals\r\n\t\t\tn.addVectors( n1, n2 ).normalize();\r\n\r\n\t\t\t// assign the new values to both normals\r\n\t\t\tnormals[ j + 0 ] = normals[ base + j + 0 ] = n.x;\r\n\t\t\tnormals[ j + 1 ] = normals[ base + j + 1 ] = n.y;\r\n\t\t\tnormals[ j + 2 ] = normals[ base + j + 2 ] = n.z;\r\n\r\n\t\t} // next row\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.LatheBufferGeometry.prototype = Object.create( THREE.BufferGeometry.prototype );\r\nTHREE.LatheBufferGeometry.prototype.constructor = THREE.LatheBufferGeometry;\r\n\r\n// File:src/extras/geometries/LatheGeometry.js\r\n\r\n/**\r\n * @author astrodud / http://astrodud.isgreat.org/\r\n * @author zz85 / https://github.com/zz85\r\n * @author bhouston / http://clara.io\r\n */\r\n\r\n// points - to create a closed torus, one must use a set of points\r\n//    like so: [ a, b, c, d, a ], see first is the same as last.\r\n// segments - the number of circumference segments to create\r\n// phiStart - the starting radian\r\n// phiLength - the radian (0 to 2PI) range of the lathed section\r\n//    2PI is a closed lathe, less than 2PI is a portion.\r\n\r\nTHREE.LatheGeometry = function ( points, segments, phiStart, phiLength ) {\r\n\r\n\tTHREE.Geometry.call( this );\r\n\r\n\tthis.type = 'LatheGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tpoints: points,\r\n\t\tsegments: segments,\r\n\t\tphiStart: phiStart,\r\n\t\tphiLength: phiLength\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new THREE.LatheBufferGeometry( points, segments, phiStart, phiLength ) );\r\n\tthis.mergeVertices();\r\n\r\n};\r\n\r\nTHREE.LatheGeometry.prototype = Object.create( THREE.Geometry.prototype );\r\nTHREE.LatheGeometry.prototype.constructor = THREE.LatheGeometry;\r\n\r\n// File:src/extras/geometries/PlaneGeometry.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * based on http://papervision3d.googlecode.com/svn/trunk/as3/trunk/src/org/papervision3d/objects/primitives/Plane.as\r\n */\r\n\r\nTHREE.PlaneGeometry = function ( width, height, widthSegments, heightSegments ) {\r\n\r\n\tTHREE.Geometry.call( this );\r\n\r\n\tthis.type = 'PlaneGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\twidth: width,\r\n\t\theight: height,\r\n\t\twidthSegments: widthSegments,\r\n\t\theightSegments: heightSegments\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new THREE.PlaneBufferGeometry( width, height, widthSegments, heightSegments ) );\r\n\r\n};\r\n\r\nTHREE.PlaneGeometry.prototype = Object.create( THREE.Geometry.prototype );\r\nTHREE.PlaneGeometry.prototype.constructor = THREE.PlaneGeometry;\r\n\r\n// File:src/extras/geometries/PlaneBufferGeometry.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * based on http://papervision3d.googlecode.com/svn/trunk/as3/trunk/src/org/papervision3d/objects/primitives/Plane.as\r\n */\r\n\r\nTHREE.PlaneBufferGeometry = function ( width, height, widthSegments, heightSegments ) {\r\n\r\n\tTHREE.BufferGeometry.call( this );\r\n\r\n\tthis.type = 'PlaneBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\twidth: width,\r\n\t\theight: height,\r\n\t\twidthSegments: widthSegments,\r\n\t\theightSegments: heightSegments\r\n\t};\r\n\r\n\tvar width_half = width / 2;\r\n\tvar height_half = height / 2;\r\n\r\n\tvar gridX = Math.floor( widthSegments ) || 1;\r\n\tvar gridY = Math.floor( heightSegments ) || 1;\r\n\r\n\tvar gridX1 = gridX + 1;\r\n\tvar gridY1 = gridY + 1;\r\n\r\n\tvar segment_width = width / gridX;\r\n\tvar segment_height = height / gridY;\r\n\r\n\tvar vertices = new Float32Array( gridX1 * gridY1 * 3 );\r\n\tvar normals = new Float32Array( gridX1 * gridY1 * 3 );\r\n\tvar uvs = new Float32Array( gridX1 * gridY1 * 2 );\r\n\r\n\tvar offset = 0;\r\n\tvar offset2 = 0;\r\n\r\n\tfor ( var iy = 0; iy < gridY1; iy ++ ) {\r\n\r\n\t\tvar y = iy * segment_height - height_half;\r\n\r\n\t\tfor ( var ix = 0; ix < gridX1; ix ++ ) {\r\n\r\n\t\t\tvar x = ix * segment_width - width_half;\r\n\r\n\t\t\tvertices[ offset ] = x;\r\n\t\t\tvertices[ offset + 1 ] = - y;\r\n\r\n\t\t\tnormals[ offset + 2 ] = 1;\r\n\r\n\t\t\tuvs[ offset2 ] = ix / gridX;\r\n\t\t\tuvs[ offset2 + 1 ] = 1 - ( iy / gridY );\r\n\r\n\t\t\toffset += 3;\r\n\t\t\toffset2 += 2;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\toffset = 0;\r\n\r\n\tvar indices = new ( ( vertices.length / 3 ) > 65535 ? Uint32Array : Uint16Array )( gridX * gridY * 6 );\r\n\r\n\tfor ( var iy = 0; iy < gridY; iy ++ ) {\r\n\r\n\t\tfor ( var ix = 0; ix < gridX; ix ++ ) {\r\n\r\n\t\t\tvar a = ix + gridX1 * iy;\r\n\t\t\tvar b = ix + gridX1 * ( iy + 1 );\r\n\t\t\tvar c = ( ix + 1 ) + gridX1 * ( iy + 1 );\r\n\t\t\tvar d = ( ix + 1 ) + gridX1 * iy;\r\n\r\n\t\t\tindices[ offset ] = a;\r\n\t\t\tindices[ offset + 1 ] = b;\r\n\t\t\tindices[ offset + 2 ] = d;\r\n\r\n\t\t\tindices[ offset + 3 ] = b;\r\n\t\t\tindices[ offset + 4 ] = c;\r\n\t\t\tindices[ offset + 5 ] = d;\r\n\r\n\t\t\toffset += 6;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tthis.setIndex( new THREE.BufferAttribute( indices, 1 ) );\r\n\tthis.addAttribute( 'position', new THREE.BufferAttribute( vertices, 3 ) );\r\n\tthis.addAttribute( 'normal', new THREE.BufferAttribute( normals, 3 ) );\r\n\tthis.addAttribute( 'uv', new THREE.BufferAttribute( uvs, 2 ) );\r\n\r\n};\r\n\r\nTHREE.PlaneBufferGeometry.prototype = Object.create( THREE.BufferGeometry.prototype );\r\nTHREE.PlaneBufferGeometry.prototype.constructor = THREE.PlaneBufferGeometry;\r\n\r\n// File:src/extras/geometries/RingBufferGeometry.js\r\n\r\n/**\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\nTHREE.RingBufferGeometry = function ( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\r\n\r\n\tTHREE.BufferGeometry.call( this );\r\n\r\n\tthis.type = 'RingBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tinnerRadius: innerRadius,\r\n\t\touterRadius: outerRadius,\r\n\t\tthetaSegments: thetaSegments,\r\n\t\tphiSegments: phiSegments,\r\n\t\tthetaStart: thetaStart,\r\n\t\tthetaLength: thetaLength\r\n\t};\r\n\r\n\tinnerRadius = innerRadius || 20;\r\n\touterRadius = outerRadius || 50;\r\n\r\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\r\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\r\n\r\n\tthetaSegments = thetaSegments !== undefined ? Math.max( 3, thetaSegments ) : 8;\r\n\tphiSegments = phiSegments !== undefined ? Math.max( 1, phiSegments ) : 1;\r\n\r\n\t// these are used to calculate buffer length\r\n\tvar vertexCount = ( thetaSegments + 1 ) * ( phiSegments + 1 );\r\n\tvar indexCount = thetaSegments * phiSegments * 2 * 3;\r\n\r\n\t// buffers\r\n\tvar indices = new THREE.BufferAttribute( new ( indexCount > 65535 ? Uint32Array : Uint16Array )( indexCount ) , 1 );\r\n\tvar vertices = new THREE.BufferAttribute( new Float32Array( vertexCount * 3 ), 3 );\r\n\tvar normals = new THREE.BufferAttribute( new Float32Array( vertexCount * 3 ), 3 );\r\n\tvar uvs = new THREE.BufferAttribute( new Float32Array( vertexCount * 2 ), 2 );\r\n\r\n\t// some helper variables\r\n\tvar index = 0, indexOffset = 0, segment;\r\n\tvar radius = innerRadius;\r\n\tvar radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\r\n\tvar vertex = new THREE.Vector3();\r\n\tvar uv = new THREE.Vector2();\r\n\tvar j, i;\r\n\r\n\t// generate vertices, normals and uvs\r\n\r\n\t// values are generate from the inside of the ring to the outside\r\n\r\n\tfor ( j = 0; j <= phiSegments; j ++ ) {\r\n\r\n\t\tfor ( i = 0; i <= thetaSegments; i ++ ) {\r\n\r\n\t\t\tsegment = thetaStart + i / thetaSegments * thetaLength;\r\n\r\n\t\t\t// vertex\r\n\t\t\tvertex.x = radius * Math.cos( segment );\r\n\t\t\tvertex.y = radius * Math.sin( segment );\r\n\t\t\tvertices.setXYZ( index, vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t// normal\r\n\t\t\tnormals.setXYZ( index, 0, 0, 1 );\r\n\r\n\t\t\t// uv\r\n\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\r\n\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\r\n\t\t\tuvs.setXY( index, uv.x, uv.y );\r\n\r\n\t\t\t// increase index\r\n\t\t\tindex++;\r\n\r\n\t\t}\r\n\r\n\t\t// increase the radius for next row of vertices\r\n\t\tradius += radiusStep;\r\n\r\n\t}\r\n\r\n\t// generate indices\r\n\r\n\tfor ( j = 0; j < phiSegments; j ++ ) {\r\n\r\n\t\tvar thetaSegmentLevel = j * ( thetaSegments + 1 );\r\n\r\n\t\tfor ( i = 0; i < thetaSegments; i ++ ) {\r\n\r\n\t\t\tsegment = i + thetaSegmentLevel;\r\n\r\n\t\t\t// indices\r\n\t\t\tvar a = segment;\r\n\t\t\tvar b = segment + thetaSegments + 1;\r\n\t\t\tvar c = segment + thetaSegments + 2;\r\n\t\t\tvar d = segment + 1;\r\n\r\n\t\t\t// face one\r\n\t\t\tindices.setX( indexOffset, a ); indexOffset++;\r\n\t\t\tindices.setX( indexOffset, b ); indexOffset++;\r\n\t\t\tindices.setX( indexOffset, c ); indexOffset++;\r\n\r\n\t\t\t// face two\r\n\t\t\tindices.setX( indexOffset, a ); indexOffset++;\r\n\t\t\tindices.setX( indexOffset, c ); indexOffset++;\r\n\t\t\tindices.setX( indexOffset, d ); indexOffset++;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// build geometry\r\n\r\n\tthis.setIndex( indices );\r\n\tthis.addAttribute( 'position', vertices );\r\n\tthis.addAttribute( 'normal', normals );\r\n\tthis.addAttribute( 'uv', uvs );\r\n\r\n};\r\n\r\nTHREE.RingBufferGeometry.prototype = Object.create( THREE.BufferGeometry.prototype );\r\nTHREE.RingBufferGeometry.prototype.constructor = THREE.RingBufferGeometry;\r\n\r\n// File:src/extras/geometries/RingGeometry.js\r\n\r\n/**\r\n * @author Kaleb Murphy\r\n */\r\n\r\nTHREE.RingGeometry = function ( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\r\n\r\n\tTHREE.Geometry.call( this );\r\n\r\n\tthis.type = 'RingGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tinnerRadius: innerRadius,\r\n\t\touterRadius: outerRadius,\r\n\t\tthetaSegments: thetaSegments,\r\n\t\tphiSegments: phiSegments,\r\n\t\tthetaStart: thetaStart,\r\n\t\tthetaLength: thetaLength\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new THREE.RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) );\r\n\r\n};\r\n\r\nTHREE.RingGeometry.prototype = Object.create( THREE.Geometry.prototype );\r\nTHREE.RingGeometry.prototype.constructor = THREE.RingGeometry;\r\n\r\n// File:src/extras/geometries/SphereGeometry.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.SphereGeometry = function ( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\r\n\r\n\tTHREE.Geometry.call( this );\r\n\r\n\tthis.type = 'SphereGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\twidthSegments: widthSegments,\r\n\t\theightSegments: heightSegments,\r\n\t\tphiStart: phiStart,\r\n\t\tphiLength: phiLength,\r\n\t\tthetaStart: thetaStart,\r\n\t\tthetaLength: thetaLength\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new THREE.SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) );\r\n\r\n};\r\n\r\nTHREE.SphereGeometry.prototype = Object.create( THREE.Geometry.prototype );\r\nTHREE.SphereGeometry.prototype.constructor = THREE.SphereGeometry;\r\n\r\n// File:src/extras/geometries/SphereBufferGeometry.js\r\n\r\n/**\r\n * @author benaadams / https://twitter.com/ben_a_adams\r\n * based on THREE.SphereGeometry\r\n */\r\n\r\nTHREE.SphereBufferGeometry = function ( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\r\n\r\n\tTHREE.BufferGeometry.call( this );\r\n\r\n\tthis.type = 'SphereBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\twidthSegments: widthSegments,\r\n\t\theightSegments: heightSegments,\r\n\t\tphiStart: phiStart,\r\n\t\tphiLength: phiLength,\r\n\t\tthetaStart: thetaStart,\r\n\t\tthetaLength: thetaLength\r\n\t};\r\n\r\n\tradius = radius || 50;\r\n\r\n\twidthSegments = Math.max( 3, Math.floor( widthSegments ) || 8 );\r\n\theightSegments = Math.max( 2, Math.floor( heightSegments ) || 6 );\r\n\r\n\tphiStart = phiStart !== undefined ? phiStart : 0;\r\n\tphiLength = phiLength !== undefined ? phiLength : Math.PI * 2;\r\n\r\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\r\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI;\r\n\r\n\tvar thetaEnd = thetaStart + thetaLength;\r\n\r\n\tvar vertexCount = ( ( widthSegments + 1 ) * ( heightSegments + 1 ) );\r\n\r\n\tvar positions = new THREE.BufferAttribute( new Float32Array( vertexCount * 3 ), 3 );\r\n\tvar normals = new THREE.BufferAttribute( new Float32Array( vertexCount * 3 ), 3 );\r\n\tvar uvs = new THREE.BufferAttribute( new Float32Array( vertexCount * 2 ), 2 );\r\n\r\n\tvar index = 0, vertices = [], normal = new THREE.Vector3();\r\n\r\n\tfor ( var y = 0; y <= heightSegments; y ++ ) {\r\n\r\n\t\tvar verticesRow = [];\r\n\r\n\t\tvar v = y / heightSegments;\r\n\r\n\t\tfor ( var x = 0; x <= widthSegments; x ++ ) {\r\n\r\n\t\t\tvar u = x / widthSegments;\r\n\r\n\t\t\tvar px = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\r\n\t\t\tvar py = radius * Math.cos( thetaStart + v * thetaLength );\r\n\t\t\tvar pz = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\r\n\r\n\t\t\tnormal.set( px, py, pz ).normalize();\r\n\r\n\t\t\tpositions.setXYZ( index, px, py, pz );\r\n\t\t\tnormals.setXYZ( index, normal.x, normal.y, normal.z );\r\n\t\t\tuvs.setXY( index, u, 1 - v );\r\n\r\n\t\t\tverticesRow.push( index );\r\n\r\n\t\t\tindex ++;\r\n\r\n\t\t}\r\n\r\n\t\tvertices.push( verticesRow );\r\n\r\n\t}\r\n\r\n\tvar indices = [];\r\n\r\n\tfor ( var y = 0; y < heightSegments; y ++ ) {\r\n\r\n\t\tfor ( var x = 0; x < widthSegments; x ++ ) {\r\n\r\n\t\t\tvar v1 = vertices[ y ][ x + 1 ];\r\n\t\t\tvar v2 = vertices[ y ][ x ];\r\n\t\t\tvar v3 = vertices[ y + 1 ][ x ];\r\n\t\t\tvar v4 = vertices[ y + 1 ][ x + 1 ];\r\n\r\n\t\t\tif ( y !== 0 || thetaStart > 0 ) indices.push( v1, v2, v4 );\r\n\t\t\tif ( y !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( v2, v3, v4 );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tthis.setIndex( new ( positions.count > 65535 ? THREE.Uint32Attribute : THREE.Uint16Attribute )( indices, 1 ) );\r\n\tthis.addAttribute( 'position', positions );\r\n\tthis.addAttribute( 'normal', normals );\r\n\tthis.addAttribute( 'uv', uvs );\r\n\r\n\tthis.boundingSphere = new THREE.Sphere( new THREE.Vector3(), radius );\r\n\r\n};\r\n\r\nTHREE.SphereBufferGeometry.prototype = Object.create( THREE.BufferGeometry.prototype );\r\nTHREE.SphereBufferGeometry.prototype.constructor = THREE.SphereBufferGeometry;\r\n\r\n// File:src/extras/geometries/TextGeometry.js\r\n\r\n/**\r\n * @author zz85 / http://www.lab4games.net/zz85/blog\r\n * @author alteredq / http://alteredqualia.com/\r\n *\r\n * Text = 3D Text\r\n *\r\n * parameters = {\r\n *  font: <THREE.Font>, // font\r\n *\r\n *  size: <float>, // size of the text\r\n *  height: <float>, // thickness to extrude text\r\n *  curveSegments: <int>, // number of points on the curves\r\n *\r\n *  bevelEnabled: <bool>, // turn on bevel\r\n *  bevelThickness: <float>, // how deep into text bevel goes\r\n *  bevelSize: <float> // how far from text outline is bevel\r\n * }\r\n */\r\n\r\nTHREE.TextGeometry = function ( text, parameters ) {\r\n\r\n\tparameters = parameters || {};\r\n\r\n\tvar font = parameters.font;\r\n\r\n\tif ( font instanceof THREE.Font === false ) {\r\n\r\n\t\tconsole.error( 'THREE.TextGeometry: font parameter is not an instance of THREE.Font.' );\r\n\t\treturn new THREE.Geometry();\r\n\r\n\t}\r\n\r\n\tvar shapes = font.generateShapes( text, parameters.size, parameters.curveSegments );\r\n\r\n\t// translate parameters to ExtrudeGeometry API\r\n\r\n\tparameters.amount = parameters.height !== undefined ? parameters.height : 50;\r\n\r\n\t// defaults\r\n\r\n\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\r\n\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\r\n\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\r\n\r\n\tTHREE.ExtrudeGeometry.call( this, shapes, parameters );\r\n\r\n\tthis.type = 'TextGeometry';\r\n\r\n};\r\n\r\nTHREE.TextGeometry.prototype = Object.create( THREE.ExtrudeGeometry.prototype );\r\nTHREE.TextGeometry.prototype.constructor = THREE.TextGeometry;\r\n\r\n// File:src/extras/geometries/TorusBufferGeometry.js\r\n\r\n/**\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\r\n\r\nTHREE.TorusBufferGeometry = function ( radius, tube, radialSegments, tubularSegments, arc ) {\r\n\r\n\tTHREE.BufferGeometry.call( this );\r\n\r\n\tthis.type = 'TorusBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\ttube: tube,\r\n\t\tradialSegments: radialSegments,\r\n\t\ttubularSegments: tubularSegments,\r\n\t\tarc: arc\r\n\t};\r\n\r\n\tradius = radius || 100;\r\n\ttube = tube || 40;\r\n\tradialSegments = Math.floor( radialSegments ) || 8;\r\n\ttubularSegments = Math.floor( tubularSegments ) || 6;\r\n\tarc = arc || Math.PI * 2;\r\n\r\n\t// used to calculate buffer length\r\n\tvar vertexCount = ( ( radialSegments + 1 ) * ( tubularSegments + 1 ) );\r\n\tvar indexCount = radialSegments * tubularSegments * 2 * 3;\r\n\r\n\t// buffers\r\n\tvar indices = new ( indexCount > 65535 ? Uint32Array : Uint16Array )( indexCount );\r\n\tvar vertices = new Float32Array( vertexCount * 3 );\r\n\tvar normals = new Float32Array( vertexCount * 3 );\r\n\tvar uvs = new Float32Array( vertexCount * 2 );\r\n\r\n\t// offset variables\r\n\tvar vertexBufferOffset = 0;\r\n\tvar uvBufferOffset = 0;\r\n\tvar indexBufferOffset = 0;\r\n\r\n\t// helper variables\r\n\tvar center = new THREE.Vector3();\r\n\tvar vertex = new THREE.Vector3();\r\n\tvar normal = new THREE.Vector3();\r\n\r\n\tvar j, i;\r\n\r\n\t// generate vertices, normals and uvs\r\n\r\n\tfor ( j = 0; j <= radialSegments; j ++ ) {\r\n\r\n\t\tfor ( i = 0; i <= tubularSegments; i ++ ) {\r\n\r\n\t\t\tvar u = i / tubularSegments * arc;\r\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\r\n\r\n\t\t\t// vertex\r\n\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\r\n\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\r\n\t\t\tvertex.z = tube * Math.sin( v );\r\n\r\n\t\t\tvertices[ vertexBufferOffset ] = vertex.x;\r\n\t\t\tvertices[ vertexBufferOffset + 1 ] = vertex.y;\r\n\t\t\tvertices[ vertexBufferOffset + 2 ] = vertex.z;\r\n\r\n\t\t\t// this vector is used to calculate the normal\r\n\t\t\tcenter.x = radius * Math.cos( u );\r\n\t\t\tcenter.y = radius * Math.sin( u );\r\n\r\n\t\t\t// normal\r\n\t\t\tnormal.subVectors( vertex, center ).normalize();\r\n\r\n\t\t\tnormals[ vertexBufferOffset ] = normal.x;\r\n\t\t\tnormals[ vertexBufferOffset + 1 ] = normal.y;\r\n\t\t\tnormals[ vertexBufferOffset + 2 ] = normal.z;\r\n\r\n\t\t\t// uv\r\n\t\t\tuvs[ uvBufferOffset ] = i / tubularSegments;\r\n\t\t\tuvs[ uvBufferOffset + 1 ] = j / radialSegments;\r\n\r\n\t\t\t// update offsets\r\n\t\t\tvertexBufferOffset += 3;\r\n\t\t\tuvBufferOffset += 2;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// generate indices\r\n\r\n\tfor ( j = 1; j <= radialSegments; j ++ ) {\r\n\r\n\t\tfor ( i = 1; i <= tubularSegments; i ++ ) {\r\n\r\n\t\t\t// indices\r\n\t\t\tvar a = ( tubularSegments + 1 ) * j + i - 1;\r\n\t\t\tvar b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\r\n\t\t\tvar c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\r\n\t\t\tvar d = ( tubularSegments + 1 ) * j + i;\r\n\r\n\t\t\t// face one\r\n\t\t\tindices[ indexBufferOffset ] = a;\r\n\t\t\tindices[ indexBufferOffset + 1 ] = b;\r\n\t\t\tindices[ indexBufferOffset + 2 ] = d;\r\n\r\n\t\t\t// face two\r\n\t\t\tindices[ indexBufferOffset + 3 ] = b;\r\n\t\t\tindices[ indexBufferOffset + 4 ] = c;\r\n\t\t\tindices[ indexBufferOffset + 5 ] = d;\r\n\r\n\t\t\t// update offset\r\n\t\t\tindexBufferOffset += 6;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// build geometry\r\n\tthis.setIndex( new THREE.BufferAttribute( indices, 1 ) );\r\n\tthis.addAttribute( 'position', new THREE.BufferAttribute( vertices, 3 ) );\r\n\tthis.addAttribute( 'normal', new THREE.BufferAttribute( normals, 3 ) );\r\n\tthis.addAttribute( 'uv', new THREE.BufferAttribute( uvs, 2 ) );\r\n\r\n};\r\n\r\nTHREE.TorusBufferGeometry.prototype = Object.create( THREE.BufferGeometry.prototype );\r\nTHREE.TorusBufferGeometry.prototype.constructor = THREE.TorusBufferGeometry;\r\n\r\n// File:src/extras/geometries/TorusGeometry.js\r\n\r\n/**\r\n * @author oosmoxiecode\r\n * @author mrdoob / http://mrdoob.com/\r\n * based on http://code.google.com/p/away3d/source/browse/trunk/fp10/Away3DLite/src/away3dlite/primitives/Torus.as?r=2888\r\n */\r\n\r\nTHREE.TorusGeometry = function ( radius, tube, radialSegments, tubularSegments, arc ) {\r\n\r\n\tTHREE.Geometry.call( this );\r\n\r\n\tthis.type = 'TorusGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\ttube: tube,\r\n\t\tradialSegments: radialSegments,\r\n\t\ttubularSegments: tubularSegments,\r\n\t\tarc: arc\r\n\t};\r\n\r\n\tthis.fromBufferGeometry( new THREE.TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) );\r\n\r\n};\r\n\r\nTHREE.TorusGeometry.prototype = Object.create( THREE.Geometry.prototype );\r\nTHREE.TorusGeometry.prototype.constructor = THREE.TorusGeometry;\r\n\r\n// File:src/extras/geometries/TorusKnotBufferGeometry.js\r\n\r\n/**\r\n * @author Mugen87 / https://github.com/Mugen87\r\n *\r\n * see: http://www.blackpawn.com/texts/pqtorus/\r\n */\r\nTHREE.TorusKnotBufferGeometry = function ( radius, tube, tubularSegments, radialSegments, p, q ) {\r\n\r\n\tTHREE.BufferGeometry.call( this );\r\n\r\n\tthis.type = 'TorusKnotBufferGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\ttube: tube,\r\n\t\ttubularSegments: tubularSegments,\r\n\t\tradialSegments: radialSegments,\r\n\t\tp: p,\r\n\t\tq: q\r\n\t};\r\n\r\n\tradius = radius || 100;\r\n\ttube = tube || 40;\r\n\ttubularSegments = Math.floor( tubularSegments ) || 64;\r\n\tradialSegments = Math.floor( radialSegments ) || 8;\r\n\tp = p || 2;\r\n\tq = q || 3;\r\n\r\n\t// used to calculate buffer length\r\n\tvar vertexCount = ( ( radialSegments + 1 ) * ( tubularSegments + 1 ) );\r\n\tvar indexCount = radialSegments * tubularSegments * 2 * 3;\r\n\r\n\t// buffers\r\n\tvar indices = new THREE.BufferAttribute( new ( indexCount > 65535 ? Uint32Array : Uint16Array )( indexCount ) , 1 );\r\n\tvar vertices = new THREE.BufferAttribute( new Float32Array( vertexCount * 3 ), 3 );\r\n\tvar normals = new THREE.BufferAttribute( new Float32Array( vertexCount * 3 ), 3 );\r\n\tvar uvs = new THREE.BufferAttribute( new Float32Array( vertexCount * 2 ), 2 );\r\n\r\n\t// helper variables\r\n\tvar i, j, index = 0, indexOffset = 0;\r\n\r\n\tvar vertex = new THREE.Vector3();\r\n\tvar normal = new THREE.Vector3();\r\n\tvar uv = new THREE.Vector2();\r\n\r\n\tvar P1 = new THREE.Vector3();\r\n\tvar P2 = new THREE.Vector3();\r\n\r\n\tvar B = new THREE.Vector3();\r\n\tvar T = new THREE.Vector3();\r\n\tvar N = new THREE.Vector3();\r\n\r\n\t// generate vertices, normals and uvs\r\n\r\n\tfor ( i = 0; i <= tubularSegments; ++ i ) {\r\n\r\n\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\r\n\r\n\t\tvar u = i / tubularSegments * p * Math.PI * 2;\r\n\r\n\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\r\n\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\r\n\r\n\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\r\n\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\r\n\r\n\t\t// calculate orthonormal basis\r\n\r\n\t\tT.subVectors( P2, P1 );\r\n\t\tN.addVectors( P2, P1 );\r\n\t\tB.crossVectors( T, N );\r\n\t\tN.crossVectors( B, T );\r\n\r\n\t\t// normalize B, N. T can be ignored, we don't use it\r\n\r\n\t\tB.normalize();\r\n\t\tN.normalize();\r\n\r\n\t\tfor ( j = 0; j <= radialSegments; ++ j ) {\r\n\r\n\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\r\n\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\r\n\r\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\r\n\t\t\tvar cx = - tube * Math.cos( v );\r\n\t\t\tvar cy = tube * Math.sin( v );\r\n\r\n\t\t\t// now calculate the final vertex position.\r\n\t\t\t// first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\r\n\r\n\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\r\n\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\r\n\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\r\n\r\n\t\t\t// vertex\r\n\t\t\tvertices.setXYZ( index, vertex.x, vertex.y, vertex.z );\r\n\r\n\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\r\n\t\t\tnormal.subVectors( vertex, P1 ).normalize();\r\n\t\t\tnormals.setXYZ( index, normal.x, normal.y, normal.z );\r\n\r\n\t\t\t// uv\r\n\t\t\tuv.x = i / tubularSegments;\r\n\t\t\tuv.y = j / radialSegments;\r\n\t\t\tuvs.setXY( index, uv.x, uv.y );\r\n\r\n\t\t\t// increase index\r\n\t\t\tindex ++;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// generate indices\r\n\r\n\tfor ( j = 1; j <= tubularSegments; j ++ ) {\r\n\r\n\t\tfor ( i = 1; i <= radialSegments; i ++ ) {\r\n\r\n\t\t\t// indices\r\n\t\t\tvar a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\r\n\t\t\tvar b = ( radialSegments + 1 ) * j + ( i - 1 );\r\n\t\t\tvar c = ( radialSegments + 1 ) * j + i;\r\n\t\t\tvar d = ( radialSegments + 1 ) * ( j - 1 ) + i;\r\n\r\n\t\t\t// face one\r\n\t\t\tindices.setX( indexOffset, a ); indexOffset++;\r\n\t\t\tindices.setX( indexOffset, b ); indexOffset++;\r\n\t\t\tindices.setX( indexOffset, d ); indexOffset++;\r\n\r\n\t\t\t// face two\r\n\t\t\tindices.setX( indexOffset, b ); indexOffset++;\r\n\t\t\tindices.setX( indexOffset, c ); indexOffset++;\r\n\t\t\tindices.setX( indexOffset, d ); indexOffset++;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// build geometry\r\n\r\n\tthis.setIndex( indices );\r\n\tthis.addAttribute( 'position', vertices );\r\n\tthis.addAttribute( 'normal', normals );\r\n\tthis.addAttribute( 'uv', uvs );\r\n\r\n\t// this function calculates the current position on the torus curve\r\n\r\n\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\r\n\r\n\t\tvar cu = Math.cos( u );\r\n\t\tvar su = Math.sin( u );\r\n\t\tvar quOverP = q / p * u;\r\n\t\tvar cs = Math.cos( quOverP );\r\n\r\n\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\r\n\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\r\n\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.TorusKnotBufferGeometry.prototype = Object.create( THREE.BufferGeometry.prototype );\r\nTHREE.TorusKnotBufferGeometry.prototype.constructor = THREE.TorusKnotBufferGeometry;\r\n\r\n// File:src/extras/geometries/TorusKnotGeometry.js\r\n\r\n/**\r\n * @author oosmoxiecode\r\n */\r\n\r\nTHREE.TorusKnotGeometry = function ( radius, tube, tubularSegments, radialSegments, p, q, heightScale ) {\r\n\r\n\tTHREE.Geometry.call( this );\r\n\r\n\tthis.type = 'TorusKnotGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\ttube: tube,\r\n\t\ttubularSegments: tubularSegments,\r\n\t\tradialSegments: radialSegments,\r\n\t\tp: p,\r\n\t\tq: q\r\n\t};\r\n\r\n\tif( heightScale !== undefined ) console.warn( 'THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.' );\r\n\r\n\tthis.fromBufferGeometry( new THREE.TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) );\r\n\tthis.mergeVertices();\r\n\r\n};\r\n\r\nTHREE.TorusKnotGeometry.prototype = Object.create( THREE.Geometry.prototype );\r\nTHREE.TorusKnotGeometry.prototype.constructor = THREE.TorusKnotGeometry;\r\n\r\n// File:src/extras/geometries/TubeGeometry.js\r\n\r\n/**\r\n * @author WestLangley / https://github.com/WestLangley\r\n * @author zz85 / https://github.com/zz85\r\n * @author miningold / https://github.com/miningold\r\n * @author jonobr1 / https://github.com/jonobr1\r\n *\r\n * Modified from the TorusKnotGeometry by @oosmoxiecode\r\n *\r\n * Creates a tube which extrudes along a 3d spline\r\n *\r\n * Uses parallel transport frames as described in\r\n * http://www.cs.indiana.edu/pub/techreports/TR425.pdf\r\n */\r\n\r\nTHREE.TubeGeometry = function ( path, segments, radius, radialSegments, closed, taper ) {\r\n\r\n\tTHREE.Geometry.call( this );\r\n\r\n\tthis.type = 'TubeGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tpath: path,\r\n\t\tsegments: segments,\r\n\t\tradius: radius,\r\n\t\tradialSegments: radialSegments,\r\n\t\tclosed: closed,\r\n\t\ttaper: taper\r\n\t};\r\n\r\n\tsegments = segments || 64;\r\n\tradius = radius || 1;\r\n\tradialSegments = radialSegments || 8;\r\n\tclosed = closed || false;\r\n\ttaper = taper || THREE.TubeGeometry.NoTaper;\r\n\r\n\tvar grid = [];\r\n\r\n\tvar scope = this,\r\n\r\n\t\ttangent,\r\n\t\tnormal,\r\n\t\tbinormal,\r\n\r\n\t\tnumpoints = segments + 1,\r\n\r\n\t\tu, v, r,\r\n\r\n\t\tcx, cy,\r\n\t\tpos, pos2 = new THREE.Vector3(),\r\n\t\ti, j,\r\n\t\tip, jp,\r\n\t\ta, b, c, d,\r\n\t\tuva, uvb, uvc, uvd;\r\n\r\n\tvar frames = new THREE.TubeGeometry.FrenetFrames( path, segments, closed ),\r\n\t\ttangents = frames.tangents,\r\n\t\tnormals = frames.normals,\r\n\t\tbinormals = frames.binormals;\r\n\r\n\t// proxy internals\r\n\tthis.tangents = tangents;\r\n\tthis.normals = normals;\r\n\tthis.binormals = binormals;\r\n\r\n\tfunction vert( x, y, z ) {\r\n\r\n\t\treturn scope.vertices.push( new THREE.Vector3( x, y, z ) ) - 1;\r\n\r\n\t}\r\n\r\n\t// construct the grid\r\n\r\n\tfor ( i = 0; i < numpoints; i ++ ) {\r\n\r\n\t\tgrid[ i ] = [];\r\n\r\n\t\tu = i / ( numpoints - 1 );\r\n\r\n\t\tpos = path.getPointAt( u );\r\n\r\n\t\ttangent = tangents[ i ];\r\n\t\tnormal = normals[ i ];\r\n\t\tbinormal = binormals[ i ];\r\n\r\n\t\tr = radius * taper( u );\r\n\r\n\t\tfor ( j = 0; j < radialSegments; j ++ ) {\r\n\r\n\t\t\tv = j / radialSegments * 2 * Math.PI;\r\n\r\n\t\t\tcx = - r * Math.cos( v ); // TODO: Hack: Negating it so it faces outside.\r\n\t\t\tcy = r * Math.sin( v );\r\n\r\n\t\t\tpos2.copy( pos );\r\n\t\t\tpos2.x += cx * normal.x + cy * binormal.x;\r\n\t\t\tpos2.y += cx * normal.y + cy * binormal.y;\r\n\t\t\tpos2.z += cx * normal.z + cy * binormal.z;\r\n\r\n\t\t\tgrid[ i ][ j ] = vert( pos2.x, pos2.y, pos2.z );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\t// construct the mesh\r\n\r\n\tfor ( i = 0; i < segments; i ++ ) {\r\n\r\n\t\tfor ( j = 0; j < radialSegments; j ++ ) {\r\n\r\n\t\t\tip = ( closed ) ? ( i + 1 ) % segments : i + 1;\r\n\t\t\tjp = ( j + 1 ) % radialSegments;\r\n\r\n\t\t\ta = grid[ i ][ j ];\t\t// *** NOT NECESSARILY PLANAR ! ***\r\n\t\t\tb = grid[ ip ][ j ];\r\n\t\t\tc = grid[ ip ][ jp ];\r\n\t\t\td = grid[ i ][ jp ];\r\n\r\n\t\t\tuva = new THREE.Vector2( i / segments, j / radialSegments );\r\n\t\t\tuvb = new THREE.Vector2( ( i + 1 ) / segments, j / radialSegments );\r\n\t\t\tuvc = new THREE.Vector2( ( i + 1 ) / segments, ( j + 1 ) / radialSegments );\r\n\t\t\tuvd = new THREE.Vector2( i / segments, ( j + 1 ) / radialSegments );\r\n\r\n\t\t\tthis.faces.push( new THREE.Face3( a, b, d ) );\r\n\t\t\tthis.faceVertexUvs[ 0 ].push( [ uva, uvb, uvd ] );\r\n\r\n\t\t\tthis.faces.push( new THREE.Face3( b, c, d ) );\r\n\t\t\tthis.faceVertexUvs[ 0 ].push( [ uvb.clone(), uvc, uvd.clone() ] );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tthis.computeFaceNormals();\r\n\tthis.computeVertexNormals();\r\n\r\n};\r\n\r\nTHREE.TubeGeometry.prototype = Object.create( THREE.Geometry.prototype );\r\nTHREE.TubeGeometry.prototype.constructor = THREE.TubeGeometry;\r\n\r\nTHREE.TubeGeometry.NoTaper = function ( u ) {\r\n\r\n\treturn 1;\r\n\r\n};\r\n\r\nTHREE.TubeGeometry.SinusoidalTaper = function ( u ) {\r\n\r\n\treturn Math.sin( Math.PI * u );\r\n\r\n};\r\n\r\n// For computing of Frenet frames, exposing the tangents, normals and binormals the spline\r\nTHREE.TubeGeometry.FrenetFrames = function ( path, segments, closed ) {\r\n\r\n\tvar\tnormal = new THREE.Vector3(),\r\n\r\n\t\ttangents = [],\r\n\t\tnormals = [],\r\n\t\tbinormals = [],\r\n\r\n\t\tvec = new THREE.Vector3(),\r\n\t\tmat = new THREE.Matrix4(),\r\n\r\n\t\tnumpoints = segments + 1,\r\n\t\ttheta,\r\n\t\tsmallest,\r\n\r\n\t\ttx, ty, tz,\r\n\t\ti, u;\r\n\r\n\r\n\t// expose internals\r\n\tthis.tangents = tangents;\r\n\tthis.normals = normals;\r\n\tthis.binormals = binormals;\r\n\r\n\t// compute the tangent vectors for each segment on the path\r\n\r\n\tfor ( i = 0; i < numpoints; i ++ ) {\r\n\r\n\t\tu = i / ( numpoints - 1 );\r\n\r\n\t\ttangents[ i ] = path.getTangentAt( u );\r\n\t\ttangents[ i ].normalize();\r\n\r\n\t}\r\n\r\n\tinitialNormal3();\r\n\r\n\t/*\r\n\tfunction initialNormal1(lastBinormal) {\r\n\t\t// fixed start binormal. Has dangers of 0 vectors\r\n\t\tnormals[ 0 ] = new THREE.Vector3();\r\n\t\tbinormals[ 0 ] = new THREE.Vector3();\r\n\t\tif (lastBinormal===undefined) lastBinormal = new THREE.Vector3( 0, 0, 1 );\r\n\t\tnormals[ 0 ].crossVectors( lastBinormal, tangents[ 0 ] ).normalize();\r\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] ).normalize();\r\n\t}\r\n\r\n\tfunction initialNormal2() {\r\n\r\n\t\t// This uses the Frenet-Serret formula for deriving binormal\r\n\t\tvar t2 = path.getTangentAt( epsilon );\r\n\r\n\t\tnormals[ 0 ] = new THREE.Vector3().subVectors( t2, tangents[ 0 ] ).normalize();\r\n\t\tbinormals[ 0 ] = new THREE.Vector3().crossVectors( tangents[ 0 ], normals[ 0 ] );\r\n\r\n\t\tnormals[ 0 ].crossVectors( binormals[ 0 ], tangents[ 0 ] ).normalize(); // last binormal x tangent\r\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] ).normalize();\r\n\r\n\t}\r\n\t*/\r\n\r\n\tfunction initialNormal3() {\r\n\r\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\r\n\t\t// and in the direction of the smallest tangent xyz component\r\n\r\n\t\tnormals[ 0 ] = new THREE.Vector3();\r\n\t\tbinormals[ 0 ] = new THREE.Vector3();\r\n\t\tsmallest = Number.MAX_VALUE;\r\n\t\ttx = Math.abs( tangents[ 0 ].x );\r\n\t\tty = Math.abs( tangents[ 0 ].y );\r\n\t\ttz = Math.abs( tangents[ 0 ].z );\r\n\r\n\t\tif ( tx <= smallest ) {\r\n\r\n\t\t\tsmallest = tx;\r\n\t\t\tnormal.set( 1, 0, 0 );\r\n\r\n\t\t}\r\n\r\n\t\tif ( ty <= smallest ) {\r\n\r\n\t\t\tsmallest = ty;\r\n\t\t\tnormal.set( 0, 1, 0 );\r\n\r\n\t\t}\r\n\r\n\t\tif ( tz <= smallest ) {\r\n\r\n\t\t\tnormal.set( 0, 0, 1 );\r\n\r\n\t\t}\r\n\r\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\r\n\r\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\r\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\r\n\r\n\t}\r\n\r\n\r\n\t// compute the slowly-varying normal and binormal vectors for each segment on the path\r\n\r\n\tfor ( i = 1; i < numpoints; i ++ ) {\r\n\r\n\t\tnormals[ i ] = normals[ i - 1 ].clone();\r\n\r\n\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\r\n\r\n\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\r\n\r\n\t\tif ( vec.length() > Number.EPSILON ) {\r\n\r\n\t\t\tvec.normalize();\r\n\r\n\t\t\ttheta = Math.acos( THREE.Math.clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\r\n\r\n\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\r\n\r\n\t\t}\r\n\r\n\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\r\n\r\n\t}\r\n\r\n\r\n\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\r\n\r\n\tif ( closed ) {\r\n\r\n\t\ttheta = Math.acos( THREE.Math.clamp( normals[ 0 ].dot( normals[ numpoints - 1 ] ), - 1, 1 ) );\r\n\t\ttheta /= ( numpoints - 1 );\r\n\r\n\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ numpoints - 1 ] ) ) > 0 ) {\r\n\r\n\t\t\ttheta = - theta;\r\n\r\n\t\t}\r\n\r\n\t\tfor ( i = 1; i < numpoints; i ++ ) {\r\n\r\n\t\t\t// twist a little...\r\n\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\r\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\n// File:src/extras/geometries/PolyhedronGeometry.js\r\n\r\n/**\r\n * @author clockworkgeek / https://github.com/clockworkgeek\r\n * @author timothypratley / https://github.com/timothypratley\r\n * @author WestLangley / http://github.com/WestLangley\r\n*/\r\n\r\nTHREE.PolyhedronGeometry = function ( vertices, indices, radius, detail ) {\r\n\r\n\tTHREE.Geometry.call( this );\r\n\r\n\tthis.type = 'PolyhedronGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tvertices: vertices,\r\n\t\tindices: indices,\r\n\t\tradius: radius,\r\n\t\tdetail: detail\r\n\t};\r\n\r\n\tradius = radius || 1;\r\n\tdetail = detail || 0;\r\n\r\n\tvar that = this;\r\n\r\n\tfor ( var i = 0, l = vertices.length; i < l; i += 3 ) {\r\n\r\n\t\tprepare( new THREE.Vector3( vertices[ i ], vertices[ i + 1 ], vertices[ i + 2 ] ) );\r\n\r\n\t}\r\n\r\n\tvar p = this.vertices;\r\n\r\n\tvar faces = [];\r\n\r\n\tfor ( var i = 0, j = 0, l = indices.length; i < l; i += 3, j ++ ) {\r\n\r\n\t\tvar v1 = p[ indices[ i ] ];\r\n\t\tvar v2 = p[ indices[ i + 1 ] ];\r\n\t\tvar v3 = p[ indices[ i + 2 ] ];\r\n\r\n\t\tfaces[ j ] = new THREE.Face3( v1.index, v2.index, v3.index, [ v1.clone(), v2.clone(), v3.clone() ], undefined, j );\r\n\r\n\t}\r\n\r\n\tvar centroid = new THREE.Vector3();\r\n\r\n\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\r\n\r\n\t\tsubdivide( faces[ i ], detail );\r\n\r\n\t}\r\n\r\n\r\n\t// Handle case when face straddles the seam\r\n\r\n\tfor ( var i = 0, l = this.faceVertexUvs[ 0 ].length; i < l; i ++ ) {\r\n\r\n\t\tvar uvs = this.faceVertexUvs[ 0 ][ i ];\r\n\r\n\t\tvar x0 = uvs[ 0 ].x;\r\n\t\tvar x1 = uvs[ 1 ].x;\r\n\t\tvar x2 = uvs[ 2 ].x;\r\n\r\n\t\tvar max = Math.max( x0, x1, x2 );\r\n\t\tvar min = Math.min( x0, x1, x2 );\r\n\r\n\t\tif ( max > 0.9 && min < 0.1 ) {\r\n\r\n\t\t\t// 0.9 is somewhat arbitrary\r\n\r\n\t\t\tif ( x0 < 0.2 ) uvs[ 0 ].x += 1;\r\n\t\t\tif ( x1 < 0.2 ) uvs[ 1 ].x += 1;\r\n\t\t\tif ( x2 < 0.2 ) uvs[ 2 ].x += 1;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\t// Apply radius\r\n\r\n\tfor ( var i = 0, l = this.vertices.length; i < l; i ++ ) {\r\n\r\n\t\tthis.vertices[ i ].multiplyScalar( radius );\r\n\r\n\t}\r\n\r\n\r\n\t// Merge vertices\r\n\r\n\tthis.mergeVertices();\r\n\r\n\tthis.computeFaceNormals();\r\n\r\n\tthis.boundingSphere = new THREE.Sphere( new THREE.Vector3(), radius );\r\n\r\n\r\n\t// Project vector onto sphere's surface\r\n\r\n\tfunction prepare( vector ) {\r\n\r\n\t\tvar vertex = vector.normalize().clone();\r\n\t\tvertex.index = that.vertices.push( vertex ) - 1;\r\n\r\n\t\t// Texture coords are equivalent to map coords, calculate angle and convert to fraction of a circle.\r\n\r\n\t\tvar u = azimuth( vector ) / 2 / Math.PI + 0.5;\r\n\t\tvar v = inclination( vector ) / Math.PI + 0.5;\r\n\t\tvertex.uv = new THREE.Vector2( u, 1 - v );\r\n\r\n\t\treturn vertex;\r\n\r\n\t}\r\n\r\n\r\n\t// Approximate a curved face with recursively sub-divided triangles.\r\n\r\n\tfunction make( v1, v2, v3, materialIndex ) {\r\n\r\n\t\tvar face = new THREE.Face3( v1.index, v2.index, v3.index, [ v1.clone(), v2.clone(), v3.clone() ], undefined, materialIndex );\r\n\t\tthat.faces.push( face );\r\n\r\n\t\tcentroid.copy( v1 ).add( v2 ).add( v3 ).divideScalar( 3 );\r\n\r\n\t\tvar azi = azimuth( centroid );\r\n\r\n\t\tthat.faceVertexUvs[ 0 ].push( [\r\n\t\t\tcorrectUV( v1.uv, v1, azi ),\r\n\t\t\tcorrectUV( v2.uv, v2, azi ),\r\n\t\t\tcorrectUV( v3.uv, v3, azi )\r\n\t\t] );\r\n\r\n\t}\r\n\r\n\r\n\t// Analytically subdivide a face to the required detail level.\r\n\r\n\tfunction subdivide( face, detail ) {\r\n\r\n\t\tvar cols = Math.pow( 2, detail );\r\n\t\tvar a = prepare( that.vertices[ face.a ] );\r\n\t\tvar b = prepare( that.vertices[ face.b ] );\r\n\t\tvar c = prepare( that.vertices[ face.c ] );\r\n\t\tvar v = [];\r\n\r\n\t\tvar materialIndex = face.materialIndex;\r\n\r\n\t\t// Construct all of the vertices for this subdivision.\r\n\r\n\t\tfor ( var i = 0 ; i <= cols; i ++ ) {\r\n\r\n\t\t\tv[ i ] = [];\r\n\r\n\t\t\tvar aj = prepare( a.clone().lerp( c, i / cols ) );\r\n\t\t\tvar bj = prepare( b.clone().lerp( c, i / cols ) );\r\n\t\t\tvar rows = cols - i;\r\n\r\n\t\t\tfor ( var j = 0; j <= rows; j ++ ) {\r\n\r\n\t\t\t\tif ( j === 0 && i === cols ) {\r\n\r\n\t\t\t\t\tv[ i ][ j ] = aj;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tv[ i ][ j ] = prepare( aj.clone().lerp( bj, j / rows ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Construct all of the faces.\r\n\r\n\t\tfor ( var i = 0; i < cols ; i ++ ) {\r\n\r\n\t\t\tfor ( var j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\r\n\r\n\t\t\t\tvar k = Math.floor( j / 2 );\r\n\r\n\t\t\t\tif ( j % 2 === 0 ) {\r\n\r\n\t\t\t\t\tmake(\r\n\t\t\t\t\t\tv[ i ][ k + 1 ],\r\n\t\t\t\t\t\tv[ i + 1 ][ k ],\r\n\t\t\t\t\t\tv[ i ][ k ],\r\n\t\t\t\t\t\tmaterialIndex\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tmake(\r\n\t\t\t\t\t\tv[ i ][ k + 1 ],\r\n\t\t\t\t\t\tv[ i + 1 ][ k + 1 ],\r\n\t\t\t\t\t\tv[ i + 1 ][ k ],\r\n\t\t\t\t\t\tmaterialIndex\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\t// Angle around the Y axis, counter-clockwise when looking from above.\r\n\r\n\tfunction azimuth( vector ) {\r\n\r\n\t\treturn Math.atan2( vector.z, - vector.x );\r\n\r\n\t}\r\n\r\n\r\n\t// Angle above the XZ plane.\r\n\r\n\tfunction inclination( vector ) {\r\n\r\n\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\r\n\r\n\t}\r\n\r\n\r\n\t// Texture fixing helper. Spheres have some odd behaviours.\r\n\r\n\tfunction correctUV( uv, vector, azimuth ) {\r\n\r\n\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) uv = new THREE.Vector2( uv.x - 1, uv.y );\r\n\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) uv = new THREE.Vector2( azimuth / 2 / Math.PI + 0.5, uv.y );\r\n\t\treturn uv.clone();\r\n\r\n\t}\r\n\r\n\r\n};\r\n\r\nTHREE.PolyhedronGeometry.prototype = Object.create( THREE.Geometry.prototype );\r\nTHREE.PolyhedronGeometry.prototype.constructor = THREE.PolyhedronGeometry;\r\n\r\n// File:src/extras/geometries/DodecahedronGeometry.js\r\n\r\n/**\r\n * @author Abe Pazos / https://hamoid.com\r\n */\r\n\r\nTHREE.DodecahedronGeometry = function ( radius, detail ) {\r\n\r\n\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\r\n\tvar r = 1 / t;\r\n\r\n\tvar vertices = [\r\n\r\n\t\t// (\u00b11, \u00b11, \u00b11)\r\n\t\t- 1, - 1, - 1,    - 1, - 1,  1,\r\n\t\t- 1,  1, - 1,    - 1,  1,  1,\r\n\t\t 1, - 1, - 1,     1, - 1,  1,\r\n\t\t 1,  1, - 1,     1,  1,  1,\r\n\r\n\t\t// (0, \u00b11/\u03c6, \u00b1\u03c6)\r\n\t\t 0, - r, - t,     0, - r,  t,\r\n\t\t 0,  r, - t,     0,  r,  t,\r\n\r\n\t\t// (\u00b11/\u03c6, \u00b1\u03c6, 0)\r\n\t\t- r, - t,  0,    - r,  t,  0,\r\n\t\t r, - t,  0,     r,  t,  0,\r\n\r\n\t\t// (\u00b1\u03c6, 0, \u00b11/\u03c6)\r\n\t\t- t,  0, - r,     t,  0, - r,\r\n\t\t- t,  0,  r,     t,  0,  r\r\n\t];\r\n\r\n\tvar indices = [\r\n\t\t 3, 11,  7,      3,  7, 15,      3, 15, 13,\r\n\t\t 7, 19, 17,      7, 17,  6,      7,  6, 15,\r\n\t\t17,  4,  8,     17,  8, 10,     17, 10,  6,\r\n\t\t 8,  0, 16,      8, 16,  2,      8,  2, 10,\r\n\t\t 0, 12,  1,      0,  1, 18,      0, 18, 16,\r\n\t\t 6, 10,  2,      6,  2, 13,      6, 13, 15,\r\n\t\t 2, 16, 18,      2, 18,  3,      2,  3, 13,\r\n\t\t18,  1,  9,     18,  9, 11,     18, 11,  3,\r\n\t\t 4, 14, 12,      4, 12,  0,      4,  0,  8,\r\n\t\t11,  9,  5,     11,  5, 19,     11, 19,  7,\r\n\t\t19,  5, 14,     19, 14,  4,     19,  4, 17,\r\n\t\t 1, 12, 14,      1, 14,  5,      1,  5,  9\r\n\t];\r\n\r\n\tTHREE.PolyhedronGeometry.call( this, vertices, indices, radius, detail );\r\n\r\n\tthis.type = 'DodecahedronGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\tdetail: detail\r\n\t};\r\n\r\n};\r\n\r\nTHREE.DodecahedronGeometry.prototype = Object.create( THREE.PolyhedronGeometry.prototype );\r\nTHREE.DodecahedronGeometry.prototype.constructor = THREE.DodecahedronGeometry;\r\n\r\n// File:src/extras/geometries/IcosahedronGeometry.js\r\n\r\n/**\r\n * @author timothypratley / https://github.com/timothypratley\r\n */\r\n\r\nTHREE.IcosahedronGeometry = function ( radius, detail ) {\r\n\r\n\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\r\n\r\n\tvar vertices = [\r\n\t\t- 1,  t,  0,    1,  t,  0,   - 1, - t,  0,    1, - t,  0,\r\n\t\t 0, - 1,  t,    0,  1,  t,    0, - 1, - t,    0,  1, - t,\r\n\t\t t,  0, - 1,    t,  0,  1,   - t,  0, - 1,   - t,  0,  1\r\n\t];\r\n\r\n\tvar indices = [\r\n\t\t 0, 11,  5,    0,  5,  1,    0,  1,  7,    0,  7, 10,    0, 10, 11,\r\n\t\t 1,  5,  9,    5, 11,  4,   11, 10,  2,   10,  7,  6,    7,  1,  8,\r\n\t\t 3,  9,  4,    3,  4,  2,    3,  2,  6,    3,  6,  8,    3,  8,  9,\r\n\t\t 4,  9,  5,    2,  4, 11,    6,  2, 10,    8,  6,  7,    9,  8,  1\r\n\t];\r\n\r\n\tTHREE.PolyhedronGeometry.call( this, vertices, indices, radius, detail );\r\n\r\n\tthis.type = 'IcosahedronGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\tdetail: detail\r\n\t};\r\n\r\n};\r\n\r\nTHREE.IcosahedronGeometry.prototype = Object.create( THREE.PolyhedronGeometry.prototype );\r\nTHREE.IcosahedronGeometry.prototype.constructor = THREE.IcosahedronGeometry;\r\n\r\n// File:src/extras/geometries/OctahedronGeometry.js\r\n\r\n/**\r\n * @author timothypratley / https://github.com/timothypratley\r\n */\r\n\r\nTHREE.OctahedronGeometry = function ( radius, detail ) {\r\n\r\n\tvar vertices = [\r\n\t\t1, 0, 0,   - 1, 0, 0,    0, 1, 0,    0, - 1, 0,    0, 0, 1,    0, 0, - 1\r\n\t];\r\n\r\n\tvar indices = [\r\n\t\t0, 2, 4,    0, 4, 3,    0, 3, 5,    0, 5, 2,    1, 2, 5,    1, 5, 3,    1, 3, 4,    1, 4, 2\r\n\t];\r\n\r\n\tTHREE.PolyhedronGeometry.call( this, vertices, indices, radius, detail );\r\n\r\n\tthis.type = 'OctahedronGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\tdetail: detail\r\n\t};\r\n\r\n};\r\n\r\nTHREE.OctahedronGeometry.prototype = Object.create( THREE.PolyhedronGeometry.prototype );\r\nTHREE.OctahedronGeometry.prototype.constructor = THREE.OctahedronGeometry;\r\n\r\n// File:src/extras/geometries/TetrahedronGeometry.js\r\n\r\n/**\r\n * @author timothypratley / https://github.com/timothypratley\r\n */\r\n\r\nTHREE.TetrahedronGeometry = function ( radius, detail ) {\r\n\r\n\tvar vertices = [\r\n\t\t 1,  1,  1,   - 1, - 1,  1,   - 1,  1, - 1,    1, - 1, - 1\r\n\t];\r\n\r\n\tvar indices = [\r\n\t\t 2,  1,  0,    0,  3,  2,    1,  3,  0,    2,  3,  1\r\n\t];\r\n\r\n\tTHREE.PolyhedronGeometry.call( this, vertices, indices, radius, detail );\r\n\r\n\tthis.type = 'TetrahedronGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tradius: radius,\r\n\t\tdetail: detail\r\n\t};\r\n\r\n};\r\n\r\nTHREE.TetrahedronGeometry.prototype = Object.create( THREE.PolyhedronGeometry.prototype );\r\nTHREE.TetrahedronGeometry.prototype.constructor = THREE.TetrahedronGeometry;\r\n\r\n// File:src/extras/geometries/ParametricGeometry.js\r\n\r\n/**\r\n * @author zz85 / https://github.com/zz85\r\n * Parametric Surfaces Geometry\r\n * based on the brilliant article by @prideout http://prideout.net/blog/?p=44\r\n *\r\n * new THREE.ParametricGeometry( parametricFunction, uSegments, ySegements );\r\n *\r\n */\r\n\r\nTHREE.ParametricGeometry = function ( func, slices, stacks ) {\r\n\r\n\tTHREE.Geometry.call( this );\r\n\r\n\tthis.type = 'ParametricGeometry';\r\n\r\n\tthis.parameters = {\r\n\t\tfunc: func,\r\n\t\tslices: slices,\r\n\t\tstacks: stacks\r\n\t};\r\n\r\n\tvar verts = this.vertices;\r\n\tvar faces = this.faces;\r\n\tvar uvs = this.faceVertexUvs[ 0 ];\r\n\r\n\tvar i, j, p;\r\n\tvar u, v;\r\n\r\n\tvar sliceCount = slices + 1;\r\n\r\n\tfor ( i = 0; i <= stacks; i ++ ) {\r\n\r\n\t\tv = i / stacks;\r\n\r\n\t\tfor ( j = 0; j <= slices; j ++ ) {\r\n\r\n\t\t\tu = j / slices;\r\n\r\n\t\t\tp = func( u, v );\r\n\t\t\tverts.push( p );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tvar a, b, c, d;\r\n\tvar uva, uvb, uvc, uvd;\r\n\r\n\tfor ( i = 0; i < stacks; i ++ ) {\r\n\r\n\t\tfor ( j = 0; j < slices; j ++ ) {\r\n\r\n\t\t\ta = i * sliceCount + j;\r\n\t\t\tb = i * sliceCount + j + 1;\r\n\t\t\tc = ( i + 1 ) * sliceCount + j + 1;\r\n\t\t\td = ( i + 1 ) * sliceCount + j;\r\n\r\n\t\t\tuva = new THREE.Vector2( j / slices, i / stacks );\r\n\t\t\tuvb = new THREE.Vector2( ( j + 1 ) / slices, i / stacks );\r\n\t\t\tuvc = new THREE.Vector2( ( j + 1 ) / slices, ( i + 1 ) / stacks );\r\n\t\t\tuvd = new THREE.Vector2( j / slices, ( i + 1 ) / stacks );\r\n\r\n\t\t\tfaces.push( new THREE.Face3( a, b, d ) );\r\n\t\t\tuvs.push( [ uva, uvb, uvd ] );\r\n\r\n\t\t\tfaces.push( new THREE.Face3( b, c, d ) );\r\n\t\t\tuvs.push( [ uvb.clone(), uvc, uvd.clone() ] );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// console.log(this);\r\n\r\n\t// magic bullet\r\n\t// var diff = this.mergeVertices();\r\n\t// console.log('removed ', diff, ' vertices by merging');\r\n\r\n\tthis.computeFaceNormals();\r\n\tthis.computeVertexNormals();\r\n\r\n};\r\n\r\nTHREE.ParametricGeometry.prototype = Object.create( THREE.Geometry.prototype );\r\nTHREE.ParametricGeometry.prototype.constructor = THREE.ParametricGeometry;\r\n\r\n// File:src/extras/geometries/WireframeGeometry.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.WireframeGeometry = function ( geometry ) {\r\n\r\n\tTHREE.BufferGeometry.call( this );\r\n\r\n\tvar edge = [ 0, 0 ], hash = {};\r\n\r\n\tfunction sortFunction( a, b ) {\r\n\r\n\t\treturn a - b;\r\n\r\n\t}\r\n\r\n\tvar keys = [ 'a', 'b', 'c' ];\r\n\r\n\tif ( geometry instanceof THREE.Geometry ) {\r\n\r\n\t\tvar vertices = geometry.vertices;\r\n\t\tvar faces = geometry.faces;\r\n\t\tvar numEdges = 0;\r\n\r\n\t\t// allocate maximal size\r\n\t\tvar edges = new Uint32Array( 6 * faces.length );\r\n\r\n\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar face = faces[ i ];\r\n\r\n\t\t\tfor ( var j = 0; j < 3; j ++ ) {\r\n\r\n\t\t\t\tedge[ 0 ] = face[ keys[ j ] ];\r\n\t\t\t\tedge[ 1 ] = face[ keys[ ( j + 1 ) % 3 ] ];\r\n\t\t\t\tedge.sort( sortFunction );\r\n\r\n\t\t\t\tvar key = edge.toString();\r\n\r\n\t\t\t\tif ( hash[ key ] === undefined ) {\r\n\r\n\t\t\t\t\tedges[ 2 * numEdges ] = edge[ 0 ];\r\n\t\t\t\t\tedges[ 2 * numEdges + 1 ] = edge[ 1 ];\r\n\t\t\t\t\thash[ key ] = true;\r\n\t\t\t\t\tnumEdges ++;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar coords = new Float32Array( numEdges * 2 * 3 );\r\n\r\n\t\tfor ( var i = 0, l = numEdges; i < l; i ++ ) {\r\n\r\n\t\t\tfor ( var j = 0; j < 2; j ++ ) {\r\n\r\n\t\t\t\tvar vertex = vertices[ edges [ 2 * i + j ] ];\r\n\r\n\t\t\t\tvar index = 6 * i + 3 * j;\r\n\t\t\t\tcoords[ index + 0 ] = vertex.x;\r\n\t\t\t\tcoords[ index + 1 ] = vertex.y;\r\n\t\t\t\tcoords[ index + 2 ] = vertex.z;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.addAttribute( 'position', new THREE.BufferAttribute( coords, 3 ) );\r\n\r\n\t} else if ( geometry instanceof THREE.BufferGeometry ) {\r\n\r\n\t\tif ( geometry.index !== null ) {\r\n\r\n\t\t\t// Indexed BufferGeometry\r\n\r\n\t\t\tvar indices = geometry.index.array;\r\n\t\t\tvar vertices = geometry.attributes.position;\r\n\t\t\tvar groups = geometry.groups;\r\n\t\t\tvar numEdges = 0;\r\n\r\n\t\t\tif ( groups.length === 0 ) {\r\n\r\n\t\t\t\tgeometry.addGroup( 0, indices.length );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// allocate maximal size\r\n\t\t\tvar edges = new Uint32Array( 2 * indices.length );\r\n\r\n\t\t\tfor ( var o = 0, ol = groups.length; o < ol; ++ o ) {\r\n\r\n\t\t\t\tvar group = groups[ o ];\r\n\r\n\t\t\t\tvar start = group.start;\r\n\t\t\t\tvar count = group.count;\r\n\r\n\t\t\t\tfor ( var i = start, il = start + count; i < il; i += 3 ) {\r\n\r\n\t\t\t\t\tfor ( var j = 0; j < 3; j ++ ) {\r\n\r\n\t\t\t\t\t\tedge[ 0 ] = indices[ i + j ];\r\n\t\t\t\t\t\tedge[ 1 ] = indices[ i + ( j + 1 ) % 3 ];\r\n\t\t\t\t\t\tedge.sort( sortFunction );\r\n\r\n\t\t\t\t\t\tvar key = edge.toString();\r\n\r\n\t\t\t\t\t\tif ( hash[ key ] === undefined ) {\r\n\r\n\t\t\t\t\t\t\tedges[ 2 * numEdges ] = edge[ 0 ];\r\n\t\t\t\t\t\t\tedges[ 2 * numEdges + 1 ] = edge[ 1 ];\r\n\t\t\t\t\t\t\thash[ key ] = true;\r\n\t\t\t\t\t\t\tnumEdges ++;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar coords = new Float32Array( numEdges * 2 * 3 );\r\n\r\n\t\t\tfor ( var i = 0, l = numEdges; i < l; i ++ ) {\r\n\r\n\t\t\t\tfor ( var j = 0; j < 2; j ++ ) {\r\n\r\n\t\t\t\t\tvar index = 6 * i + 3 * j;\r\n\t\t\t\t\tvar index2 = edges[ 2 * i + j ];\r\n\r\n\t\t\t\t\tcoords[ index + 0 ] = vertices.getX( index2 );\r\n\t\t\t\t\tcoords[ index + 1 ] = vertices.getY( index2 );\r\n\t\t\t\t\tcoords[ index + 2 ] = vertices.getZ( index2 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.addAttribute( 'position', new THREE.BufferAttribute( coords, 3 ) );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// non-indexed BufferGeometry\r\n\r\n\t\t\tvar vertices = geometry.attributes.position.array;\r\n\t\t\tvar numEdges = vertices.length / 3;\r\n\t\t\tvar numTris = numEdges / 3;\r\n\r\n\t\t\tvar coords = new Float32Array( numEdges * 2 * 3 );\r\n\r\n\t\t\tfor ( var i = 0, l = numTris; i < l; i ++ ) {\r\n\r\n\t\t\t\tfor ( var j = 0; j < 3; j ++ ) {\r\n\r\n\t\t\t\t\tvar index = 18 * i + 6 * j;\r\n\r\n\t\t\t\t\tvar index1 = 9 * i + 3 * j;\r\n\t\t\t\t\tcoords[ index + 0 ] = vertices[ index1 ];\r\n\t\t\t\t\tcoords[ index + 1 ] = vertices[ index1 + 1 ];\r\n\t\t\t\t\tcoords[ index + 2 ] = vertices[ index1 + 2 ];\r\n\r\n\t\t\t\t\tvar index2 = 9 * i + 3 * ( ( j + 1 ) % 3 );\r\n\t\t\t\t\tcoords[ index + 3 ] = vertices[ index2 ];\r\n\t\t\t\t\tcoords[ index + 4 ] = vertices[ index2 + 1 ];\r\n\t\t\t\t\tcoords[ index + 5 ] = vertices[ index2 + 2 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.addAttribute( 'position', new THREE.BufferAttribute( coords, 3 ) );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.WireframeGeometry.prototype = Object.create( THREE.BufferGeometry.prototype );\r\nTHREE.WireframeGeometry.prototype.constructor = THREE.WireframeGeometry;\r\n\r\n// File:src/extras/helpers/AxisHelper.js\r\n\r\n/**\r\n * @author sroucheray / http://sroucheray.org/\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.AxisHelper = function ( size ) {\r\n\r\n\tsize = size || 1;\r\n\r\n\tvar vertices = new Float32Array( [\r\n\t\t0, 0, 0,  size, 0, 0,\r\n\t\t0, 0, 0,  0, size, 0,\r\n\t\t0, 0, 0,  0, 0, size\r\n\t] );\r\n\r\n\tvar colors = new Float32Array( [\r\n\t\t1, 0, 0,  1, 0.6, 0,\r\n\t\t0, 1, 0,  0.6, 1, 0,\r\n\t\t0, 0, 1,  0, 0.6, 1\r\n\t] );\r\n\r\n\tvar geometry = new THREE.BufferGeometry();\r\n\tgeometry.addAttribute( 'position', new THREE.BufferAttribute( vertices, 3 ) );\r\n\tgeometry.addAttribute( 'color', new THREE.BufferAttribute( colors, 3 ) );\r\n\r\n\tvar material = new THREE.LineBasicMaterial( { vertexColors: THREE.VertexColors } );\r\n\r\n\tTHREE.LineSegments.call( this, geometry, material );\r\n\r\n};\r\n\r\nTHREE.AxisHelper.prototype = Object.create( THREE.LineSegments.prototype );\r\nTHREE.AxisHelper.prototype.constructor = THREE.AxisHelper;\r\n\r\n// File:src/extras/helpers/ArrowHelper.js\r\n\r\n/**\r\n * @author WestLangley / http://github.com/WestLangley\r\n * @author zz85 / http://github.com/zz85\r\n * @author bhouston / http://clara.io\r\n *\r\n * Creates an arrow for visualizing directions\r\n *\r\n * Parameters:\r\n *  dir - Vector3\r\n *  origin - Vector3\r\n *  length - Number\r\n *  color - color in hex value\r\n *  headLength - Number\r\n *  headWidth - Number\r\n */\r\n\r\nTHREE.ArrowHelper = ( function () {\r\n\r\n\tvar lineGeometry = new THREE.BufferGeometry();\r\n\tlineGeometry.addAttribute( 'position', new THREE.Float32Attribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\r\n\r\n\tvar coneGeometry = new THREE.CylinderBufferGeometry( 0, 0.5, 1, 5, 1 );\r\n\tconeGeometry.translate( 0, - 0.5, 0 );\r\n\r\n\treturn function ArrowHelper( dir, origin, length, color, headLength, headWidth ) {\r\n\r\n\t\t// dir is assumed to be normalized\r\n\r\n\t\tTHREE.Object3D.call( this );\r\n\r\n\t\tif ( color === undefined ) color = 0xffff00;\r\n\t\tif ( length === undefined ) length = 1;\r\n\t\tif ( headLength === undefined ) headLength = 0.2 * length;\r\n\t\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\r\n\r\n\t\tthis.position.copy( origin );\r\n\r\n\t\tthis.line = new THREE.Line( lineGeometry, new THREE.LineBasicMaterial( { color: color } ) );\r\n\t\tthis.line.matrixAutoUpdate = false;\r\n\t\tthis.add( this.line );\r\n\r\n\t\tthis.cone = new THREE.Mesh( coneGeometry, new THREE.MeshBasicMaterial( { color: color } ) );\r\n\t\tthis.cone.matrixAutoUpdate = false;\r\n\t\tthis.add( this.cone );\r\n\r\n\t\tthis.setDirection( dir );\r\n\t\tthis.setLength( length, headLength, headWidth );\r\n\r\n\t};\r\n\r\n}() );\r\n\r\nTHREE.ArrowHelper.prototype = Object.create( THREE.Object3D.prototype );\r\nTHREE.ArrowHelper.prototype.constructor = THREE.ArrowHelper;\r\n\r\nTHREE.ArrowHelper.prototype.setDirection = ( function () {\r\n\r\n\tvar axis = new THREE.Vector3();\r\n\tvar radians;\r\n\r\n\treturn function setDirection( dir ) {\r\n\r\n\t\t// dir is assumed to be normalized\r\n\r\n\t\tif ( dir.y > 0.99999 ) {\r\n\r\n\t\t\tthis.quaternion.set( 0, 0, 0, 1 );\r\n\r\n\t\t} else if ( dir.y < - 0.99999 ) {\r\n\r\n\t\t\tthis.quaternion.set( 1, 0, 0, 0 );\r\n\r\n\t\t} else {\r\n\r\n\t\t\taxis.set( dir.z, 0, - dir.x ).normalize();\r\n\r\n\t\t\tradians = Math.acos( dir.y );\r\n\r\n\t\t\tthis.quaternion.setFromAxisAngle( axis, radians );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n}() );\r\n\r\nTHREE.ArrowHelper.prototype.setLength = function ( length, headLength, headWidth ) {\r\n\r\n\tif ( headLength === undefined ) headLength = 0.2 * length;\r\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\r\n\r\n\tthis.line.scale.set( 1, Math.max( 0, length - headLength ), 1 );\r\n\tthis.line.updateMatrix();\r\n\r\n\tthis.cone.scale.set( headWidth, headLength, headWidth );\r\n\tthis.cone.position.y = length;\r\n\tthis.cone.updateMatrix();\r\n\r\n};\r\n\r\nTHREE.ArrowHelper.prototype.setColor = function ( color ) {\r\n\r\n\tthis.line.material.color.copy( color );\r\n\tthis.cone.material.color.copy( color );\r\n\r\n};\r\n\r\n// File:src/extras/helpers/BoxHelper.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.BoxHelper = function ( object ) {\r\n\r\n\tvar indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\r\n\tvar positions = new Float32Array( 8 * 3 );\r\n\r\n\tvar geometry = new THREE.BufferGeometry();\r\n\tgeometry.setIndex( new THREE.BufferAttribute( indices, 1 ) );\r\n\tgeometry.addAttribute( 'position', new THREE.BufferAttribute( positions, 3 ) );\r\n\r\n\tTHREE.LineSegments.call( this, geometry, new THREE.LineBasicMaterial( { color: 0xffff00 } ) );\r\n\r\n\tif ( object !== undefined ) {\r\n\r\n\t\tthis.update( object );\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.BoxHelper.prototype = Object.create( THREE.LineSegments.prototype );\r\nTHREE.BoxHelper.prototype.constructor = THREE.BoxHelper;\r\n\r\nTHREE.BoxHelper.prototype.update = ( function () {\r\n\r\n\tvar box = new THREE.Box3();\r\n\r\n\treturn function ( object ) {\r\n\r\n\t\tif ( object instanceof THREE.Box3 ) {\r\n\r\n\t\t\tbox.copy( object );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tbox.setFromObject( object );\r\n\r\n\t\t}\r\n\r\n\t\tif ( box.isEmpty() ) return;\r\n\r\n\t\tvar min = box.min;\r\n\t\tvar max = box.max;\r\n\r\n\t\t/*\r\n\t\t  5____4\r\n\t\t1/___0/|\r\n\t\t| 6__|_7\r\n\t\t2/___3/\r\n\r\n\t\t0: max.x, max.y, max.z\r\n\t\t1: min.x, max.y, max.z\r\n\t\t2: min.x, min.y, max.z\r\n\t\t3: max.x, min.y, max.z\r\n\t\t4: max.x, max.y, min.z\r\n\t\t5: min.x, max.y, min.z\r\n\t\t6: min.x, min.y, min.z\r\n\t\t7: max.x, min.y, min.z\r\n\t\t*/\r\n\r\n\t\tvar position = this.geometry.attributes.position;\r\n\t\tvar array = position.array;\r\n\r\n\t\tarray[  0 ] = max.x; array[  1 ] = max.y; array[  2 ] = max.z;\r\n\t\tarray[  3 ] = min.x; array[  4 ] = max.y; array[  5 ] = max.z;\r\n\t\tarray[  6 ] = min.x; array[  7 ] = min.y; array[  8 ] = max.z;\r\n\t\tarray[  9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\r\n\t\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\r\n\t\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\r\n\t\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\r\n\t\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\r\n\r\n\t\tposition.needsUpdate = true;\r\n\r\n\t\tthis.geometry.computeBoundingSphere();\r\n\r\n\t};\r\n\r\n} )();\r\n\r\n// File:src/extras/helpers/BoundingBoxHelper.js\r\n\r\n/**\r\n * @author WestLangley / http://github.com/WestLangley\r\n */\r\n\r\n// a helper to show the world-axis-aligned bounding box for an object\r\n\r\nTHREE.BoundingBoxHelper = function ( object, hex ) {\r\n\r\n\tvar color = ( hex !== undefined ) ? hex : 0x888888;\r\n\r\n\tthis.object = object;\r\n\r\n\tthis.box = new THREE.Box3();\r\n\r\n\tTHREE.Mesh.call( this, new THREE.BoxGeometry( 1, 1, 1 ), new THREE.MeshBasicMaterial( { color: color, wireframe: true } ) );\r\n\r\n};\r\n\r\nTHREE.BoundingBoxHelper.prototype = Object.create( THREE.Mesh.prototype );\r\nTHREE.BoundingBoxHelper.prototype.constructor = THREE.BoundingBoxHelper;\r\n\r\nTHREE.BoundingBoxHelper.prototype.update = function () {\r\n\r\n\tthis.box.setFromObject( this.object );\r\n\r\n\tthis.box.size( this.scale );\r\n\r\n\tthis.box.center( this.position );\r\n\r\n};\r\n\r\n// File:src/extras/helpers/CameraHelper.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n *\r\n *\t- shows frustum, line of sight and up of the camera\r\n *\t- suitable for fast updates\r\n * \t- based on frustum visualization in lightgl.js shadowmap example\r\n *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\r\n */\r\n\r\nTHREE.CameraHelper = function ( camera ) {\r\n\r\n\tvar geometry = new THREE.Geometry();\r\n\tvar material = new THREE.LineBasicMaterial( { color: 0xffffff, vertexColors: THREE.FaceColors } );\r\n\r\n\tvar pointMap = {};\r\n\r\n\t// colors\r\n\r\n\tvar hexFrustum = 0xffaa00;\r\n\tvar hexCone = 0xff0000;\r\n\tvar hexUp = 0x00aaff;\r\n\tvar hexTarget = 0xffffff;\r\n\tvar hexCross = 0x333333;\r\n\r\n\t// near\r\n\r\n\taddLine( \"n1\", \"n2\", hexFrustum );\r\n\taddLine( \"n2\", \"n4\", hexFrustum );\r\n\taddLine( \"n4\", \"n3\", hexFrustum );\r\n\taddLine( \"n3\", \"n1\", hexFrustum );\r\n\r\n\t// far\r\n\r\n\taddLine( \"f1\", \"f2\", hexFrustum );\r\n\taddLine( \"f2\", \"f4\", hexFrustum );\r\n\taddLine( \"f4\", \"f3\", hexFrustum );\r\n\taddLine( \"f3\", \"f1\", hexFrustum );\r\n\r\n\t// sides\r\n\r\n\taddLine( \"n1\", \"f1\", hexFrustum );\r\n\taddLine( \"n2\", \"f2\", hexFrustum );\r\n\taddLine( \"n3\", \"f3\", hexFrustum );\r\n\taddLine( \"n4\", \"f4\", hexFrustum );\r\n\r\n\t// cone\r\n\r\n\taddLine( \"p\", \"n1\", hexCone );\r\n\taddLine( \"p\", \"n2\", hexCone );\r\n\taddLine( \"p\", \"n3\", hexCone );\r\n\taddLine( \"p\", \"n4\", hexCone );\r\n\r\n\t// up\r\n\r\n\taddLine( \"u1\", \"u2\", hexUp );\r\n\taddLine( \"u2\", \"u3\", hexUp );\r\n\taddLine( \"u3\", \"u1\", hexUp );\r\n\r\n\t// target\r\n\r\n\taddLine( \"c\", \"t\", hexTarget );\r\n\taddLine( \"p\", \"c\", hexCross );\r\n\r\n\t// cross\r\n\r\n\taddLine( \"cn1\", \"cn2\", hexCross );\r\n\taddLine( \"cn3\", \"cn4\", hexCross );\r\n\r\n\taddLine( \"cf1\", \"cf2\", hexCross );\r\n\taddLine( \"cf3\", \"cf4\", hexCross );\r\n\r\n\tfunction addLine( a, b, hex ) {\r\n\r\n\t\taddPoint( a, hex );\r\n\t\taddPoint( b, hex );\r\n\r\n\t}\r\n\r\n\tfunction addPoint( id, hex ) {\r\n\r\n\t\tgeometry.vertices.push( new THREE.Vector3() );\r\n\t\tgeometry.colors.push( new THREE.Color( hex ) );\r\n\r\n\t\tif ( pointMap[ id ] === undefined ) {\r\n\r\n\t\t\tpointMap[ id ] = [];\r\n\r\n\t\t}\r\n\r\n\t\tpointMap[ id ].push( geometry.vertices.length - 1 );\r\n\r\n\t}\r\n\r\n\tTHREE.LineSegments.call( this, geometry, material );\r\n\r\n\tthis.camera = camera;\r\n\tthis.camera.updateProjectionMatrix();\r\n\r\n\tthis.matrix = camera.matrixWorld;\r\n\tthis.matrixAutoUpdate = false;\r\n\r\n\tthis.pointMap = pointMap;\r\n\r\n\tthis.update();\r\n\r\n};\r\n\r\nTHREE.CameraHelper.prototype = Object.create( THREE.LineSegments.prototype );\r\nTHREE.CameraHelper.prototype.constructor = THREE.CameraHelper;\r\n\r\nTHREE.CameraHelper.prototype.update = function () {\r\n\r\n\tvar geometry, pointMap;\r\n\r\n\tvar vector = new THREE.Vector3();\r\n\tvar camera = new THREE.Camera();\r\n\r\n\tfunction setPoint( point, x, y, z ) {\r\n\r\n\t\tvector.set( x, y, z ).unproject( camera );\r\n\r\n\t\tvar points = pointMap[ point ];\r\n\r\n\t\tif ( points !== undefined ) {\r\n\r\n\t\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tgeometry.vertices[ points[ i ] ].copy( vector );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn function () {\r\n\r\n\t\tgeometry = this.geometry;\r\n\t\tpointMap = this.pointMap;\r\n\r\n\t\tvar w = 1, h = 1;\r\n\r\n\t\t// we need just camera projection matrix\r\n\t\t// world matrix must be identity\r\n\r\n\t\tcamera.projectionMatrix.copy( this.camera.projectionMatrix );\r\n\r\n\t\t// center / target\r\n\r\n\t\tsetPoint( \"c\", 0, 0, - 1 );\r\n\t\tsetPoint( \"t\", 0, 0,  1 );\r\n\r\n\t\t// near\r\n\r\n\t\tsetPoint( \"n1\", - w, - h, - 1 );\r\n\t\tsetPoint( \"n2\",   w, - h, - 1 );\r\n\t\tsetPoint( \"n3\", - w,   h, - 1 );\r\n\t\tsetPoint( \"n4\",   w,   h, - 1 );\r\n\r\n\t\t// far\r\n\r\n\t\tsetPoint( \"f1\", - w, - h, 1 );\r\n\t\tsetPoint( \"f2\",   w, - h, 1 );\r\n\t\tsetPoint( \"f3\", - w,   h, 1 );\r\n\t\tsetPoint( \"f4\",   w,   h, 1 );\r\n\r\n\t\t// up\r\n\r\n\t\tsetPoint( \"u1\",   w * 0.7, h * 1.1, - 1 );\r\n\t\tsetPoint( \"u2\", - w * 0.7, h * 1.1, - 1 );\r\n\t\tsetPoint( \"u3\",         0, h * 2,   - 1 );\r\n\r\n\t\t// cross\r\n\r\n\t\tsetPoint( \"cf1\", - w,   0, 1 );\r\n\t\tsetPoint( \"cf2\",   w,   0, 1 );\r\n\t\tsetPoint( \"cf3\",   0, - h, 1 );\r\n\t\tsetPoint( \"cf4\",   0,   h, 1 );\r\n\r\n\t\tsetPoint( \"cn1\", - w,   0, - 1 );\r\n\t\tsetPoint( \"cn2\",   w,   0, - 1 );\r\n\t\tsetPoint( \"cn3\",   0, - h, - 1 );\r\n\t\tsetPoint( \"cn4\",   0,   h, - 1 );\r\n\r\n\t\tgeometry.verticesNeedUpdate = true;\r\n\r\n\t};\r\n\r\n}();\r\n\r\n// File:src/extras/helpers/DirectionalLightHelper.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author WestLangley / http://github.com/WestLangley\r\n */\r\n\r\nTHREE.DirectionalLightHelper = function ( light, size ) {\r\n\r\n\tTHREE.Object3D.call( this );\r\n\r\n\tthis.light = light;\r\n\tthis.light.updateMatrixWorld();\r\n\r\n\tthis.matrix = light.matrixWorld;\r\n\tthis.matrixAutoUpdate = false;\r\n\r\n\tif ( size === undefined ) size = 1;\r\n\r\n\tvar geometry = new THREE.BufferGeometry();\r\n\tgeometry.addAttribute( 'position', new THREE.Float32Attribute( [\r\n\t\t- size,   size, 0,\r\n\t\t  size,   size, 0,\r\n\t\t  size, - size, 0,\r\n\t\t- size, - size, 0,\r\n\t\t- size,   size, 0\r\n\t], 3 ) );\r\n\r\n\tvar material = new THREE.LineBasicMaterial( { fog: false } );\r\n\r\n\tthis.add( new THREE.Line( geometry, material ) );\r\n\r\n\tgeometry = new THREE.BufferGeometry();\r\n\tgeometry.addAttribute( 'position', new THREE.Float32Attribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\r\n\r\n\tthis.add( new THREE.Line( geometry, material ));\r\n\r\n\tthis.update();\r\n\r\n};\r\n\r\nTHREE.DirectionalLightHelper.prototype = Object.create( THREE.Object3D.prototype );\r\nTHREE.DirectionalLightHelper.prototype.constructor = THREE.DirectionalLightHelper;\r\n\r\nTHREE.DirectionalLightHelper.prototype.dispose = function () {\r\n\r\n\tvar lightPlane = this.children[ 0 ];\r\n\tvar targetLine = this.children[ 1 ];\r\n\r\n\tlightPlane.geometry.dispose();\r\n\tlightPlane.material.dispose();\r\n\ttargetLine.geometry.dispose();\r\n\ttargetLine.material.dispose();\r\n\r\n};\r\n\r\nTHREE.DirectionalLightHelper.prototype.update = function () {\r\n\r\n\tvar v1 = new THREE.Vector3();\r\n\tvar v2 = new THREE.Vector3();\r\n\tvar v3 = new THREE.Vector3();\r\n\r\n\treturn function () {\r\n\r\n\t\tv1.setFromMatrixPosition( this.light.matrixWorld );\r\n\t\tv2.setFromMatrixPosition( this.light.target.matrixWorld );\r\n\t\tv3.subVectors( v2, v1 );\r\n\r\n\t\tvar lightPlane = this.children[ 0 ];\r\n\t\tvar targetLine = this.children[ 1 ];\r\n\r\n\t\tlightPlane.lookAt( v3 );\r\n\t\tlightPlane.material.color.copy( this.light.color ).multiplyScalar( this.light.intensity );\r\n\r\n\t\ttargetLine.lookAt( v3 );\r\n\t\ttargetLine.scale.z = v3.length();\r\n\r\n\t};\r\n\r\n}();\r\n\r\n// File:src/extras/helpers/EdgesHelper.js\r\n\r\n/**\r\n * @author WestLangley / http://github.com/WestLangley\r\n * @param object THREE.Mesh whose geometry will be used\r\n * @param hex line color\r\n * @param thresholdAngle the minimum angle (in degrees),\r\n * between the face normals of adjacent faces,\r\n * that is required to render an edge. A value of 10 means\r\n * an edge is only rendered if the angle is at least 10 degrees.\r\n */\r\n\r\nTHREE.EdgesHelper = function ( object, hex, thresholdAngle ) {\r\n\r\n\tvar color = ( hex !== undefined ) ? hex : 0xffffff;\r\n\r\n\tTHREE.LineSegments.call( this, new THREE.EdgesGeometry( object.geometry, thresholdAngle ), new THREE.LineBasicMaterial( { color: color } ) );\r\n\r\n\tthis.matrix = object.matrixWorld;\r\n\tthis.matrixAutoUpdate = false;\r\n\r\n};\r\n\r\nTHREE.EdgesHelper.prototype = Object.create( THREE.LineSegments.prototype );\r\nTHREE.EdgesHelper.prototype.constructor = THREE.EdgesHelper;\r\n\r\n// File:src/extras/helpers/FaceNormalsHelper.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author WestLangley / http://github.com/WestLangley\r\n*/\r\n\r\nTHREE.FaceNormalsHelper = function ( object, size, hex, linewidth ) {\r\n\r\n\t// FaceNormalsHelper only supports THREE.Geometry\r\n\r\n\tthis.object = object;\r\n\r\n\tthis.size = ( size !== undefined ) ? size : 1;\r\n\r\n\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\r\n\r\n\tvar width = ( linewidth !== undefined ) ? linewidth : 1;\r\n\r\n\t//\r\n\r\n\tvar nNormals = 0;\r\n\r\n\tvar objGeometry = this.object.geometry;\r\n\r\n\tif ( objGeometry instanceof THREE.Geometry ) {\r\n\r\n\t\tnNormals = objGeometry.faces.length;\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( 'THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.' );\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tvar geometry = new THREE.BufferGeometry();\r\n\r\n\tvar positions = new THREE.Float32Attribute( nNormals * 2 * 3, 3 );\r\n\r\n\tgeometry.addAttribute( 'position', positions );\r\n\r\n\tTHREE.LineSegments.call( this, geometry, new THREE.LineBasicMaterial( { color: color, linewidth: width } ) );\r\n\r\n\t//\r\n\r\n\tthis.matrixAutoUpdate = false;\r\n\tthis.update();\r\n\r\n};\r\n\r\nTHREE.FaceNormalsHelper.prototype = Object.create( THREE.LineSegments.prototype );\r\nTHREE.FaceNormalsHelper.prototype.constructor = THREE.FaceNormalsHelper;\r\n\r\nTHREE.FaceNormalsHelper.prototype.update = ( function () {\r\n\r\n\tvar v1 = new THREE.Vector3();\r\n\tvar v2 = new THREE.Vector3();\r\n\tvar normalMatrix = new THREE.Matrix3();\r\n\r\n\treturn function update() {\r\n\r\n\t\tthis.object.updateMatrixWorld( true );\r\n\r\n\t\tnormalMatrix.getNormalMatrix( this.object.matrixWorld );\r\n\r\n\t\tvar matrixWorld = this.object.matrixWorld;\r\n\r\n\t\tvar position = this.geometry.attributes.position;\r\n\r\n\t\t//\r\n\r\n\t\tvar objGeometry = this.object.geometry;\r\n\r\n\t\tvar vertices = objGeometry.vertices;\r\n\r\n\t\tvar faces = objGeometry.faces;\r\n\r\n\t\tvar idx = 0;\r\n\r\n\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar face = faces[ i ];\r\n\r\n\t\t\tvar normal = face.normal;\r\n\r\n\t\t\tv1.copy( vertices[ face.a ] )\r\n\t\t\t\t.add( vertices[ face.b ] )\r\n\t\t\t\t.add( vertices[ face.c ] )\r\n\t\t\t\t.divideScalar( 3 )\r\n\t\t\t\t.applyMatrix4( matrixWorld );\r\n\r\n\t\t\tv2.copy( normal ).applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\r\n\r\n\t\t\tposition.setXYZ( idx, v1.x, v1.y, v1.z );\r\n\r\n\t\t\tidx = idx + 1;\r\n\r\n\t\t\tposition.setXYZ( idx, v2.x, v2.y, v2.z );\r\n\r\n\t\t\tidx = idx + 1;\r\n\r\n\t\t}\r\n\r\n\t\tposition.needsUpdate = true;\r\n\r\n\t\treturn this;\r\n\r\n\t};\r\n\r\n}() );\r\n\r\n// File:src/extras/helpers/GridHelper.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.GridHelper = function ( size, step, color1, color2 ) {\r\n\r\n\tcolor1 = new THREE.Color( color1 !== undefined ? color1 : 0x444444 );\r\n\tcolor2 = new THREE.Color( color2 !== undefined ? color2 : 0x888888 );\r\n\r\n\tvar vertices = [];\r\n\tvar colors = [];\r\n\r\n\tfor ( var i = - size, j = 0; i <= size; i += step ) {\r\n\r\n\t\tvertices.push( - size, 0, i, size, 0, i );\r\n\t\tvertices.push( i, 0, - size, i, 0, size );\r\n\r\n\t\tvar color = i === 0 ? color1 : color2;\r\n\r\n\t\tcolor.toArray( colors, j ); j += 3;\r\n\t\tcolor.toArray( colors, j ); j += 3;\r\n\t\tcolor.toArray( colors, j ); j += 3;\r\n\t\tcolor.toArray( colors, j ); j += 3;\r\n\r\n\t}\r\n\r\n\tvar geometry = new THREE.BufferGeometry();\r\n\tgeometry.addAttribute( 'position', new THREE.Float32Attribute( vertices, 3 ) );\r\n\tgeometry.addAttribute( 'color', new THREE.Float32Attribute( colors, 3 ) );\r\n\r\n\tvar material = new THREE.LineBasicMaterial( { vertexColors: THREE.VertexColors } );\r\n\r\n\tTHREE.LineSegments.call( this, geometry, material );\r\n\r\n};\r\n\r\nTHREE.GridHelper.prototype = Object.create( THREE.LineSegments.prototype );\r\nTHREE.GridHelper.prototype.constructor = THREE.GridHelper;\r\n\r\nTHREE.GridHelper.prototype.setColors = function () {\r\n\r\n\tconsole.error( 'THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.' );\r\n\r\n};\r\n\r\n// File:src/extras/helpers/HemisphereLightHelper.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.HemisphereLightHelper = function ( light, sphereSize ) {\r\n\r\n\tTHREE.Object3D.call( this );\r\n\r\n\tthis.light = light;\r\n\tthis.light.updateMatrixWorld();\r\n\r\n\tthis.matrix = light.matrixWorld;\r\n\tthis.matrixAutoUpdate = false;\r\n\r\n\tthis.colors = [ new THREE.Color(), new THREE.Color() ];\r\n\r\n\tvar geometry = new THREE.SphereGeometry( sphereSize, 4, 2 );\r\n\tgeometry.rotateX( - Math.PI / 2 );\r\n\r\n\tfor ( var i = 0, il = 8; i < il; i ++ ) {\r\n\r\n\t\tgeometry.faces[ i ].color = this.colors[ i < 4 ? 0 : 1 ];\r\n\r\n\t}\r\n\r\n\tvar material = new THREE.MeshBasicMaterial( { vertexColors: THREE.FaceColors, wireframe: true } );\r\n\r\n\tthis.lightSphere = new THREE.Mesh( geometry, material );\r\n\tthis.add( this.lightSphere );\r\n\r\n\tthis.update();\r\n\r\n};\r\n\r\nTHREE.HemisphereLightHelper.prototype = Object.create( THREE.Object3D.prototype );\r\nTHREE.HemisphereLightHelper.prototype.constructor = THREE.HemisphereLightHelper;\r\n\r\nTHREE.HemisphereLightHelper.prototype.dispose = function () {\r\n\r\n\tthis.lightSphere.geometry.dispose();\r\n\tthis.lightSphere.material.dispose();\r\n\r\n};\r\n\r\nTHREE.HemisphereLightHelper.prototype.update = function () {\r\n\r\n\tvar vector = new THREE.Vector3();\r\n\r\n\treturn function () {\r\n\r\n\t\tthis.colors[ 0 ].copy( this.light.color ).multiplyScalar( this.light.intensity );\r\n\t\tthis.colors[ 1 ].copy( this.light.groundColor ).multiplyScalar( this.light.intensity );\r\n\r\n\t\tthis.lightSphere.lookAt( vector.setFromMatrixPosition( this.light.matrixWorld ).negate() );\r\n\t\tthis.lightSphere.geometry.colorsNeedUpdate = true;\r\n\r\n\t};\r\n\r\n}();\r\n\r\n// File:src/extras/helpers/PointLightHelper.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.PointLightHelper = function ( light, sphereSize ) {\r\n\r\n\tthis.light = light;\r\n\tthis.light.updateMatrixWorld();\r\n\r\n\tvar geometry = new THREE.SphereBufferGeometry( sphereSize, 4, 2 );\r\n\tvar material = new THREE.MeshBasicMaterial( { wireframe: true, fog: false } );\r\n\tmaterial.color.copy( this.light.color ).multiplyScalar( this.light.intensity );\r\n\r\n\tTHREE.Mesh.call( this, geometry, material );\r\n\r\n\tthis.matrix = this.light.matrixWorld;\r\n\tthis.matrixAutoUpdate = false;\r\n\r\n\t/*\r\n\tvar distanceGeometry = new THREE.IcosahedronGeometry( 1, 2 );\r\n\tvar distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\r\n\r\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\r\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\r\n\r\n\tvar d = light.distance;\r\n\r\n\tif ( d === 0.0 ) {\r\n\r\n\t\tthis.lightDistance.visible = false;\r\n\r\n\t} else {\r\n\r\n\t\tthis.lightDistance.scale.set( d, d, d );\r\n\r\n\t}\r\n\r\n\tthis.add( this.lightDistance );\r\n\t*/\r\n\r\n};\r\n\r\nTHREE.PointLightHelper.prototype = Object.create( THREE.Mesh.prototype );\r\nTHREE.PointLightHelper.prototype.constructor = THREE.PointLightHelper;\r\n\r\nTHREE.PointLightHelper.prototype.dispose = function () {\r\n\r\n\tthis.geometry.dispose();\r\n\tthis.material.dispose();\r\n\r\n};\r\n\r\nTHREE.PointLightHelper.prototype.update = function () {\r\n\r\n\tthis.material.color.copy( this.light.color ).multiplyScalar( this.light.intensity );\r\n\r\n\t/*\r\n\tvar d = this.light.distance;\r\n\r\n\tif ( d === 0.0 ) {\r\n\r\n\t\tthis.lightDistance.visible = false;\r\n\r\n\t} else {\r\n\r\n\t\tthis.lightDistance.visible = true;\r\n\t\tthis.lightDistance.scale.set( d, d, d );\r\n\r\n\t}\r\n\t*/\r\n\r\n};\r\n\r\n// File:src/extras/helpers/SkeletonHelper.js\r\n\r\n/**\r\n * @author Sean Griffin / http://twitter.com/sgrif\r\n * @author Michael Guerrero / http://realitymeltdown.com\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author ikerr / http://verold.com\r\n */\r\n\r\nTHREE.SkeletonHelper = function ( object ) {\r\n\r\n\tthis.bones = this.getBoneList( object );\r\n\r\n\tvar geometry = new THREE.Geometry();\r\n\r\n\tfor ( var i = 0; i < this.bones.length; i ++ ) {\r\n\r\n\t\tvar bone = this.bones[ i ];\r\n\r\n\t\tif ( bone.parent instanceof THREE.Bone ) {\r\n\r\n\t\t\tgeometry.vertices.push( new THREE.Vector3() );\r\n\t\t\tgeometry.vertices.push( new THREE.Vector3() );\r\n\t\t\tgeometry.colors.push( new THREE.Color( 0, 0, 1 ) );\r\n\t\t\tgeometry.colors.push( new THREE.Color( 0, 1, 0 ) );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tgeometry.dynamic = true;\r\n\r\n\tvar material = new THREE.LineBasicMaterial( { vertexColors: THREE.VertexColors, depthTest: false, depthWrite: false, transparent: true } );\r\n\r\n\tTHREE.LineSegments.call( this, geometry, material );\r\n\r\n\tthis.root = object;\r\n\r\n\tthis.matrix = object.matrixWorld;\r\n\tthis.matrixAutoUpdate = false;\r\n\r\n\tthis.update();\r\n\r\n};\r\n\r\n\r\nTHREE.SkeletonHelper.prototype = Object.create( THREE.LineSegments.prototype );\r\nTHREE.SkeletonHelper.prototype.constructor = THREE.SkeletonHelper;\r\n\r\nTHREE.SkeletonHelper.prototype.getBoneList = function( object ) {\r\n\r\n\tvar boneList = [];\r\n\r\n\tif ( object instanceof THREE.Bone ) {\r\n\r\n\t\tboneList.push( object );\r\n\r\n\t}\r\n\r\n\tfor ( var i = 0; i < object.children.length; i ++ ) {\r\n\r\n\t\tboneList.push.apply( boneList, this.getBoneList( object.children[ i ] ) );\r\n\r\n\t}\r\n\r\n\treturn boneList;\r\n\r\n};\r\n\r\nTHREE.SkeletonHelper.prototype.update = function () {\r\n\r\n\tvar geometry = this.geometry;\r\n\r\n\tvar matrixWorldInv = new THREE.Matrix4().getInverse( this.root.matrixWorld );\r\n\r\n\tvar boneMatrix = new THREE.Matrix4();\r\n\r\n\tvar j = 0;\r\n\r\n\tfor ( var i = 0; i < this.bones.length; i ++ ) {\r\n\r\n\t\tvar bone = this.bones[ i ];\r\n\r\n\t\tif ( bone.parent instanceof THREE.Bone ) {\r\n\r\n\t\t\tboneMatrix.multiplyMatrices( matrixWorldInv, bone.matrixWorld );\r\n\t\t\tgeometry.vertices[ j ].setFromMatrixPosition( boneMatrix );\r\n\r\n\t\t\tboneMatrix.multiplyMatrices( matrixWorldInv, bone.parent.matrixWorld );\r\n\t\t\tgeometry.vertices[ j + 1 ].setFromMatrixPosition( boneMatrix );\r\n\r\n\t\t\tj += 2;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tgeometry.verticesNeedUpdate = true;\r\n\r\n\tgeometry.computeBoundingSphere();\r\n\r\n};\r\n\r\n// File:src/extras/helpers/SpotLightHelper.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author WestLangley / http://github.com/WestLangley\r\n*/\r\n\r\nTHREE.SpotLightHelper = function ( light ) {\r\n\r\n\tTHREE.Object3D.call( this );\r\n\r\n\tthis.light = light;\r\n\tthis.light.updateMatrixWorld();\r\n\r\n\tthis.matrix = light.matrixWorld;\r\n\tthis.matrixAutoUpdate = false;\r\n\r\n\tvar geometry = new THREE.BufferGeometry();\r\n\r\n\tvar positions = [\r\n\t\t0, 0, 0,   0,   0,   1,\r\n\t\t0, 0, 0,   1,   0,   1,\r\n\t\t0, 0, 0, - 1,   0,   1,\r\n\t\t0, 0, 0,   0,   1,   1,\r\n\t\t0, 0, 0,   0, - 1,   1\r\n\t];\r\n\r\n\tfor ( var i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\r\n\r\n\t\tvar p1 = ( i / l ) * Math.PI * 2;\r\n\t\tvar p2 = ( j / l ) * Math.PI * 2;\r\n\r\n\t\tpositions.push(\r\n\t\t\tMath.cos( p1 ), Math.sin( p1 ), 1,\r\n\t\t\tMath.cos( p2 ), Math.sin( p2 ), 1\r\n\t\t);\r\n\r\n\t}\r\n\r\n\tgeometry.addAttribute( 'position', new THREE.Float32Attribute( positions, 3 ) );\r\n\r\n\tvar material = new THREE.LineBasicMaterial( { fog: false } );\r\n\r\n\tthis.cone = new THREE.LineSegments( geometry, material );\r\n\tthis.add( this.cone );\r\n\r\n\tthis.update();\r\n\r\n};\r\n\r\nTHREE.SpotLightHelper.prototype = Object.create( THREE.Object3D.prototype );\r\nTHREE.SpotLightHelper.prototype.constructor = THREE.SpotLightHelper;\r\n\r\nTHREE.SpotLightHelper.prototype.dispose = function () {\r\n\r\n\tthis.cone.geometry.dispose();\r\n\tthis.cone.material.dispose();\r\n\r\n};\r\n\r\nTHREE.SpotLightHelper.prototype.update = function () {\r\n\r\n\tvar vector = new THREE.Vector3();\r\n\tvar vector2 = new THREE.Vector3();\r\n\r\n\treturn function () {\r\n\r\n\t\tvar coneLength = this.light.distance ? this.light.distance : 1000;\r\n\t\tvar coneWidth = coneLength * Math.tan( this.light.angle );\r\n\r\n\t\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\r\n\r\n\t\tvector.setFromMatrixPosition( this.light.matrixWorld );\r\n\t\tvector2.setFromMatrixPosition( this.light.target.matrixWorld );\r\n\r\n\t\tthis.cone.lookAt( vector2.sub( vector ) );\r\n\r\n\t\tthis.cone.material.color.copy( this.light.color ).multiplyScalar( this.light.intensity );\r\n\r\n\t};\r\n\r\n}();\r\n\r\n// File:src/extras/helpers/VertexNormalsHelper.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author WestLangley / http://github.com/WestLangley\r\n*/\r\n\r\nTHREE.VertexNormalsHelper = function ( object, size, hex, linewidth ) {\r\n\r\n\tthis.object = object;\r\n\r\n\tthis.size = ( size !== undefined ) ? size : 1;\r\n\r\n\tvar color = ( hex !== undefined ) ? hex : 0xff0000;\r\n\r\n\tvar width = ( linewidth !== undefined ) ? linewidth : 1;\r\n\r\n\t//\r\n\r\n\tvar nNormals = 0;\r\n\r\n\tvar objGeometry = this.object.geometry;\r\n\r\n\tif ( objGeometry instanceof THREE.Geometry ) {\r\n\r\n\t\tnNormals = objGeometry.faces.length * 3;\r\n\r\n\t} else if ( objGeometry instanceof THREE.BufferGeometry ) {\r\n\r\n\t\tnNormals = objGeometry.attributes.normal.count;\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tvar geometry = new THREE.BufferGeometry();\r\n\r\n\tvar positions = new THREE.Float32Attribute( nNormals * 2 * 3, 3 );\r\n\r\n\tgeometry.addAttribute( 'position', positions );\r\n\r\n\tTHREE.LineSegments.call( this, geometry, new THREE.LineBasicMaterial( { color: color, linewidth: width } ) );\r\n\r\n\t//\r\n\r\n\tthis.matrixAutoUpdate = false;\r\n\r\n\tthis.update();\r\n\r\n};\r\n\r\nTHREE.VertexNormalsHelper.prototype = Object.create( THREE.LineSegments.prototype );\r\nTHREE.VertexNormalsHelper.prototype.constructor = THREE.VertexNormalsHelper;\r\n\r\nTHREE.VertexNormalsHelper.prototype.update = ( function () {\r\n\r\n\tvar v1 = new THREE.Vector3();\r\n\tvar v2 = new THREE.Vector3();\r\n\tvar normalMatrix = new THREE.Matrix3();\r\n\r\n\treturn function update() {\r\n\r\n\t\tvar keys = [ 'a', 'b', 'c' ];\r\n\r\n\t\tthis.object.updateMatrixWorld( true );\r\n\r\n\t\tnormalMatrix.getNormalMatrix( this.object.matrixWorld );\r\n\r\n\t\tvar matrixWorld = this.object.matrixWorld;\r\n\r\n\t\tvar position = this.geometry.attributes.position;\r\n\r\n\t\t//\r\n\r\n\t\tvar objGeometry = this.object.geometry;\r\n\r\n\t\tif ( objGeometry instanceof THREE.Geometry ) {\r\n\r\n\t\t\tvar vertices = objGeometry.vertices;\r\n\r\n\t\t\tvar faces = objGeometry.faces;\r\n\r\n\t\t\tvar idx = 0;\r\n\r\n\t\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar face = faces[ i ];\r\n\r\n\t\t\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\tvar vertex = vertices[ face[ keys[ j ] ] ];\r\n\r\n\t\t\t\t\tvar normal = face.vertexNormals[ j ];\r\n\r\n\t\t\t\t\tv1.copy( vertex ).applyMatrix4( matrixWorld );\r\n\r\n\t\t\t\t\tv2.copy( normal ).applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\r\n\r\n\t\t\t\t\tposition.setXYZ( idx, v1.x, v1.y, v1.z );\r\n\r\n\t\t\t\t\tidx = idx + 1;\r\n\r\n\t\t\t\t\tposition.setXYZ( idx, v2.x, v2.y, v2.z );\r\n\r\n\t\t\t\t\tidx = idx + 1;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( objGeometry instanceof THREE.BufferGeometry ) {\r\n\r\n\t\t\tvar objPos = objGeometry.attributes.position;\r\n\r\n\t\t\tvar objNorm = objGeometry.attributes.normal;\r\n\r\n\t\t\tvar idx = 0;\r\n\r\n\t\t\t// for simplicity, ignore index and drawcalls, and render every normal\r\n\r\n\t\t\tfor ( var j = 0, jl = objPos.count; j < jl; j ++ ) {\r\n\r\n\t\t\t\tv1.set( objPos.getX( j ), objPos.getY( j ), objPos.getZ( j ) ).applyMatrix4( matrixWorld );\r\n\r\n\t\t\t\tv2.set( objNorm.getX( j ), objNorm.getY( j ), objNorm.getZ( j ) );\r\n\r\n\t\t\t\tv2.applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\r\n\r\n\t\t\t\tposition.setXYZ( idx, v1.x, v1.y, v1.z );\r\n\r\n\t\t\t\tidx = idx + 1;\r\n\r\n\t\t\t\tposition.setXYZ( idx, v2.x, v2.y, v2.z );\r\n\r\n\t\t\t\tidx = idx + 1;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tposition.needsUpdate = true;\r\n\r\n\t\treturn this;\r\n\r\n\t};\r\n\r\n}() );\r\n\r\n// File:src/extras/helpers/WireframeHelper.js\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.WireframeHelper = function ( object, hex ) {\r\n\r\n\tvar color = ( hex !== undefined ) ? hex : 0xffffff;\r\n\r\n\tTHREE.LineSegments.call( this, new THREE.WireframeGeometry( object.geometry ), new THREE.LineBasicMaterial( { color: color } ) );\r\n\r\n\tthis.matrix = object.matrixWorld;\r\n\tthis.matrixAutoUpdate = false;\r\n\r\n};\r\n\r\nTHREE.WireframeHelper.prototype = Object.create( THREE.LineSegments.prototype );\r\nTHREE.WireframeHelper.prototype.constructor = THREE.WireframeHelper;\r\n\r\n// File:src/extras/objects/ImmediateRenderObject.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.ImmediateRenderObject = function ( material ) {\r\n\r\n\tTHREE.Object3D.call( this );\r\n\r\n\tthis.material = material;\r\n\tthis.render = function ( renderCallback ) {};\r\n\r\n};\r\n\r\nTHREE.ImmediateRenderObject.prototype = Object.create( THREE.Object3D.prototype );\r\nTHREE.ImmediateRenderObject.prototype.constructor = THREE.ImmediateRenderObject;\r\n\r\n// File:src/extras/objects/MorphBlendMesh.js\r\n\r\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.MorphBlendMesh = function( geometry, material ) {\r\n\r\n\tTHREE.Mesh.call( this, geometry, material );\r\n\r\n\tthis.animationsMap = {};\r\n\tthis.animationsList = [];\r\n\r\n\t// prepare default animation\r\n\t// (all frames played together in 1 second)\r\n\r\n\tvar numFrames = this.geometry.morphTargets.length;\r\n\r\n\tvar name = \"__default\";\r\n\r\n\tvar startFrame = 0;\r\n\tvar endFrame = numFrames - 1;\r\n\r\n\tvar fps = numFrames / 1;\r\n\r\n\tthis.createAnimation( name, startFrame, endFrame, fps );\r\n\tthis.setAnimationWeight( name, 1 );\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype = Object.create( THREE.Mesh.prototype );\r\nTHREE.MorphBlendMesh.prototype.constructor = THREE.MorphBlendMesh;\r\n\r\nTHREE.MorphBlendMesh.prototype.createAnimation = function ( name, start, end, fps ) {\r\n\r\n\tvar animation = {\r\n\r\n\t\tstart: start,\r\n\t\tend: end,\r\n\r\n\t\tlength: end - start + 1,\r\n\r\n\t\tfps: fps,\r\n\t\tduration: ( end - start ) / fps,\r\n\r\n\t\tlastFrame: 0,\r\n\t\tcurrentFrame: 0,\r\n\r\n\t\tactive: false,\r\n\r\n\t\ttime: 0,\r\n\t\tdirection: 1,\r\n\t\tweight: 1,\r\n\r\n\t\tdirectionBackwards: false,\r\n\t\tmirroredLoop: false\r\n\r\n\t};\r\n\r\n\tthis.animationsMap[ name ] = animation;\r\n\tthis.animationsList.push( animation );\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.autoCreateAnimations = function ( fps ) {\r\n\r\n\tvar pattern = /([a-z]+)_?(\\d+)/i;\r\n\r\n\tvar firstAnimation, frameRanges = {};\r\n\r\n\tvar geometry = this.geometry;\r\n\r\n\tfor ( var i = 0, il = geometry.morphTargets.length; i < il; i ++ ) {\r\n\r\n\t\tvar morph = geometry.morphTargets[ i ];\r\n\t\tvar chunks = morph.name.match( pattern );\r\n\r\n\t\tif ( chunks && chunks.length > 1 ) {\r\n\r\n\t\t\tvar name = chunks[ 1 ];\r\n\r\n\t\t\tif ( ! frameRanges[ name ] ) frameRanges[ name ] = { start: Infinity, end: - Infinity };\r\n\r\n\t\t\tvar range = frameRanges[ name ];\r\n\r\n\t\t\tif ( i < range.start ) range.start = i;\r\n\t\t\tif ( i > range.end ) range.end = i;\r\n\r\n\t\t\tif ( ! firstAnimation ) firstAnimation = name;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfor ( var name in frameRanges ) {\r\n\r\n\t\tvar range = frameRanges[ name ];\r\n\t\tthis.createAnimation( name, range.start, range.end, fps );\r\n\r\n\t}\r\n\r\n\tthis.firstAnimation = firstAnimation;\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.setAnimationDirectionForward = function ( name ) {\r\n\r\n\tvar animation = this.animationsMap[ name ];\r\n\r\n\tif ( animation ) {\r\n\r\n\t\tanimation.direction = 1;\r\n\t\tanimation.directionBackwards = false;\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.setAnimationDirectionBackward = function ( name ) {\r\n\r\n\tvar animation = this.animationsMap[ name ];\r\n\r\n\tif ( animation ) {\r\n\r\n\t\tanimation.direction = - 1;\r\n\t\tanimation.directionBackwards = true;\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.setAnimationFPS = function ( name, fps ) {\r\n\r\n\tvar animation = this.animationsMap[ name ];\r\n\r\n\tif ( animation ) {\r\n\r\n\t\tanimation.fps = fps;\r\n\t\tanimation.duration = ( animation.end - animation.start ) / animation.fps;\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.setAnimationDuration = function ( name, duration ) {\r\n\r\n\tvar animation = this.animationsMap[ name ];\r\n\r\n\tif ( animation ) {\r\n\r\n\t\tanimation.duration = duration;\r\n\t\tanimation.fps = ( animation.end - animation.start ) / animation.duration;\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.setAnimationWeight = function ( name, weight ) {\r\n\r\n\tvar animation = this.animationsMap[ name ];\r\n\r\n\tif ( animation ) {\r\n\r\n\t\tanimation.weight = weight;\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.setAnimationTime = function ( name, time ) {\r\n\r\n\tvar animation = this.animationsMap[ name ];\r\n\r\n\tif ( animation ) {\r\n\r\n\t\tanimation.time = time;\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.getAnimationTime = function ( name ) {\r\n\r\n\tvar time = 0;\r\n\r\n\tvar animation = this.animationsMap[ name ];\r\n\r\n\tif ( animation ) {\r\n\r\n\t\ttime = animation.time;\r\n\r\n\t}\r\n\r\n\treturn time;\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.getAnimationDuration = function ( name ) {\r\n\r\n\tvar duration = - 1;\r\n\r\n\tvar animation = this.animationsMap[ name ];\r\n\r\n\tif ( animation ) {\r\n\r\n\t\tduration = animation.duration;\r\n\r\n\t}\r\n\r\n\treturn duration;\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.playAnimation = function ( name ) {\r\n\r\n\tvar animation = this.animationsMap[ name ];\r\n\r\n\tif ( animation ) {\r\n\r\n\t\tanimation.time = 0;\r\n\t\tanimation.active = true;\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.MorphBlendMesh: animation[\" + name + \"] undefined in .playAnimation()\" );\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.stopAnimation = function ( name ) {\r\n\r\n\tvar animation = this.animationsMap[ name ];\r\n\r\n\tif ( animation ) {\r\n\r\n\t\tanimation.active = false;\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.update = function ( delta ) {\r\n\r\n\tfor ( var i = 0, il = this.animationsList.length; i < il; i ++ ) {\r\n\r\n\t\tvar animation = this.animationsList[ i ];\r\n\r\n\t\tif ( ! animation.active ) continue;\r\n\r\n\t\tvar frameTime = animation.duration / animation.length;\r\n\r\n\t\tanimation.time += animation.direction * delta;\r\n\r\n\t\tif ( animation.mirroredLoop ) {\r\n\r\n\t\t\tif ( animation.time > animation.duration || animation.time < 0 ) {\r\n\r\n\t\t\t\tanimation.direction *= - 1;\r\n\r\n\t\t\t\tif ( animation.time > animation.duration ) {\r\n\r\n\t\t\t\t\tanimation.time = animation.duration;\r\n\t\t\t\t\tanimation.directionBackwards = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( animation.time < 0 ) {\r\n\r\n\t\t\t\t\tanimation.time = 0;\r\n\t\t\t\t\tanimation.directionBackwards = false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tanimation.time = animation.time % animation.duration;\r\n\r\n\t\t\tif ( animation.time < 0 ) animation.time += animation.duration;\r\n\r\n\t\t}\r\n\r\n\t\tvar keyframe = animation.start + THREE.Math.clamp( Math.floor( animation.time / frameTime ), 0, animation.length - 1 );\r\n\t\tvar weight = animation.weight;\r\n\r\n\t\tif ( keyframe !== animation.currentFrame ) {\r\n\r\n\t\t\tthis.morphTargetInfluences[ animation.lastFrame ] = 0;\r\n\t\t\tthis.morphTargetInfluences[ animation.currentFrame ] = 1 * weight;\r\n\r\n\t\t\tthis.morphTargetInfluences[ keyframe ] = 0;\r\n\r\n\t\t\tanimation.lastFrame = animation.currentFrame;\r\n\t\t\tanimation.currentFrame = keyframe;\r\n\r\n\t\t}\r\n\r\n\t\tvar mix = ( animation.time % frameTime ) / frameTime;\r\n\r\n\t\tif ( animation.directionBackwards ) mix = 1 - mix;\r\n\r\n\t\tif ( animation.currentFrame !== animation.lastFrame ) {\r\n\r\n\t\t\tthis.morphTargetInfluences[ animation.currentFrame ] = mix * weight;\r\n\t\t\tthis.morphTargetInfluences[ animation.lastFrame ] = ( 1 - mix ) * weight;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.morphTargetInfluences[ animation.currentFrame ] = weight;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\n\r\n// Export the THREE object for **Node.js**, with\r\n// backwards-compatibility for the old `require()` API. If we're in\r\n// the browser, add `_` as a global object via a string identifier,\r\n// for Closure Compiler \"advanced\" mode.\r\nif (typeof exports !== 'undefined') {\r\n  if (typeof module !== 'undefined' && module.exports) {\r\n    exports = module.exports = THREE;\r\n  }\r\n  exports.THREE = THREE;\r\n} else {\r\n  this['THREE'] = THREE;\r\n}\r\n\n};"],
"names":["shadow$provide","global","require","module","exports","THREE","REVISION","define","amd","undefined","Number","EPSILON","Math","pow","sign","Math.sign","x","Function","prototype","name","Object","defineProperty","get","toString","match","assign","Object.assign","target","TypeError","output","index","arguments","length","source","nextKey","hasOwnProperty","call","MOUSE","LEFT","MIDDLE","RIGHT","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","FrontFaceDirectionCW","FrontFaceDirectionCCW","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoColors","FaceColors","VertexColors","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","Uncharted2ToneMapping","CineonToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","SphericalReflectionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipMapNearestFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipMapNearestFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","Color","THREE.Color","r","g","b","set","setRGB","constructor","value","copy","setHex","setStyle","setScalar","scalar","hex","floor","setHSL","hue2rgb","p","q","t","h","s","l","euclideanModulo","clamp","style","handleAlpha","string","parseFloat","console","warn","m","exec","components","color","min","parseInt","size","charAt","ColorKeywords","clone","copyGammaToLinear","gammaFactor","copyLinearToGamma","safeInverse","convertGammaToLinear","convertLinearToGamma","sqrt","getHex","getHexString","slice","getHSL","optionalTarget","hsl","max","hue","lightness","saturation","delta","getStyle","offsetHSL","add","addColors","color1","color2","addScalar","multiply","multiplyScalar","lerp","alpha","equals","c","fromArray","array","offset","toArray","Quaternion","THREE.Quaternion","y","z","w","_x","_y","_z","_w","onChangeCallback","quaternion","setFromEuler","euler","update","Euler","Error","c1","cos","c2","c3","s1","sin","s2","s3","order","setFromAxisAngle","axis","angle","halfAngle","setFromRotationMatrix","te","elements","m11","m12","m13","m21","m22","m23","m31","m32","m33","trace","setFromUnitVectors","v1","vFrom","vTo","Vector3","dot","EPS","abs","crossVectors","normalize","inverse","conjugate","v","lengthSq","multiplyQuaternions","premultiply","a","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","slerp","qb","cosHalfTheta","sinHalfTheta","halfTheta","atan2","ratioA","ratioB","onChange","callback","qa","qm","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","len","tDir","f","Vector2","THREE.Vector2","width","height","setX","setY","setComponent","getComponent","addVectors","addScaledVector","sub","subVectors","subScalar","isFinite","divide","divideScalar","clampScalar","minVal","maxVal","clampLength","ceil","round","roundToZero","negate","lengthManhattan","PI","distanceTo","distanceToSquared","dx","dy","setLength","lerpVectors","v2","fromAttribute","attribute","itemSize","rotateAround","center","THREE.Vector3","setZ","multiplyVectors","applyEuler","error","applyQuaternion","applyAxisAngle","applyMatrix3","e","applyMatrix4","applyProjection","d","qx","qy","qz","qw","ix","iy","iz","iw","project","matrix","camera","Matrix4","multiplyMatrices","projectionMatrix","getInverse","matrixWorld","unproject","transformDirection","cross","ax","ay","az","bx","by","bz","projectOnVector","vector","projectOnPlane","planeNormal","reflect","normal","angleTo","theta","acos","dz","setFromSpherical","sinPhiRadius","phi","radius","setFromMatrixPosition","setFromMatrixColumn","setFromMatrixScale","sx","sy","sz","temp","Vector4","THREE.Vector4","setW","setAxisAngleFromQuaternion","setAxisAngleFromRotationMatrix","epsilon","epsilon2","xx","yy","zz","xy","xz","yz","THREE.Euler","_order","DefaultOrder","RotationOrders","asin","setFromQuaternion","makeRotationFromQuaternion","setFromVector3","reorder","newOrder","toVector3","optionalResult","Line3","THREE.Line3","start","end","line","distanceSq","distance","at","result","closestPointToPointParameter","startP","startEnd","point","clampToLine","startEnd2","startEnd_startP","closestPointToPoint","Box2","THREE.Box2","Infinity","setFromPoints","points","makeEmpty","i","il","expandByPoint","setFromCenterAndSize","halfSize","box","isEmpty","expandByVector","expandByScalar","containsPoint","containsBox","getParameter","intersectsBox","clampPoint","distanceToPoint","clampedPoint","intersect","union","translate","Box3","THREE.Box3","setFromArray","minX","minY","minZ","maxX","maxY","maxZ","setFromObject","object","scope","updateMatrixWorld","traverse","node","geometry","Geometry","vertices","BufferGeometry","attributes","positions","intersectsSphere","closestPoint","sphere","intersectsPlane","plane","constant","getBoundingSphere","Sphere","Matrix3","THREE.Matrix3","Float32Array","n11","n12","n13","n21","n22","n23","n31","n32","n33","identity","me","setFromMatrix4","applyToVector3Array","j","applyToBuffer","buffer","getX","getY","getZ","setXYZ","determinant","throwOnDegenerate","t11","t12","t13","det","msg","detInv","transpose","tmp","flattenToArrayOffset","getNormalMatrix","matrix4","transposeIntoArray","THREE.Matrix4","n14","n24","n34","n41","n42","n43","n44","copyPosition","extractBasis","xAxis","yAxis","zAxis","makeBasis","extractRotation","scaleX","scaleY","scaleZ","makeRotationFromEuler","ae","af","be","bf","ce","cf","de","df","ac","ad","bc","bd","x2","y2","z2","wx","wy","wz","lookAt","eye","up","n","a11","a12","a13","a14","a21","a22","a23","a24","a31","a32","a33","a34","a41","a42","a43","a44","b11","b12","b13","b14","b21","b22","b23","b24","b31","b32","b33","b34","b41","b42","b43","b44","multiplyToArray","getPosition","setPosition","t14","scale","getMaxScaleOnAxis","makeTranslation","makeRotationX","makeRotationY","makeRotationZ","makeRotationAxis","tx","ty","makeScale","compose","position","decompose","invSX","invSY","invSZ","makeFrustum","left","right","bottom","top","near","far","makePerspective","fov","aspect","ymax","tan","DEG2RAD","ymin","makeOrthographic","Ray","THREE.Ray","origin","direction","ray","recast","directionDistance","distanceSqToPoint","distanceSqToSegment","segCenter","segDir","diff","v0","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","b1","s0","extDet","invDet","sqrDist","intersectSphere","tca","d2","radius2","thc","t0","t1","distanceToPlane","denominator","intersectPlane","distToPoint","intersectBox","invdirx","invdiry","invdirz","tmin","tmax","tymin","tymax","tzmin","tzmax","intersectTriangle","edge1","edge2","backfaceCulling","DdN","DdQxE2","DdE1xQ","QdN","THREE.Sphere","optionalCenter","maxRadiusSq","empty","radiusSum","deltaLengthSq","getBoundingBox","Frustum","THREE.Frustum","p0","p1","p2","p3","p4","p5","planes","Plane","frustum","setFromMatrix","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","setComponents","intersectsObject","boundingSphere","computeBoundingSphere","intersectsSprite","sprite","negRadius","d1","THREE.Plane","setFromNormalAndCoplanarPoint","setFromCoplanarPoints","inverseNormalLength","distanceToSphere","projectPoint","orthoPoint","perpendicularMagnitude","intersectLine","intersectsLine","startSign","endSign","coplanarPoint","m1","optionalNormalMatrix","referencePoint","normalMatrix","Spherical","THREE.Spherical","other","makeSafe","vec3","RAD2DEG","generateUUID","chars","uuid","Array","rnd","random","join","mapLinear","a1","a2","b2","smoothstep","smootherstep","random16","randInt","low","high","randFloat","randFloatSpread","range","degToRad","degrees","radToDeg","radians","isPowerOfTwo","nearestPowerOfTwo","log","LN2","nextPowerOfTwo","Spline","THREE.Spline","interpolate","t2","t3","v3","intPoint","weight","w2","w3","pa","pb","pc","pd","initFromArray","this.initFromArray","getPoint","this.getPoint","k","getControlPointsArray","this.getControlPointsArray","coords","getLength","this.getLength","nSubDivisions","oldIntPoint","oldPosition","tmpVec","chunkLengths","totalLength","nSamples","chunks","total","reparametrizeByArcLength","this.reparametrizeByArcLength","samplingCoef","newpoints","sl","push","realDistance","sampling","indexCurrent","indexNext","Triangle","THREE.Triangle","resultLengthSq","barycoordFromPoint","dot00","dot01","dot02","dot11","dot12","denom","invDenom","u","setFromPointsAndIndices","i0","i1","i2","triangle","area","midpoint","edgeList","projectedPoint","minDistance","Interpolant","THREE.Interpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","_cachedIndex","valueSize","evaluate","pp","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","settings","DefaultSettings_","getSettings_","copySampleValue_","values","stride","CubicInterpolant","THREE.CubicInterpolant","_offsetNext","_weightNext","_offsetPrev","_weightPrev","create","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","halfDt","o1","o0","oP","oN","wP","wN","ppp","sP","sN","DiscreteInterpolant","THREE.DiscreteInterpolant","LinearInterpolant","THREE.LinearInterpolant","offset1","offset0","weight1","weight0","QuaternionLinearInterpolant","THREE.QuaternionLinearInterpolant","Clock","THREE.Clock","autoStart","elapsedTime","oldTime","startTime","running","now","performance","Date","stop","getElapsedTime","getDelta","newTime","EventDispatcher","THREE.EventDispatcher","addEventListener","type","listener","_listeners","listeners","indexOf","hasEventListener","removeEventListener","listenerArray","splice","dispatchEvent","event","Layers","THREE.Layers","mask","channel","enable","toggle","disable","test","layers","ascSort","intersectObject","raycaster","intersects","recursive","visible","raycast","children","Raycaster","THREE.Raycaster","params","Mesh","Line","LOD","Points","threshold","Sprite","defineProperties","PointCloud","linePrecision","setFromCamera","PerspectiveCamera","OrthographicCamera","sort","intersectObjects","objects","isArray","Object3D","THREE.Object3D","Object3DIdCount","parent","DefaultUp","rotation","onRotationChange","onQuaternionChange","enumerable","modelViewMatrix","matrixAutoUpdate","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","receiveShadow","castShadow","frustumCulled","renderOrder","userData","applyMatrix","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","q1","rotateX","rotateY","rotateZ","translateOnAxis","translateX","translateY","translateZ","localToWorld","worldToLocal","remove","getObjectById","id","getObjectByProperty","getObjectByName","child","getWorldPosition","getWorldQuaternion","getWorldRotation","getWorldScale","getWorldDirection","traverseVisible","traverseAncestors","updateMatrix","force","toJSON","meta","extractFromCache","cache","key","data","metadata","isRootObject","geometries","materials","textures","images","version","generator","JSON","stringify","material","parse","Face3","THREE.Face3","materialIndex","vertexNormals","vertexColors","BufferAttribute","THREE.BufferAttribute","normalized","dynamic","updateRange","count","needsUpdate","setDynamic","copyAt","index1","index2","copyArray","copyColorsArray","colors","copyIndicesArray","indices","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","getW","setXY","setXYZW","Int8Attribute","THREE.Int8Attribute","Int8Array","Uint8Attribute","THREE.Uint8Attribute","Uint8Array","Uint8ClampedAttribute","THREE.Uint8ClampedAttribute","Uint8ClampedArray","Int16Attribute","THREE.Int16Attribute","Int16Array","Uint16Attribute","THREE.Uint16Attribute","Uint16Array","Int32Attribute","THREE.Int32Attribute","Int32Array","Uint32Attribute","THREE.Uint32Attribute","Uint32Array","Float32Attribute","THREE.Float32Attribute","Float64Attribute","THREE.Float64Attribute","Float64Array","DynamicBufferAttribute","THREE.DynamicBufferAttribute","InstancedBufferAttribute","THREE.InstancedBufferAttribute","meshPerAttribute","THREE.InstancedBufferAttribute.prototype.copy","InterleavedBuffer","THREE.InterleavedBuffer","InstancedInterleavedBuffer","THREE.InstancedInterleavedBuffer","THREE.InstancedInterleavedBuffer.prototype.copy","InterleavedBufferAttribute","THREE.InterleavedBufferAttribute","interleavedBuffer","THREE.Geometry","GeometryIdCount","faces","faceVertexUvs","morphTargets","morphNormals","skinWeights","skinIndices","lineDistances","boundingBox","groupsNeedUpdate","lineDistancesNeedUpdate","colorsNeedUpdate","normalsNeedUpdate","uvsNeedUpdate","elementsNeedUpdate","verticesNeedUpdate","vertex","face","jl","computeBoundingBox","obj","fromBufferGeometry","addFace","normals","tempNormals","uvs","tempUVs","uvs2","tempUVs2","uv","uv2","groups","group","computeFaceNormals","cb","ab","fl","vA","vB","vC","computeVertexNormals","areaWeighted","vl","computeMorphNormals","__originalFaceNormal","__originalVertexNormals","tmpGeo","faceNormals","dstNormalsFace","dstNormalsVertex","faceNormal","computeTangents","computeLineDistances","merge","materialIndexOffset","vertexOffset","vertices1","vertices2","faces1","faces2","uvs1","vertexCopy","faceVertexNormals","faceVertexColors","faceCopy","uvCopy","mergeMesh","mesh","mergeVertices","verticesMap","unique","changes","precision","precisionPoints","faceIndicesToRemove","idx","sortFacesByMaterialIndex","_id","materialIndexSort","newUvs1","newUvs2","setBit","enabled","getNormalIndex","hash","normalsHash","getColorIndex","colorsHash","getUvIndex","uvsHash","parameters","hasFaceVertexUv","hasFaceNormal","hasFaceVertexNormal","hasFaceColor","hasFaceVertexColor","faceType","hasMaterial","hasFaceUv","uvsCopy","kl","dispose","DirectGeometry","THREE.DirectGeometry","computeGroups","fromGeometry","hasFaceVertexUv2","morphTargetsLength","morphTargetsPosition","morphNormalsLength","morphTargetsNormal","hasSkinIndices","hasSkinWeights","vertexUvs","morphTarget","morphNormal","THREE.BufferGeometry","morphAttributes","drawRange","getIndex","setIndex","addAttribute","getAttribute","removeAttribute","addGroup","clearGroups","setDrawRange","updateFromObject","direct","__directGeometry","lineDistance","fromDirectGeometry","TypeArray","isNaN","pA","pB","pC","normalizeNormals","attributeArray1","attribute1","attribute2","attributeArray2","toNonIndexed","geometry2","array2","MaxIndex","InstancedBufferGeometry","THREE.InstancedBufferGeometry","maxInstancedCount","THREE.InstancedBufferGeometry.prototype.addGroup","instances","THREE.InstancedBufferGeometry.prototype.copy","Uniform","THREE.Uniform","onUpdate","onUpdateCallback","AnimationAction","THREE.AnimationAction","_new","THREE.AnimationAction._new","mixer","clip","localRoot","_mixer","_clip","_localRoot","tracks","nTracks","interpolants","interpolantSettings","interpolant","createInterpolant","_interpolantSettings","_interpolants","_propertyBindings","_weightInterpolant","_timeScaleInterpolant","_byClipCacheIndex","_cacheIndex","loop","_loopCount","_startTime","time","_effectiveWeight","_effectiveTimeScale","timeScale","repetitions","paused","clampWhenFinished","zeroSlopeAtEnd","zeroSlopeAtStart","play","_activateAction","_deactivateAction","reset","stopFading","stopWarping","isRunning","_isActiveAction","isScheduled","startAt","setLoop","mode","setEffectiveWeight","getEffectiveWeight","fadeIn","duration","_scheduleFading","fadeOut","crossFadeFrom","fadeOutAction","warp","fadeInDuration","fadeOutDuration","endStartRatio","crossFadeTo","fadeInAction","weightInterpolant","_takeBackControlInterpolant","setEffectiveTimeScale","getEffectiveTimeScale","setDuration","syncWith","action","halt","startTimeScale","endTimeScale","_lendControlInterpolant","times","timeScaleInterpolant","getMixer","getClip","getRoot","_root","_update","deltaTime","timeDirection","accuIndex","timeRunning","_updateTimeScale","clipTime","_updateTime","_updateWeight","propertyMixers","accumulate","interpolantValue","loopCount","_setEndings","pingPong","loopDelta","pending","atStart","atEnd","weightNow","weightThen","AnimationClip","THREE.AnimationClip","resetDuration","trim","optimize","track","json","jsonTracks","frameTime","fps","KeyframeTrack","clipTracks","CreateFromMorphTargetSequence","morphTargetSequence","noLoop","numMorphTargets","AnimationUtils","getKeyframeOrder","sortedArray","NumberKeyframeTrack","findByName","objectOrClipArray","clipArray","animations","CreateClipsFromMorphTargetSequences","animationToMorphTargets","pattern","parts","animationMorphTargets","clips","parseAnimation","animation","bones","nodeName","addNonemptyTrack","trackType","trackName","animationKeys","propertyName","destTracks","flattenJSON","clipName","hierarchyTracks","hierarchy","keys","morphTargetNames","morphTargetName","animationKey","boneName","VectorKeyframeTrack","QuaternionKeyframeTrack","AnimationMixer","THREE.AnimationMixer","root","_initMemoryManager","_accuIndex","clipAction","optionalRoot","rootUuid","clipObject","clipUuid","actionsForClip","_actionsByClip","prototypeAction","existingAction","actionByRoot","knownActions","newAction","_Action","_bindAction","_addInactiveAction","stopAllAction","actions","_actions","nActions","_nActiveActions","bindings","_bindings","nBindings","_nActiveBindings","useCount","apply","uncacheClip","actionsByClip","actionsToRemove","cacheIndex","lastInactiveAction","pop","_removeInactiveBindingsForAction","uncacheRoot","_removeInactiveAction","bindingByName","_bindingsByRootAndName","binding","restoreOriginalState","_removeInactiveBinding","uncacheAction","bindingsByRoot","bindingsByName","referenceCount","_addInactiveBinding","PropertyMixer","PropertyBinding","parsedPath","ValueTypeName","getValueSize","_lendBinding","saveOriginalState","_lendAction","_takeBackBinding","_takeBackAction","_controlInterpolants","_nActiveControlInterpolants","stats","inUse","controlInterpolants","knownActionsForClip","lastKnownAction","byClipCacheIndex","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","propBinding","rootNode","path","lastInactiveBinding","_","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","AnimationObjectGroup","THREE.AnimationObjectGroup","var_args","_objects","nCachedObjects_","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","bindingsPerObject","nObjects","nCachedObjects","indicesByUUID","paths","parsedPaths","knownObject","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","uncache","lastIndex","lastObject","last","subscribe_","indicesByPath","unsubscribe_","lastBindingsIndex","lastBindings","lastBindingsPath","arraySlice","from","to","isTypedArray","subarray","convertArray","forceClone","BYTES_PER_ELEMENT","ArrayBuffer","isView","DataView","compareTime","nValues","srcOffset","jsonKeys","valuePropertyName","THREE.KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","validate","InterpolantFactoryMethodDiscrete","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","factoryMethod","message","getInterpolation","shift","timeOffset","endTime","nKeys","valid","prevTime","currTime","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","_getTrackTypeForValueTypeName","typeName","toLowerCase","ColorKeyframeTrack","BooleanKeyframeTrack","StringKeyframeTrack","THREE.PropertyBinding","parseTrackName","findNode","getValue","getValue_unbound","targetArray","bind","setValue","sourceArray","targetObject","objectName","propertyIndex","_getValue_unavailable","_setValue_unavailable","objectIndex","skeleton","nodeProperty","versioning","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","bindingType","BindingType","Direct","ArrayElement","resolvedProperty","HasFromToArray","EntireArray","GetterByBindingType","SetterByBindingTypeAndVersioning","unbind","_getValue_unbound","_setValue_unbound","getValue_direct","getValue_array","getValue_arrayElement","getValue_toArray","setValue_direct","setValue_direct_setNeedsUpdate","setValue_direct_setMatrixWorldNeedsUpdate","setValue_array","dest","setValue_array_setNeedsUpdate","setValue_array_setMatrixWorldNeedsUpdate","setValue_arrayElement","setValue_arrayElement_setNeedsUpdate","setValue_arrayElement_setMatrixWorldNeedsUpdate","setValue_fromArray","setValue_fromArray_setNeedsUpdate","setValue_fromArray_setMatrixWorldNeedsUpdate","Composite","THREE.PropertyBinding.Composite","targetGroup","optionalParsedPath","_targetGroup","THREE.PropertyBinding.create","THREE.PropertyBinding.parseTrackName","re","matches","results","THREE.PropertyBinding.findNode","bone","searchSkeleton","searchNodeSubtree","childNode","subTreeNode","THREE.PropertyMixer","bufferType","mixFunction","_slerp","_select","_lerp","_mixBufferRegion","cumulativeWeight","currentWeight","originalValueOffset","THREE.BooleanKeyframeTrack","THREE.ColorKeyframeTrack","THREE.NumberKeyframeTrack","THREE.QuaternionKeyframeTrack","THREE.StringKeyframeTrack","THREE.VectorKeyframeTrack","Audio","THREE.Audio","context","createBufferSource","onended","onEnded","gain","createGain","connect","getInput","autoplay","playbackRate","isPlaying","hasPlaybackControl","sourceType","filters","getOutput","setNodeSource","audioNode","setBuffer","audioBuffer","pause","currentTime","disconnect","getFilters","setFilters","getFilter","setFilter","filter","setPlaybackRate","getPlaybackRate","getLoop","getVolume","setVolume","AudioAnalyser","THREE.AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getFrequencyData","getByteFrequencyData","getAverageFrequency","window","AudioContext","webkitAudioContext","PositionalAudio","THREE.PositionalAudio","panner","createPanner","getRefDistance","refDistance","setRefDistance","getRolloffFactor","rolloffFactor","setRolloffFactor","getDistanceModel","distanceModel","setDistanceModel","getMaxDistance","maxDistance","setMaxDistance","AudioListener","THREE.AudioListener","destination","removeFilter","getMasterVolume","setMasterVolume","orientation","setOrientation","Camera","THREE.Camera","matrixWorldInverse","THREE.Camera.prototype.clone","THREE.Camera.prototype.copy","CubeCamera","THREE.CubeCamera","cubeResolution","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","renderTarget","WebGLRenderTargetCube","options","format","magFilter","minFilter","updateCubeMap","this.updateCubeMap","renderer","scene","generateMipmaps","texture","activeCubeFace","render","setRenderTarget","THREE.OrthographicCamera","zoom","updateProjectionMatrix","cx","cy","THREE.PerspectiveCamera","focus","view","filmGauge","filmOffset","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","getEffectiveFOV","getFilmWidth","setViewOffset","fullWidth","fullHeight","offsetX","offsetY","clearViewOffset","skew","StereoCamera","THREE.StereoCamera","cameraL","cameraR","eyeRight","eyeLeft","eyeSepOnProjection","eyeSep","xmin","xmax","Light","THREE.Light","intensity","groundColor","decay","penumbra","LightShadow","THREE.LightShadow","bias","mapSize","map","AmbientLight","THREE.AmbientLight","DirectionalLight","THREE.DirectionalLight","shadow","DirectionalLightShadow","THREE.DirectionalLightShadow","light","HemisphereLight","THREE.HemisphereLight","skyColor","PointLight","THREE.PointLight","power","SpotLight","THREE.SpotLight","SpotLightShadow","THREE.SpotLightShadow","AudioLoader","THREE.AudioLoader","manager","DefaultLoadingManager","load","url","onLoad","onProgress","onError","loader","XHRLoader","setResponseType","decodeAudioData","Cache","files","file","clear","Loader","THREE.Loader","onLoadStart","this.onLoadStart","onLoadProgress","this.onLoadProgress","onLoadComplete","this.onLoadComplete","crossOrigin","extractUrlBase","split","initMaterials","texturePath","createMaterial","textureLoader","materialLoader","loadTexture","repeat","wrap","anisotropy","fullPath","Handlers","setCrossOrigin","wrapS","wrapT","TextureLoader","MaterialLoader","blending","specular","emissive","shininess","mapDiffuseRepeat","mapDiffuseOffset","mapDiffuseWrap","mapDiffuseAnisotropy","lightMap","mapLightRepeat","mapLightOffset","mapLightWrap","mapLightAnisotropy","aoMap","mapAORepeat","mapAOOffset","mapAOWrap","mapAOAnisotropy","bumpMap","mapBumpRepeat","mapBumpOffset","mapBumpWrap","mapBumpAnisotropy","bumpScale","normalMap","mapNormalRepeat","mapNormalOffset","mapNormalWrap","mapNormalAnisotropy","normalScale","specularMap","mapSpecularRepeat","mapSpecularOffset","mapSpecularWrap","mapSpecularAnisotropy","alphaMap","mapAlphaRepeat","mapAlphaOffset","mapAlphaWrap","mapAlphaAnisotropy","side","opacity","transparent","setTextures","handlers","regex","THREE.XHRLoader","cached","setTimeout","request","XMLHttpRequest","overrideMimeType","open","response","status","itemEnd","itemError","responseType","withCredentials","send","itemStart","setPath","setWithCredentials","FontLoader","THREE.FontLoader","text","substring","font","Font","ImageLoader","THREE.ImageLoader","image","document","createElement","src","JSONLoader","THREE.JSONLoader","statusDomElement","_statusDomElement","setTexturePath","parseModel","zLength","nUvLayers","isQuad","faceA","faceB","fi","uvLayer","uvIndex","normalIndex","colorIndex","parseSkin","influencesPerVertex","parseMorphing","dstVertices","srcVertices","morphColors","parseAnimations","outputAnimations","concat","morphAnimationClips","LoadingManager","THREE.LoadingManager","isLoading","itemsLoaded","itemsTotal","onStart","this.itemStart","this.itemEnd","this.itemError","BufferGeometryLoader","THREE.BufferGeometryLoader","TYPED_ARRAYS","typedArray","drawcalls","offsets","THREE.MaterialLoader","getTexture","roughness","metalness","uniforms","vertexShader","fragmentShader","shading","alphaTest","depthTest","depthWrite","colorWrite","wireframe","wireframeLinewidth","sizeAttenuation","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","emissiveIntensity","envMap","combine","reflectivity","lightMapIntensity","aoMapIntensity","ObjectLoader","THREE.ObjectLoader","lastIndexOf","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","geometryLoader","bufferGeometryLoader","widthSegments","heightSegments","depth","depthSegments","segments","thetaStart","thetaLength","radiusTop","radiusBottom","radialSegments","openEnded","phiStart","phiLength","detail","innerRadius","outerRadius","thetaSegments","phiSegments","tube","tubularSegments","arc","loadImage","parseConstant","Texture","mapping","getGeometry","getMaterial","Scene","SkinnedMesh","Group","levels","level","addLevel","THREE.TextureLoader","CubeTextureLoader","THREE.CubeTextureLoader","urls","loaded","CubeTexture","DataTextureLoader","BinaryTextureLoader","THREE.BinaryTextureLoader","_parser","DataTexture","texData","mipmaps","mipmapCount","CompressedTextureLoader","THREE.CompressedTextureLoader","texDatas","CompressedTexture","isCubemap","Material","THREE.Material","MaterialIdCount","lights","fog","blendSrc","blendDst","blendEquation","blendEquationAlpha","blendDstAlpha","blendSrcAlpha","depthFunc","clippingPlanes","clipShadows","polygonOffset","polygonOffsetUnits","polygonOffsetFactor","premultipliedAlpha","overdraw","_needsUpdate","setValues","newValue","currentValue","isRoot","srcPlanes","dstPlanes","LineBasicMaterial","THREE.LineBasicMaterial","linewidth","linejoin","linecap","THREE.LineBasicMaterial.prototype.copy","LineDashedMaterial","THREE.LineDashedMaterial","dashSize","gapSize","THREE.LineDashedMaterial.prototype.copy","MeshBasicMaterial","THREE.MeshBasicMaterial","refractionRatio","wireframeLinejoin","wireframeLinecap","skinning","THREE.MeshBasicMaterial.prototype.copy","MeshDepthMaterial","THREE.MeshDepthMaterial","depthPacking","THREE.MeshDepthMaterial.prototype.copy","MeshLambertMaterial","THREE.MeshLambertMaterial","THREE.MeshLambertMaterial.prototype.copy","MeshNormalMaterial","THREE.MeshNormalMaterial","THREE.MeshNormalMaterial.prototype.copy","MeshPhongMaterial","THREE.MeshPhongMaterial","THREE.MeshPhongMaterial.prototype.copy","MeshStandardMaterial","THREE.MeshStandardMaterial","defines","envMapIntensity","THREE.MeshStandardMaterial.prototype.copy","MeshPhysicalMaterial","THREE.MeshPhysicalMaterial","THREE.MeshPhysicalMaterial.prototype.copy","MultiMaterial","THREE.MultiMaterial","PointsMaterial","THREE.PointsMaterial","THREE.PointsMaterial.prototype.copy","ShaderMaterial","THREE.ShaderMaterial","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","THREE.ShaderMaterial.prototype.copy","UniformsUtils","THREE.ShaderMaterial.prototype.toJSON","RawShaderMaterial","THREE.RawShaderMaterial","SpriteMaterial","THREE.SpriteMaterial","THREE.SpriteMaterial.prototype.copy","ShadowMaterial","THREE.ShadowMaterial","UniformsLib","ShaderChunk","THREE.Texture","encoding","TextureIdCount","sourceFile","DEFAULT_IMAGE","DEFAULT_MAPPING","premultiplyAlpha","flipY","unpackAlignment","toDataURL","canvas","getContext","drawImage","transformUv","DepthTexture","THREE.DepthTexture","CanvasTexture","THREE.CanvasTexture","THREE.CubeTexture","THREE.CompressedTexture","THREE.DataTexture","VideoTexture","THREE.VideoTexture","video","requestAnimationFrame","readyState","HAVE_CURRENT_DATA","THREE.Group","THREE.Points","inverseMatrix","testPoint","rayPointDistanceSq","localThresholdSq","intersectPoint","distanceToRay","localThreshold","THREE.Line","LineSegments","precisionSq","vStart","vEnd","interSegment","interRay","step","distSq","faceIndex","nbVertices","THREE.LineSegments","THREE.Mesh","drawMode","updateMorphTargets","setDrawMode","morphTargetBase","morphTargetInfluences","morphTargetDictionary","ml","getMorphTargetIndexByName","uvIntersection","uv1","uv3","barycoord","checkIntersection","intersectionPointWorld","checkBufferGeometryIntersection","intersection","intersectionPoint","uvA","uvB","uvC","tempA","tempB","tempC","isFaceMaterial","faceMaterial","fvA","fvB","fvC","morphInfluences","tl","influence","targets","uvs_f","Bone","THREE.Bone","skin","Skeleton","THREE.Skeleton","boneInverses","useVertexTexture","identityMatrix","boneTextureHeight","boneTextureWidth","boneMatrices","boneTexture","calculateInverses","bl","pose","offsetMatrix","THREE.SkinnedMesh","bindMode","bindMatrix","bindMatrixInverse","gbone","pos","rotq","scl","normalizeSkinWeights","sw","vec","skinWeight","THREE.LOD","getObjectForDistance","matrixPosition","THREE.Sprite","LensFlare","THREE.LensFlare","lensFlares","positionScreen","customUpdateCallback","updateLensFlares","vecX","vecY","flare","wantedRotation","THREE.Scene","overrideMaterial","autoUpdate","THREE.Scene.prototype.copy","Fog","THREE.Fog","THREE.Fog.prototype.clone","FogExp2","THREE.FogExp2","density","THREE.FogExp2.prototype.clone","merged","uniforms_src","uniforms_dst","parameter_src","common","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","properties","ShaderLib","WebGLRenderer","THREE.WebGLRenderer","glClearColor","_premultipliedAlpha","state","clearColor","setDefaultGLState","init","scissor","_currentScissor","_scissor","_pixelRatio","viewport","_currentViewport","_viewport","_clearColor","_clearAlpha","resetGLState","_currentCamera","_currentProgram","_currentGeometryProgram","_currentMaterialId","onContextLost","preventDefault","onTextureDispose","textureProperties","__image__webglTextureCube","_gl","deleteTexture","__webglInit","__webglTexture","delete","_infoMemory","onRenderTargetDispose","renderTargetProperties","depthTexture","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","onMaterialDispose","releaseMaterialProgramReference","programInfo","program","programCache","releaseProgram","absNumericalSort","painterSortStable","reversePainterSortStable","pushRenderItem","transparentObjects","transparentObjectsLastIndex","opaqueObjects","opaqueObjectsLastIndex","renderItem","_vector3","isSphereViewable","_frustum","numPlanes","_clipping","_this","negRad","projectObject","_sphere","sprites","ImmediateRenderObject","sortObjects","_projScreenMatrix","groupMaterial","renderObjects","renderList","setMaterial","setProgram","renderBufferImmediate","renderBufferDirect","CULL_FACE","setFlipSided","setBlending","setDepthFunc","setDepthTest","setDepthWrite","setColorWrite","setPolygonOffset","_usedTextureUnits","materialProperties","_clippingEnabled","_localClippingEnabled","setState","numClippingPlanes","lightsHash","_lights","getParameters","code","getProgramCode","programChange","shaderID","shader","__webglShader","acquireProgram","getAttributes","numSupportedMorphTargets","maxMorphTargets","numSupportedMorphNormals","maxMorphNormals","uniform","ambientLightColor","ambient","directionalLights","directional","spotLights","spot","pointLights","hemisphereLights","hemi","directionalShadowMap","directionalShadowMatrix","spotShadowMap","spotShadowMatrix","pointShadowMap","pointShadowMatrix","progUniforms","getUniforms","uniformsList","WebGLUniforms","seqWithValue","seq","dynamicUniforms","splitDynamic","refreshProgram","refreshLights","refreshMaterial","p_uniforms","m_uniforms","useProgram","capabilities","logarithmicDepthBuffer","uCamPos","cameraPosition","setOptional","floatVertexTextures","fogColor","fogNear","fogFar","fogDensity","diffuse","uvScaleMap","WebGLRenderTarget","offsetRepeat","flipEnvMap","totalSize","_canvas","clientHeight","refreshUniformsStandard","upload","dynUniforms","evalDynamic","setTextureParameters","textureType","isPowerOfTwoImage","texParameteri","TEXTURE_WRAP_S","paramThreeToGL","TEXTURE_WRAP_T","TEXTURE_MAG_FILTER","TEXTURE_MIN_FILTER","CLAMP_TO_EDGE","filterFallback","extension","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","getMaxAnisotropy","clampToMaxSize","maxSize","setupFrameBufferTexture","framebuffer","attachment","textureTarget","glFormat","glType","texImage2D","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","bindRenderbuffer","RENDERBUFFER","depthBuffer","stencilBuffer","renderbufferStorage","DEPTH_COMPONENT16","framebufferRenderbuffer","DEPTH_ATTACHMENT","DEPTH_STENCIL","DEPTH_STENCIL_ATTACHMENT","RGBA4","NEAREST","LINEAR","REPEAT","MIRRORED_REPEAT","NEAREST_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_NEAREST","LINEAR_MIPMAP_LINEAR","UNSIGNED_BYTE","UNSIGNED_SHORT_4_4_4_4","UNSIGNED_SHORT_5_5_5_1","UNSIGNED_SHORT_5_6_5","BYTE","SHORT","UNSIGNED_SHORT","INT","UNSIGNED_INT","FLOAT","HALF_FLOAT_OES","ALPHA","RGB","RGBA","LUMINANCE","LUMINANCE_ALPHA","DEPTH_COMPONENT","FUNC_ADD","FUNC_SUBTRACT","FUNC_REVERSE_SUBTRACT","ZERO","ONE","SRC_COLOR","ONE_MINUS_SRC_COLOR","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","DST_ALPHA","ONE_MINUS_DST_ALPHA","DST_COLOR","ONE_MINUS_DST_COLOR","SRC_ALPHA_SATURATE","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","MIN_EXT","MAX_EXT","_context","_alpha","_depth","_stencil","stencil","_antialias","antialias","_preserveDrawingBuffer","preserveDrawingBuffer","domElement","autoClearStencil","autoClearDepth","autoClearColor","autoClear","localClippingEnabled","physicallyCorrectLights","gammaOutput","gammaInput","toneMapping","toneMappingWhitePoint","toneMappingExposure","autoScaleCubemaps","_currentRenderTarget","_currentFramebuffer","_currentScissorTest","_width","_height","_scissorTest","WebGLClipping","shadows","_infoRender","calls","info","memory","programs","getShaderPrecisionFormat","_gl.getShaderPrecisionFormat","_isWebGL2","WebGL2RenderingContext","WebGLExtensions","WebGLCapabilities","WebGLState","WebGLProperties","WebGLObjects","WebGLPrograms","lightCache","WebGLLights","bufferRenderer","WebGLBufferRenderer","indexedBufferRenderer","WebGLIndexedBufferRenderer","shadowMap","WebGLShadowMap","spritePlugin","SpritePlugin","lensFlarePlugin","LensFlarePlugin","this.getContext","getContextAttributes","this.getContextAttributes","forceContextLoss","this.forceContextLoss","loseContext","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getPrecision","this.getPrecision","getPixelRatio","this.getPixelRatio","setPixelRatio","this.setPixelRatio","setSize","getSize","this.getSize","this.setSize","updateStyle","setViewport","this.setViewport","setScissor","this.setScissor","setScissorTest","this.setScissorTest","boolean","getClearColor","this.getClearColor","setClearColor","this.setClearColor","getClearAlpha","this.getClearAlpha","setClearAlpha","this.setClearAlpha","this.clear","bits","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT","this.clearColor","clearDepth","this.clearDepth","clearStencil","this.clearStencil","clearTarget","this.clearTarget","this.dispose","this.renderBufferImmediate","initAttributes","buffers","hasPositions","createBuffer","hasNormals","hasUvs","hasColors","bindBuffer","ARRAY_BUFFER","bufferData","positionArray","DYNAMIC_DRAW","enableAttribute","vertexAttribPointer","normalArray","nx","ny","nz","uvArray","colorArray","disableUnusedAttributes","drawArrays","TRIANGLES","this.renderBufferDirect","updateBuffers","geometryProgram","activeInfluences","getWireframeAttribute","startIndex","geometryAttributes","programAttributes","materialDefaultAttributeValues","programAttribute","geometryAttribute","getAttributeBuffer","enableAttributeAndDivisor","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","ELEMENT_ARRAY_BUFFER","dataCount","rangeStart","groupStart","drawStart","dataStart","drawCount","groupCount","setLineWidth","setMode","LINES","TRIANGLE_STRIP","TRIANGLE_FAN","lineWidth","LINE_STRIP","POINTS","renderInstances","this.render","forceClear","beginShadows","lightShadowsLength","viewMatrix","directionalLength","pointLength","spotLength","hemiLength","ll","shadowBias","shadowRadius","shadowMapSize","coneCos","penumbraCos","endShadows","TEXTURE_CUBE_MAP","TEXTURE_2D","bindTexture","generateMipmap","setFaceCulling","this.setFaceCulling","cullFace","frontFaceDirection","setCullFace","allocTextureUnit","textureUnit","maxTextures","setTexture2D","warned","slot","__version","complete","createTexture","activeTexture","TEXTURE0","pixelStorei","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_ALIGNMENT","maxTextureSize","HTMLImageElement","HTMLCanvasElement","internalFormat","DEPTH_COMPONENT32F","mipmap","getCompressedTextureFormats","compressedTexImage2D","setTexture","setTextureCube","isCompressed","isDataTexture","cubeImage","maxCubemapSize","TEXTURE_CUBE_MAP_POSITIVE_X","getCurrentRenderTarget","this.getCurrentRenderTarget","this.setRenderTarget","isCube","isTargetPowerOfTwo","createFramebuffer","COLOR_ATTACHMENT0","webglDepthTexture","createRenderbuffer","scissorTest","activeMipMapLevel","readRenderTargetPixels","this.readRenderTargetPixels","restore","IMPLEMENTATION_COLOR_READ_FORMAT","IMPLEMENTATION_COLOR_READ_TYPE","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","readPixels","THREE.WebGLRenderTarget","THREE.WebGLRenderTargetCube","THREE.WebGLBufferRenderer","drawArraysInstancedANGLE","THREE.WebGLClipping","resetGlobalState","globalState","numGlobalPlanes","projectPlanes","skipTransform","nPlanes","dstArray","flatSize","viewNormalMatrix","i4","renderingShadows","this.init","enableLocalClipping","this.beginShadows","this.endShadows","this.setState","fromCache","nGlobal","lGlobal","clippingState","THREE.WebGLIndexedBufferRenderer","drawElements","drawElementsInstancedANGLE","THREE.WebGLExtensions","gl","this.get","getExtension","THREE.WebGLCapabilities","getMaxPrecision","VERTEX_SHADER","HIGH_FLOAT","FRAGMENT_SHADER","MEDIUM_FLOAT","MAX_TEXTURE_IMAGE_UNITS","maxVertexTextures","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE","maxAttributes","MAX_VERTEX_ATTRIBS","maxVertexUniforms","MAX_VERTEX_UNIFORM_VECTORS","maxVaryings","MAX_VARYING_VECTORS","maxFragmentUniforms","MAX_FRAGMENT_UNIFORM_VECTORS","vertexTextures","floatFragmentTextures","_maxPrecision","WebGLGeometries","THREE.WebGLGeometries","onGeometryDispose","buffergeometry","deleteAttribute","property","bufferproperty","__webglBuffer","deleteBuffer","_bufferGeometry","THREE.WebGLLights","THREE.WebGLObjects","updateAttribute","attributeProperties","usage","STATIC_DRAW","bufferSubData","checkEdge","edges","list","WebGLProgram","getEncodingComponents","getTexelDecodingFunction","functionName","getTexelEncodingFunction","getToneMappingFunction","toneMappingName","generateExtensions","rendererExtensions","envMapCubeUV","flatShading","filterEmptyLine","generateDefines","replaceLightNums","replace","numDirLights","numSpotLights","numPointLights","numHemiLights","parseIncludes","include","unrollLoops","snippet","unroll","programIdCount","shadowMapTypeDefine","shadowMapType","envMapTypeDefine","envMapModeDefine","envMapBlendingDefine","gammaFactorDefine","customExtensions","customDefines","createProgram","prefixFragment","prefixVertex","supportsVertexTextures","maxBones","doubleSided","flipSided","shadowMapEnabled","useFog","fogExp","outputEncoding","mapEncoding","envMapEncoding","emissiveMapEncoding","fragmentGlsl","glVertexShader","WebGLShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","programLog","getProgramInfoLog","vertexLog","getShaderInfoLog","fragmentLog","haveDiagnostics","runnable","getProgramParameter","LINK_STATUS","getError","VALIDATE_STATUS","diagnostics","prefix","deleteShader","cachedUniforms","this.getUniforms","cachedAttributes","this.getAttributes","ACTIVE_ATTRIBUTES","getActiveAttrib","getAttribLocation","destroy","this.destroy","deleteProgram","usedTimes","THREE.WebGLPrograms","getTextureEncodingFromMap","gammaOverrideLinear","shaderIDs","parameterNames","this.getParameters","nClipPlanes","nVertexMatrices","currentRenderTarget","envMapMode","this.getProgramCode","this.acquireProgram","pl","this.releaseProgram","THREE.WebGLProperties","this.delete","addLineNumbers","lines","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","THREE.WebGLShadowMap","_renderer","getDepthMaterial","isPointLight","lightPositionWorld","materialVariants","_depthMaterials","customMaterial","customDepthMaterial","_distanceMaterials","customDistanceMaterial","useSkinning","variantIndex","_MorphingFlag","_SkinningFlag","keyA","keyB","materialsForVariant","_materialCache","cachedMaterial","renderSingleSided","renderReverseSided","lightPos","shadowCamera","_renderList","_state","_lightShadows","_shadowMapSize","_lookTarget","_lightPositionWorld","_NumberOfMaterialVariants","cubeDirections","cubeUps","cube2DViewPorts","depthMaterialTemplate","distanceShader","distanceUniforms","useMorphing","depthMaterial","distanceMaterial","BLEND","faceCount","vpWidth","vpHeight","pars","shadowMatrix","vpDimensions","clearAlpha","THREE.WebGLState","WebGLColorBuffer","WebGLDepthBuffer","WebGLStencilBuffer","maxVertexAttributes","newAttributes","enabledAttributes","attributeDivisors","compressedTextureFormats","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","currentScissorTest","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","emptyTextures","DEPTH_TEST","this.initAttributes","this.enableAttribute","enableVertexAttribArray","vertexAttribDivisorANGLE","this.enableAttributeAndDivisor","this.disableUnusedAttributes","disableVertexAttribArray","this.enable","this.disable","this.getCompressedTextureFormats","formats","COMPRESSED_TEXTURE_FORMATS","this.setBlending","blendEquationSeparate","blendFuncSeparate","blendFunc","this.setColorWrite","setMask","this.setDepthTest","setTest","this.setDepthWrite","this.setDepthFunc","setFunc","setStencilTest","this.setStencilTest","stencilTest","setStencilWrite","this.setStencilWrite","stencilWrite","setStencilFunc","this.setStencilFunc","stencilFunc","stencilRef","stencilMask","setStencilOp","this.setStencilOp","stencilFail","stencilZFail","stencilZPass","setOp","this.setFlipSided","frontFace","CW","CCW","this.setCullFace","BACK","FRONT","FRONT_AND_BACK","this.setLineWidth","this.setPolygonOffset","factor","units","POLYGON_OFFSET_FILL","getScissorTest","this.getScissorTest","SCISSOR_TEST","this.activeTexture","webglSlot","this.bindTexture","webglType","webglTexture","boundTexture","this.compressedTexImage2D","this.texImage2D","setClear","this.scissor","this.viewport","this.reset","THREE.WebGLColorBuffer","locked","currentColorMask","currentColorClear","this.setMask","colorMask","setLocked","this.setLocked","lock","this.setClear","THREE.WebGLDepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","this.setTest","depthMask","this.setFunc","NEVER","ALWAYS","LESS","LEQUAL","EQUAL","GEQUAL","GREATER","NOTEQUAL","THREE.WebGLStencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","STENCIL_TEST","this.setOp","stencilOp","arrayCacheF32","arrayCacheI32","flatten","nBlocks","blockSize","firstElem","allocTexUnits","setValue1f","uniform1f","addr","setValue1i","uniform1i","setValue2fv","uniform2fv","uniform2f","setValue3fv","uniform3f","uniform3fv","setValue4fv","uniform4fv","uniform4f","setValue2fm","uniformMatrix2fv","setValue3fm","uniformMatrix3fv","setValue4fm","uniformMatrix4fv","setValueT1","unit","setValueT6","setValue2iv","uniform2iv","setValue3iv","uniform3iv","setValue4iv","uniform4iv","getSingularSetter","setValue1fv","uniform1fv","setValue1iv","uniform1iv","setValueV2a","setValueV3a","setValueV4a","setValueM2a","setValueM3a","setValueM4a","setValueT1a","tex","setValueT6a","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","StructuredUniform","StructuredUniform.prototype.setValue","RePathPart","ACTIVE_UNIFORMS","getActiveUniform","getUniformLocation","pathLength","matchEnd","subscript","container","uniformObject","next","WebGLUniforms.prototype.setValue","WebGLUniforms.prototype.set","WebGLUniforms.prototype.setOptional","WebGLUniforms.upload","WebGLUniforms.seqWithValue","WebGLUniforms.splitDynamic","WebGLUniforms.evalDynamic","THREE.LensFlarePlugin","flares","vertexBuffer","elementBuffer","tempTexture","occlusionTexture","tempPosition","invAspect","halfViewportWidth","halfViewportHeight","screenPosition","screenPositionPixels","validArea","occlusionMap","TEXTURE1","copyTexImage2D","renderType","THREE.SpritePlugin","spritePosition","spriteRotation","spriteScale","fillStyle","fillRect","sceneFogType","oldFogType","fogType","uvOffset","uvScale","Face4","LineStrip","LinePieces","MeshFaceMaterial","Particle","ParticleSystem","PointCloudMaterial","ParticleBasicMaterial","ParticleSystemMaterial","Vertex","isIntersectionBox","isIntersectionSphere","multiplyVector3","multiplyVector3Array","extractPosition","multiplyVector4","rotateAxis","crossVector","rotateByAxis","isIntersectionLine","isIntersectionPlane","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","getChildByName","renderDepth","eulerOrder","useQuaternion","setLens","THREE.PerspectiveCamera.prototype.setLens","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraNear","shadowCameraFar","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","addIndex","addDrawCall","indexOffset","clearDrawCalls","computeOffsets","wrapAround","wrapRGB","metal","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","initMaterial","addPrePlugin","addPostPlugin","updateShadowMap","shadowMapCullFace","audioLoader","getData","GeometryUtils","geometry1","ImageUtils","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","Projector","THREE.Projector","projectVector","this.projectVector","unprojectVector","this.unprojectVector","pickingRay","this.pickingRay","CanvasRenderer","THREE.CanvasRenderer","CurveUtils","tangentQuadraticBezier","tangentCubicBezier","tangentSpline","SceneUtils","createMultiMaterialObject","detach","attach","ShapeUtils","contour","triangulate","verts","vertIndices","nv","aX","aY","bX","bY","cX","cY","px","py","apx","apy","bpx","bpy","aCROSSbp","cCROSSap","bCROSScp","cpy","cpx","triangulateShape","holes","point_in_segment_2D_colin","inSegPt1","inSegPt2","inOtherPt","intersect_segments_2D","inSeg1Pt1","inSeg1Pt2","inSeg2Pt1","inSeg2Pt2","inExcludeAdjacentSegs","seg1dx","seg1dy","seg2dx","seg2dy","seg1seg2dx","seg1seg2dy","limit","perpSeg1","perpSeg2","factorSeg1","seg1Pt","seg2Pt","seg1min","seg1minVal","seg1max","seg1maxVal","seg2min","seg2minVal","seg2max","seg2maxVal","isPointInsideAngle","inVertex","inLegFromPt","inLegToPt","legFromPtX","legFromPtY","legToPtX","legToPtY","otherPtX","otherPtY","from2toAngle","from2otherAngle","other2toAngle","allPointsMap","allpoints","hl","shapeWithoutHoles","removeHoles","isCutLineInsideAngles","inShapeIdx","inHoleIdx","lastShapeIdx","shape","prevShapeIdx","nextShapeIdx","insideAngle","hole","lastHoleIdx","prevHoleIdx","nextHoleIdx","intersectsShapeEdge","inShapePt","inHolePt","sIdx","nextIdx","intersectsHoleEdge","ihIdx","hIdx","indepHoles","chkHole","holeIndex","shapeIndex","failedCuts","tmpHole1","minShapeIndex","counter","shapePt","holeIdx","cutKey","h2","holePt","tmpShape1","tmpShape2","tmpHole2","triangles","isClockWise","pts","b3","Curve","THREE.Curve","getPointAt","getUtoTmapping","getPoints","divisions","getSpacedPoints","lengths","getLengths","__arcLengthDivisions","cacheArcLengths","sum","current","updateArcLengths","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","getTangent","pt1","pt2","getTangentAt","THREE.Curve.create","getPointFunc","CurvePath","THREE.CurvePath","curves","autoClose","curve","closePath","startPoint","endPoint","LineCurve","curveLengths","getCurveLengths","lens","cacheLengths","sums","createPointsGeometry","createGeometry","createSpacedPointsGeometry","THREE.Font","generateShapes","String","resolution","laste","glyph","glyphs","Path","o","outline","_cachedOutline","moveTo","lineTo","cpx1","cpy1","quadraticCurveTo","cpx0","cpy0","cpx2","cpy2","bezierCurveTo","ha","ret","shapes","toShapes","THREE.Path","fromPoints","args","lastargs","aCPx","aCPy","QuadraticBezierCurve","aCP1x","aCP1y","aCP2x","aCP2y","CubicBezierCurve","splineThru","npts","SplineCurve","aRadius","aStartAngle","aEndAngle","aClockwise","absarc","absellipse","ellipse","xRadius","yRadius","aRotation","EllipseCurve","lastPoint","item","spts","spline","deltaAngle","tdivisions","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","Shape","isPointInsidePolygon","inPt","inPolygon","polyLen","inside","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","subPaths","extractSubpaths","inActions","lastPath","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","tmpPoints","solid","ambiguous","toChange","sLen","sho","ho","hole_unassigned","s2Idx","froms","tos","tmpHoles","THREE.Shape","extrude","ExtrudeGeometry","makeGeometry","ShapeGeometry","getPointsHoles","holesPts","extractAllPoints","extractPoints","THREE.LineCurve","THREE.LineCurve.prototype.getPoint","THREE.LineCurve.prototype.getPointAt","THREE.LineCurve.prototype.getTangent","tangent","THREE.QuadraticBezierCurve","THREE.QuadraticBezierCurve.prototype.getPoint","THREE.QuadraticBezierCurve.prototype.getTangent","THREE.CubicBezierCurve","THREE.CubicBezierCurve.prototype.getPoint","THREE.CubicBezierCurve.prototype.getTangent","THREE.SplineCurve","THREE.SplineCurve.prototype.getPoint","point0","point1","point2","point3","THREE.EllipseCurve","THREE.EllipseCurve.prototype.getPoint","ArcCurve","THREE.ArcCurve","LineCurve3","QuadraticBezierCurve3","CubicBezierCurve3","SplineCurve3","CatmullRomCurve3","CubicPoly","pz","CubicPoly.prototype.init","c0","initNonuniformCatmullRom","CubicPoly.prototype.initNonuniformCatmullRom","x3","dt0","dt1","dt2","initCatmullRom","CubicPoly.prototype.initCatmullRom","tension","calc","CubicPoly.prototype.calc","closed","ClosedSplineCurve3","THREE.ClosedSplineCurve3","BoxGeometry","THREE.BoxGeometry","BoxBufferGeometry","CubeGeometry","THREE.BoxBufferGeometry","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","vertexBufferOffset","uvBufferOffset","numberOfVertices","indexBufferOffset","vertexCount","calculateVertexCount","indexCount","calculateIndexCount","CircleGeometry","THREE.CircleGeometry","CircleBufferGeometry","THREE.CircleBufferGeometry","ii","segment","CylinderBufferGeometry","THREE.CylinderBufferGeometry","generateCap","centerIndexStart","halfHeight","centerIndexEnd","cosTheta","sinTheta","nbCap","indexArray","generateTorso","tanTheta","indexRow","i3","CylinderGeometry","THREE.CylinderGeometry","ConeBufferGeometry","THREE.ConeBufferGeometry","ConeGeometry","THREE.ConeGeometry","EdgesGeometry","THREE.EdgesGeometry","thresholdAngle","sortFunction","thresholdDot","edge","vert1","vert2","face1","face2","THREE.ExtrudeGeometry","addShapeList","THREE.ExtrudeGeometry.prototype.addShapeList","addShape","THREE.ExtrudeGeometry.prototype.addShape","scalePt2","pt","getBevelVec","inPrev","inNext","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","sf","v_trans_x","v_trans_y","v_trans_lensq","shrink_by","direction_eq","sidewalls","layeroffset","steps","bevelSegments","slen1","vlen","slen2","shapesOffset","uvgen","generateSideWallUV","f3","generateTopUV","amount","bevelThickness","bevelSize","bevelEnabled","curveSegments","extrudePath","extrudeByPath","UVGenerator","WorldUVGenerator","extrudePts","splineTube","frames","TubeGeometry","FrenetFrames","binormal","position2","shapePoints","reverse","ahole","bs","flen","contourMovements","holesMovements","verticesMovements","oneHoleMovements","vert","binormals","buildLidFaces","layer","buildSideFaces","indexA","indexB","indexC","indexD","THREE.ShapeGeometry","THREE.ShapeGeometry.prototype.addShapeList","THREE.ShapeGeometry.prototype.addShape","LatheBufferGeometry","THREE.LatheBufferGeometry","inverseSegments","base","n1","n2","LatheGeometry","THREE.LatheGeometry","PlaneGeometry","THREE.PlaneGeometry","PlaneBufferGeometry","THREE.PlaneBufferGeometry","width_half","height_half","segment_width","segment_height","offset2","RingBufferGeometry","THREE.RingBufferGeometry","radiusStep","thetaSegmentLevel","RingGeometry","THREE.RingGeometry","SphereGeometry","THREE.SphereGeometry","SphereBufferGeometry","THREE.SphereBufferGeometry","thetaEnd","verticesRow","v4","TextGeometry","THREE.TextGeometry","TorusBufferGeometry","THREE.TorusBufferGeometry","TorusGeometry","THREE.TorusGeometry","TorusKnotBufferGeometry","THREE.TorusKnotBufferGeometry","calculatePositionOnCurve","su","quOverP","cs","cu","P1","P2","B","T","N","TorusKnotGeometry","THREE.TorusKnotGeometry","heightScale","THREE.TubeGeometry","taper","NoTaper","grid","numpoints","pos2","tangents","ip","jp","uva","uvb","uvc","uvd","THREE.TubeGeometry.NoTaper","SinusoidalTaper","THREE.TubeGeometry.SinusoidalTaper","THREE.TubeGeometry.FrenetFrames","mat","smallest","MAX_VALUE","tz","PolyhedronGeometry","THREE.PolyhedronGeometry","prepare","that","make","centroid","azi","correctUV","subdivide","cols","aj","bj","rows","azimuth","DodecahedronGeometry","THREE.DodecahedronGeometry","IcosahedronGeometry","THREE.IcosahedronGeometry","OctahedronGeometry","THREE.OctahedronGeometry","TetrahedronGeometry","THREE.TetrahedronGeometry","ParametricGeometry","THREE.ParametricGeometry","func","slices","stacks","sliceCount","WireframeGeometry","THREE.WireframeGeometry","numEdges","ol","numTris","AxisHelper","THREE.AxisHelper","ArrowHelper","lineGeometry","coneGeometry","headLength","headWidth","cone","setDirection","THREE.ArrowHelper.prototype.setLength","setColor","THREE.ArrowHelper.prototype.setColor","BoxHelper","THREE.BoxHelper","BoundingBoxHelper","THREE.BoundingBoxHelper","THREE.BoundingBoxHelper.prototype.update","CameraHelper","THREE.CameraHelper","addLine","addPoint","pointMap","hexFrustum","hexCone","hexUp","hexTarget","hexCross","setPoint","DirectionalLightHelper","THREE.DirectionalLightHelper","THREE.DirectionalLightHelper.prototype.dispose","lightPlane","targetLine","EdgesHelper","THREE.EdgesHelper","FaceNormalsHelper","THREE.FaceNormalsHelper","nNormals","objGeometry","GridHelper","THREE.GridHelper","setColors","THREE.GridHelper.prototype.setColors","HemisphereLightHelper","THREE.HemisphereLightHelper","sphereSize","lightSphere","THREE.HemisphereLightHelper.prototype.dispose","PointLightHelper","THREE.PointLightHelper","THREE.PointLightHelper.prototype.dispose","THREE.PointLightHelper.prototype.update","SkeletonHelper","THREE.SkeletonHelper","getBoneList","THREE.SkeletonHelper.prototype.getBoneList","boneList","THREE.SkeletonHelper.prototype.update","matrixWorldInv","boneMatrix","SpotLightHelper","THREE.SpotLightHelper","THREE.SpotLightHelper.prototype.dispose","vector2","coneLength","coneWidth","VertexNormalsHelper","THREE.VertexNormalsHelper","objPos","objNorm","WireframeHelper","THREE.WireframeHelper","THREE.ImmediateRenderObject","renderCallback","MorphBlendMesh","THREE.MorphBlendMesh","animationsMap","animationsList","numFrames","createAnimation","startFrame","setAnimationWeight","THREE.MorphBlendMesh.prototype.createAnimation","lastFrame","currentFrame","active","directionBackwards","mirroredLoop","autoCreateAnimations","THREE.MorphBlendMesh.prototype.autoCreateAnimations","firstAnimation","frameRanges","morph","setAnimationDirectionForward","THREE.MorphBlendMesh.prototype.setAnimationDirectionForward","setAnimationDirectionBackward","THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward","setAnimationFPS","THREE.MorphBlendMesh.prototype.setAnimationFPS","setAnimationDuration","THREE.MorphBlendMesh.prototype.setAnimationDuration","THREE.MorphBlendMesh.prototype.setAnimationWeight","setAnimationTime","THREE.MorphBlendMesh.prototype.setAnimationTime","getAnimationTime","THREE.MorphBlendMesh.prototype.getAnimationTime","getAnimationDuration","THREE.MorphBlendMesh.prototype.getAnimationDuration","playAnimation","THREE.MorphBlendMesh.prototype.playAnimation","stopAnimation","THREE.MorphBlendMesh.prototype.stopAnimation","THREE.MorphBlendMesh.prototype.update","keyframe","mix"]
}
